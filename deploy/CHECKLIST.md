# 监控系统部署检查清单

## 部署前检查

### 系统环境

- [ ] 操作系统支持 (macOS 10.15+ 或 Linux Ubuntu 18.04+)
- [ ] Docker 20.10+ 已安装并运行
- [ ] Docker Compose 2.0+ 已安装
- [ ] 至少 4GB 可用内存
- [ ] 至少 10GB 可用磁盘空间
- [ ] 网络连接正常（可访问 Docker Hub）

### 项目准备

- [ ] 项目代码已克隆到本地
- [ ] 在 deploy 目录下运行脚本
- [ ] 已配置.env 文件
- [ ] 已设置必要的环境变量

## 部署过程检查

### 环境检查

- [ ] Docker 服务状态正常
- [ ] 端口 3306, 6379, 8123, 3000, 3001 未被占用
- [ ] 环境变量配置正确

### 镜像构建

- [ ] server 镜像构建成功
- [ ] admin 镜像构建成功
- [ ] 无构建错误

### 服务启动

- [ ] MySQL 服务启动成功
- [ ] ClickHouse 服务启动成功
- [ ] Redis 服务启动成功
- [ ] Server 服务启动成功
- [ ] Admin 服务启动成功

### 健康检查

- [ ] MySQL 端口 3306 可访问
- [ ] ClickHouse 端口 8123 可访问
- [ ] Redis 端口 6379 可访问
- [ ] Server 端口 3000 可访问
- [ ] Admin 端口 3001 可访问

## 部署后验证

### 基础功能

- [ ] 管理后台可正常访问 (http://localhost:3001)
- [ ] API 文档可正常访问 (http://localhost:3000/api/docs)
- [ ] Redis 管理界面可访问 (http://localhost:8081)

### 数据库连接

- [ ] MySQL 数据库连接正常
- [ ] ClickHouse 数据库连接正常
- [ ] Redis 连接正常
- [ ] 数据库迁移执行成功

### 应用功能

- [ ] 用户注册/登录功能正常
- [ ] 项目创建功能正常
- [ ] 错误上报功能正常
- [ ] 源代码映射功能正常

## 监控工具检查（可选）

### Prometheus

- [ ] Prometheus 服务启动成功
- [ ] 端口 9090 可访问
- [ ] 指标收集正常

### Grafana

- [ ] Grafana 服务启动成功
- [ ] 端口 3002 可访问
- [ ] 可正常登录 (admin/admin123)
- [ ] Prometheus 数据源配置正确

## 性能检查

### 资源使用

- [ ] 内存使用在合理范围内
- [ ] CPU 使用率正常
- [ ] 磁盘 I/O 正常
- [ ] 网络连接稳定

### 响应时间

- [ ] 页面加载时间 < 3 秒
- [ ] API 响应时间 < 1 秒
- [ ] 数据库查询时间 < 500ms

## 安全检查

### 基础安全

- [ ] 默认密码已修改
- [ ] JWT 密钥已设置
- [ ] 数据库密码已修改
- [ ] 不必要的端口已关闭

### 网络安全

- [ ] 防火墙配置正确
- [ ] 只开放必要端口
- [ ] 生产环境使用 HTTPS

## 备份和恢复

### 数据备份

- [ ] 数据库备份策略已制定
- [ ] 配置文件备份
- [ ] 存储文件备份
- [ ] 备份恢复测试通过

### 监控告警

- [ ] 系统监控已配置
- [ ] 关键指标告警已设置
- [ ] 告警通知渠道已配置

## 故障排除

### 常见问题

- [ ] 端口冲突已解决
- [ ] 内存不足已处理
- [ ] 数据库连接问题已解决
- [ ] 镜像构建失败已处理

### 日志分析

- [ ] 应用日志正常记录
- [ ] 错误日志可正常查看
- [ ] 性能日志已配置

## 部署完成确认

### 功能验证

- [ ] 所有核心功能正常工作
- [ ] 用户界面响应正常
- [ ] 数据存储和查询正常
- [ ] 错误监控功能正常

### 文档和培训

- [ ] 用户手册已准备
- [ ] 管理员培训已完成
- [ ] 故障排除指南已编写
- [ ] 联系支持渠道已建立

---

## 检查结果

- **总检查项**: **_ / _**
- **通过**: **_ / _**
- **失败**: **_ / _**
- **跳过**: **_ / _**

## 备注

记录部署过程中的特殊情况和注意事项：

---

---

---

## 检查人员

- **检查人**: ********\_********
- **检查时间**: ********\_********
- **下次检查**: ********\_********
