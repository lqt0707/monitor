{"version":3,"file":"common.js","mappings":"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","sources":["webpack://taromini/.._.._sdk_taro-core_dist_index.esm.js"],"sourcesContent":["function e(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}function t(){return Date.now()}function r(){return`session_${Date.now().toString(36)}_${Math.random().toString(36).substr(2,9)}`}function o(e){if(!e)return null;if(e instanceof Error)return{name:e.name,message:e.message,stack:e.stack,...Object.getOwnPropertyNames(e).reduce((t,r)=>([\"name\",\"message\",\"stack\"].includes(r)||(t[r]=e[r]),t),{})};if(\"string\"==typeof e)return{message:e};try{return JSON.parse(JSON.stringify(e))}catch(t){return{message:String(e)}}}class n{constructor(e,t){this.dataQueue=[],this.isInitialized=!1,this.isEnabled=!0,this.listeners=new Map,this.config=this.mergeConfig(e),this.platformAdapter=t,this.sessionId=r()}mergeConfig(e){return this.deepMerge({enableInDev:!1,sampleRate:1,error:{enabled:!0,maxErrors:100,filters:[],sampleRate:1},performance:{enabled:!0,maxPerformance:100,enableResourceTiming:!0,enableUserTiming:!0},behavior:{enabled:!0,maxBehaviors:200,autoTrackClick:!0,autoTrackPageView:!0},report:{interval:1e4,maxQueueSize:500,batchSize:20,timeout:5e3,maxRetries:3,retryDelay:2e3,enableOfflineCache:!0}},e)}deepMerge(e,t){const r={...e};for(const o in t)t.hasOwnProperty(o)&&(\"object\"!=typeof t[o]||null===t[o]||Array.isArray(t[o])?r[o]=t[o]:r[o]=this.deepMerge(e[o]||{},t[o]));return r}async init(){if(!this.isInitialized)if(this.shouldEnable())try{await this.platformAdapter.init(this.config),this.initErrorMonitor(),this.initPerformanceMonitor(),this.initBehaviorMonitor(),this.startReportTimer(),this.isInitialized=!0,this.emit(\"init\",this.getStatus())}catch(e){throw this.emit(\"error\",e),e}else this.isEnabled=!1}shouldEnable(){return!(this.isDevelopment()&&!this.config.enableInDev)&&!(Math.random()>(this.config.sampleRate||1))}isDevelopment(){return(\"undefined\"==typeof process||!process.env)&&(\"undefined\"!=typeof globalThis&&void 0!==globalThis.location&&(\"localhost\"===globalThis.location.hostname||\"127.0.0.1\"===globalThis.location.hostname))}initErrorMonitor(){var e;(null===(e=this.config.error)||void 0===e?void 0:e.enabled)&&this.platformAdapter.errorCapture.initErrorListeners(e=>{this.addToQueue(e),this.emit(\"error\",e)})}initPerformanceMonitor(){var e;(null===(e=this.config.performance)||void 0===e?void 0:e.enabled)&&this.platformAdapter.performance.initPerformanceMonitor(e=>{this.addToQueue(e),this.emit(\"performance\",e)})}initBehaviorMonitor(){var e;(null===(e=this.config.behavior)||void 0===e?void 0:e.enabled)&&this.platformAdapter.behavior.initBehaviorMonitor(e=>{this.addToQueue(e),this.emit(\"behavior\",e)})}addToQueue(e){var t;if(!this.isEnabled)return;e.projectId=this.config.projectId,e.userId=this.config.userId,e.sessionId=this.sessionId,e.platform=this.platformAdapter.platformInfo.platform,this.config.projectVersion&&(e.projectVersion=this.config.projectVersion),this.config.tags&&(e.tags={...e.tags,...this.config.tags});const r=(null===(t=this.config.report)||void 0===t?void 0:t.maxQueueSize)||500;this.dataQueue.length>=r&&this.dataQueue.shift(),this.dataQueue.push(e),this.emit(\"dataAdded\",e)}startReportTimer(){var e;const t=(null===(e=this.config.report)||void 0===e?void 0:e.interval)||1e4;this.reportTimer=setInterval(()=>{this.flush()},t)}async flush(){var e;if(!this.isEnabled||0===this.dataQueue.length)return;const t=(null===(e=this.config.report)||void 0===e?void 0:e.batchSize)||20,r=this.dataQueue.splice(0,t);try{await this.sendData(r),this.emit(\"dataReported\",r)}catch(e){throw this.dataQueue.unshift(...r),this.emit(\"reportError\",e),e}}async sendData(e){var t,r;const o=`${this.config.serverUrl}/api/monitor/report`,n={timeout:(null===(t=this.config.report)||void 0===t?void 0:t.timeout)||5e3,retries:(null===(r=this.config.report)||void 0===r?void 0:r.maxRetries)||3,headers:this.config.apiKey?{\"X-API-Key\":this.config.apiKey}:void 0};await this.platformAdapter.network.sendData(o,e,n)}captureError(e,t){var r;if(!(null===(r=this.config.error)||void 0===r?void 0:r.enabled))return;const o=this.platformAdapter.errorCapture.captureError(e,t);this.addToQueue(o)}recordPerformance(e,t){var r;if(!(null===(r=this.config.performance)||void 0===r?void 0:r.enabled))return;const o=this.platformAdapter.performance.recordPerformance(e,t);this.addToQueue(o)}recordBehavior(e,t){var r;if(!(null===(r=this.config.behavior)||void 0===r?void 0:r.enabled))return;const o=this.platformAdapter.behavior.recordBehavior(e,t);this.addToQueue(o)}getStatus(){var e,t,r,o,n;const s=this.dataQueue.filter(e=>\"type\"in e&&e.type).length,i=this.dataQueue.filter(e=>\"metrics\"in e).length,a=this.dataQueue.filter(e=>\"event\"in e).length;return{initialized:this.isInitialized,enabled:this.isEnabled,queue:{size:this.dataQueue.length,maxSize:(null===(e=this.config.report)||void 0===e?void 0:e.maxQueueSize)||500,isFull:this.dataQueue.length>=((null===(t=this.config.report)||void 0===t?void 0:t.maxQueueSize)||500),errorCount:s,performanceCount:i,behaviorCount:a},lastReportTime:Date.now(),errorMonitor:!!(null===(r=this.config.error)||void 0===r?void 0:r.enabled),performanceMonitor:!!(null===(o=this.config.performance)||void 0===o?void 0:o.enabled),behaviorMonitor:!!(null===(n=this.config.behavior)||void 0===n?void 0:n.enabled)}}destroy(){this.isInitialized&&(this.reportTimer&&(clearInterval(this.reportTimer),this.reportTimer=void 0),this.flush().catch(e=>{}),this.platformAdapter.destroy(),this.dataQueue=[],this.listeners.clear(),this.isInitialized=!1,this.isEnabled=!1,this.emit(\"destroy\"))}on(e,t){this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(t)}off(e,t){if(this.listeners.has(e))if(t){const r=this.listeners.get(e),o=r.indexOf(t);o>-1&&r.splice(o,1)}else this.listeners.delete(e)}emit(e,...t){if(!this.listeners.has(e))return!1;return this.listeners.get(e).forEach(e=>{try{e(...t)}catch(e){}}),!0}once(e,t){const r=(...o)=>{this.off(e,r),t(...o)};this.on(e,r)}}var s,i,a;!function(e){e.JS_ERROR=\"js_error\",e.PROMISE_ERROR=\"promise_error\",e.RESOURCE_ERROR=\"resource_error\",e.HTTP_ERROR=\"http_error\",e.CUSTOM_ERROR=\"custom_error\",e.FRAMEWORK_ERROR=\"framework_error\"}(s||(s={})),function(e){e.PAGE_LOAD=\"page_load\",e.HTTP_REQUEST=\"http_request\",e.RESOURCE_LOAD=\"resource_load\",e.USER_INTERACTION=\"user_interaction\",e.CUSTOM_METRIC=\"custom_metric\"}(i||(i={})),function(e){e.PAGE_VIEW=\"page_view\",e.CLICK=\"click\",e.SCROLL=\"scroll\",e.FORM_SUBMIT=\"form_submit\",e.ROUTE_CHANGE=\"route_change\",e.CUSTOM=\"custom\"}(a||(a={}));const c=\"undefined\"!=typeof Taro,u=\"undefined\"!=typeof wx;class l{setConfig(e){this.config=e}getProjectId(){var e;return(null===(e=this.config)||void 0===e?void 0:e.projectId)||\"default-project\"}initErrorListeners(e){this.onError=e,this.setupGlobalErrorHandler(),this.setupUnhandledRejectionHandler(),this.setupConsoleErrorHandler()}setupGlobalErrorHandler(){c&&Taro.onError?Taro.onError(e=>{this.handleError(s.JS_ERROR,e,{source:\"Taro.onError\"})}):u&&wx.onError&&wx.onError(e=>{this.handleError(s.JS_ERROR,e,{source:\"wx.onError\"})})}setupUnhandledRejectionHandler(){c&&Taro.onUnhandledRejection?Taro.onUnhandledRejection(e=>{this.handleError(s.PROMISE_ERROR,e.reason,{source:\"Taro.onUnhandledRejection\"})}):u&&wx.onUnhandledRejection&&wx.onUnhandledRejection(e=>{this.handleError(s.PROMISE_ERROR,e.reason,{source:\"wx.onUnhandledRejection\"})})}setupConsoleErrorHandler(){const e=this;this.originalConsole={...console},console.error=function(...t){return e.handleError(s.JS_ERROR,t.join(\" \"),{source:\"console.error\",args:t}),e.originalConsole.error.apply(console,t)}}handleError(n,s,i={}){var a;if(!this.onError)return;const c={id:e(),timestamp:t(),projectId:this.getProjectId(),projectVersion:null===(a=this.config)||void 0===a?void 0:a.projectVersion,sessionId:r(),url:this.getCurrentPagePath(),userAgent:this.getUserAgent(),platform:\"taro-mini\",type:n,message:\"string\"==typeof s?s:(null==s?void 0:s.message)||String(s),stack:null==s?void 0:s.stack,error:o(s),...i};this.onError(c)}getCurrentPagePath(){try{if(\"function\"==typeof getCurrentPages){const e=getCurrentPages(),t=e[e.length-1];return(null==t?void 0:t.route)||(null==t?void 0:t.__route__)||\"\"}}catch(e){}return\"\"}getUserAgent(){try{if(c){if(Taro.getDeviceInfo&&Taro.getSystemSetting){const e=Taro.getDeviceInfo();Taro.getSystemSetting();return`${e.brand||\"Unknown\"} ${e.model||\"\"} ${e.system||\"\"}`}if(Taro.getSystemInfoSync){const e=Taro.getSystemInfoSync();return`${e.brand} ${e.model} ${e.system}`}}else if(u){if(wx.getDeviceInfo&&wx.getSystemSetting){const e=wx.getDeviceInfo();wx.getSystemSetting();return`${e.brand||\"Unknown\"} ${e.model||\"\"} ${e.system||\"\"}`}if(wx.getSystemInfoSync){const e=wx.getSystemInfoSync();return`${e.brand} ${e.model} ${e.system}`}}}catch(e){}return\"Taro-MiniProgram\"}destroyErrorListeners(){this.originalConsole&&Object.assign(console,this.originalConsole)}captureError(n,i){var a;return{id:e(),timestamp:t(),projectId:this.getProjectId(),projectVersion:null===(a=this.config)||void 0===a?void 0:a.projectVersion,sessionId:r(),url:this.getCurrentPagePath(),userAgent:this.getUserAgent(),platform:\"taro-mini\",type:s.CUSTOM_ERROR,message:n instanceof Error?n.message:String(n),stack:n instanceof Error?n.stack:void 0,error:o(n),...i}}captureHttpError(o){return{id:e(),timestamp:t(),projectId:\"\",sessionId:r(),url:this.getCurrentPagePath(),userAgent:this.getUserAgent(),platform:\"taro-mini\",type:s.HTTP_ERROR,message:`HTTP ${o.status}: ${o.method} ${o.url}`,error:{url:o.url,method:o.method,status:o.status,statusText:o.statusText,duration:o.duration}}}}class d{initPerformanceMonitor(e){this.onPerformance=e,this.setupRequestPerformanceMonitor()}static getOriginalRequest(){return d.originalRequest}setupRequestPerformanceMonitor(){const e=this;if(c&&Taro.request){d.originalRequest||(d.originalRequest=Taro.request);const t=d.originalRequest;Taro.request=function(r){const o=Date.now(),n=r.success,s=r.fail;return r.success=function(t){const s=Date.now()-o;e.recordRequestPerformance(r.url,r.method||\"GET\",t.statusCode,s,!0),n&&n(t)},r.fail=function(t){const n=Date.now()-o;e.recordRequestPerformance(r.url,r.method||\"GET\",0,n,!1),s&&s(t)},t(r)}}else if(u&&wx.request){d.originalRequest||(d.originalRequest=wx.request);const t=d.originalRequest;wx.request=function(r){const o=Date.now(),n=r.success,s=r.fail;return r.success=function(t){const s=Date.now()-o;e.recordRequestPerformance(r.url,r.method||\"GET\",t.statusCode,s,!0),n&&n(t)},r.fail=function(t){const n=Date.now()-o;e.recordRequestPerformance(r.url,r.method||\"GET\",0,n,!1),s&&s(t)},t(r)}}}recordRequestPerformance(o,n,s,a,c){if(!this.onPerformance)return;if([\"/api/monitor/report\",\"/api/monitor/data\",\"/api/monitor/stats\",\"/api/error-logs\",\"/api/health\"].some(e=>o.includes(e)))return;try{const e=(new Error).stack||\"\";if(e.includes(\"sendSingleData\")||e.includes(\"TaroNetworkAdapter\")||e.includes(\"sendData\"))return}catch(e){}const u={id:e(),timestamp:t(),projectId:\"\",sessionId:r(),url:this.getCurrentPagePath(),userAgent:this.getUserAgent(),platform:\"taro-mini\",type:i.HTTP_REQUEST,metrics:{duration:a,status:s,success:c?1:0},resource:{name:o,size:0,duration:a,type:\"request\"}};this.onPerformance(u)}getCurrentPagePath(){try{if(\"function\"==typeof getCurrentPages){const e=getCurrentPages(),t=e[e.length-1];return(null==t?void 0:t.route)||(null==t?void 0:t.__route__)||\"\"}}catch(e){}return\"\"}getUserAgent(){try{if(c&&Taro.getSystemInfoSync){const e=Taro.getSystemInfoSync();return`${e.brand} ${e.model} ${e.system}`}if(u&&wx.getSystemInfoSync){const e=wx.getSystemInfoSync();return`${e.brand} ${e.model} ${e.system}`}}catch(e){}return\"Taro-MiniProgram\"}destroyPerformanceMonitor(){}recordPerformance(o,n){return{id:e(),timestamp:t(),projectId:\"\",sessionId:r(),url:this.getCurrentPagePath(),userAgent:this.getUserAgent(),platform:\"taro-mini\",type:i.CUSTOM_METRIC,metrics:n}}getPagePerformance(){return{}}}d.originalRequest=null;class h{initBehaviorMonitor(e){this.onBehavior=e}destroyBehaviorMonitor(){}recordBehavior(o,n){return{id:e(),timestamp:t(),projectId:\"\",sessionId:r(),url:this.getCurrentPagePath(),userAgent:this.getUserAgent(),platform:\"taro-mini\",type:a.CUSTOM,event:o,data:n}}getCurrentPagePath(){try{if(\"function\"==typeof getCurrentPages){const e=getCurrentPages(),t=e[e.length-1];return(null==t?void 0:t.route)||(null==t?void 0:t.__route__)||\"\"}}catch(e){}return\"\"}getUserAgent(){try{if(c&&Taro.getSystemInfoSync){const e=Taro.getSystemInfoSync();return`${e.brand} ${e.model} ${e.system}`}if(u&&wx.getSystemInfoSync){const e=wx.getSystemInfoSync();return`${e.brand} ${e.model} ${e.system}`}}catch(e){}return\"Taro-MiniProgram\"}}class g{interceptNetwork(e,t,r){}async sendData(e,t,r){if(Array.isArray(t)){const o=[];for(const n of t)if(!this.shouldFilterSDKRelatedData(n))try{const t=this.transformDataToReportDto(n),s=await this.sendSingleData(e,t,r);o.push(s)}catch(e){throw e}return o}{if(this.shouldFilterSDKRelatedData(t))return{filtered:!0,reason:\"SDK related data\"};const o=this.transformDataToReportDto(t);return this.sendSingleData(e,o,r)}}shouldFilterSDKRelatedData(e){var t,r;const o=[\"/api/monitor/report\",\"/api/monitor/data\",\"/api/monitor/stats\",\"/api/error-logs\",\"/api/health\"];if(\"http_request\"===e.type||\"slowHttpRequest\"===e.type){if(null===(t=e.error)||void 0===t?void 0:t.url){if(o.some(t=>e.error.url.includes(t)))return!0}if(e.extraData)try{const t=\"string\"==typeof e.extraData?JSON.parse(e.extraData):e.extraData;if(null===(r=t.resource)||void 0===r?void 0:r.name){if(o.some(e=>t.resource.name.includes(e)))return!0}}catch(e){}}if(e.message||e.errorMessage){const t=e.message||e.errorMessage;if([\"MonitorSDK\",\"TaroMonitorSDK\",\"PlatformAdapter\",\"BaseManager\",\"sendData\",\"transformDataToReportDto\",\"monitor/report\",\"monitor initialization\",\"SDK not initialized\"].some(e=>t.toLowerCase().includes(e.toLowerCase())))return!0}if(e.stack||e.errorStack){const t=e.stack||e.errorStack;if([\"TaroPlatformAdapter\",\"BaseManager\",\"sendData\",\"transformDataToReportDto\",\"TaroMonitorSDK\"].some(e=>t.includes(e)))return!0}return!1}transformDataToReportDto(e){const t={projectId:e.projectId||\"default-project\",type:this.mapErrorTypeToReportType(e.type),pageUrl:e.url||e.pageUrl,userAgent:e.userAgent};e.projectVersion&&(t.projectVersion=e.projectVersion),e.message&&(t.errorMessage=e.message),e.stack&&(t.errorStack=e.stack),e.sessionId&&(t.userId=e.sessionId),e.metrics&&(t.performanceData=JSON.stringify(e.metrics)),e.error&&\"object\"==typeof e.error&&(e.error.url&&(t.requestUrl=e.error.url),e.error.method&&(t.requestMethod=e.error.method),e.error.status&&(t.responseStatus=e.error.status),e.error.duration&&(t.duration=e.error.duration));const r={};if(Object.keys(e).forEach(t=>{[\"id\",\"timestamp\",\"projectId\",\"projectVersion\",\"sessionId\",\"url\",\"pageUrl\",\"userAgent\",\"platform\",\"type\",\"message\",\"stack\",\"error\",\"metrics\"].includes(t)||(r[t]=e[t])}),Object.keys(r).length>0||e.extra||e.data){const o={...r,...e.extra||{},...e.data||{}};t.extraData=JSON.stringify(o)}return!t.projectId||t.type,t}mapErrorTypeToReportType(e){return{js_error:\"jsError\",promise_error:\"unHandleRejection\",http_error:\"reqError\",custom_error:\"jsError\",custom_metric:\"performanceInfoReady\",http_request:\"slowHttpRequest\",jsError:\"jsError\",unHandleRejection:\"unHandleRejection\",reqError:\"reqError\",performanceInfoReady:\"performanceInfoReady\",slowHttpRequest:\"slowHttpRequest\"}[e]||\"jsError\"}async sendSingleData(e,t,r){return new Promise((o,n)=>{const s={url:e,method:\"POST\",data:t,header:{\"Content-Type\":\"application/json\",...null==r?void 0:r.headers},timeout:(null==r?void 0:r.timeout)||5e3,success:e=>{e.statusCode>=200&&e.statusCode<300?o(e.data):n(new Error(`HTTP ${e.statusCode}: ${e.errMsg||\"Request failed\"}`))},fail:e=>{n(new Error(e.errMsg||\"Request failed\"))}},i=d.getOriginalRequest();i?i(s):c&&Taro.request?Taro.request(s):u&&wx.request?wx.request(s):n(new Error(\"Request API not available\"))})}}class f{setItem(e,t){try{c&&Taro.setStorageSync?Taro.setStorageSync(e,t):u&&wx.setStorageSync&&wx.setStorageSync(e,t)}catch(e){}}getItem(e){try{if(c&&Taro.getStorageSync)return Taro.getStorageSync(e)||null;if(u&&wx.getStorageSync)return wx.getStorageSync(e)||null}catch(e){}return null}removeItem(e){try{c&&Taro.removeStorageSync?Taro.removeStorageSync(e):u&&wx.removeStorageSync&&wx.removeStorageSync(e)}catch(e){}}clear(){try{c&&Taro.clearStorageSync?Taro.clearStorageSync():u&&wx.clearStorageSync&&wx.clearStorageSync()}catch(e){}}}class m{constructor(){this.platformInfo=this.getPlatformInfo(),this.errorCapture=new l,this.performance=new d,this.behavior=new h,this.network=new g,this.storage=new f}getPlatformInfo(){let e={};try{c&&Taro.getSystemInfoSync?e=Taro.getSystemInfoSync():u&&wx.getSystemInfoSync&&(e=wx.getSystemInfoSync())}catch(e){}return{platform:\"taro-mini\",version:\"1.0.0\",userAgent:`${e.brand||\"Unknown\"} ${e.model||\"Unknown\"} ${e.system||\"Unknown\"}`,deviceInfo:{brand:e.brand,model:e.model,system:e.system,platform:e.platform,version:e.version,SDKVersion:e.SDKVersion,screenWidth:e.screenWidth,screenHeight:e.screenHeight,windowWidth:e.windowWidth,windowHeight:e.windowHeight,pixelRatio:e.pixelRatio,language:e.language}}}init(e){this.errorCapture&&\"setConfig\"in this.errorCapture&&this.errorCapture.setConfig(e)}destroy(){this.errorCapture.destroyErrorListeners(),this.performance.destroyPerformanceMonitor(),this.behavior.destroyBehaviorMonitor()}}const p={TaroBasic:{error:{enabled:!0,captureConsole:!0,maxErrors:50},performance:{enabled:!0,capturePageLoad:!0,captureNetworkTiming:!0},behavior:{enabled:!0,capturePageViews:!0,captureTaps:!0,captureRouteChange:!0},report:{interval:15e3,batchSize:10,maxRetries:2}}};function y(e,t={}){return{...e,...t,error:{...e.error,...t.error},performance:{...e.performance,...t.performance},behavior:{...e.behavior,...t.behavior},report:{...e.report,...t.report}}}class S extends n{constructor(e){super(e,new m)}static init(e){return S.instance||(S.instance=new S(e),S.instance.init().catch(e=>{})),S.instance}static getInstance(){return S.instance}static destroy(){S.instance&&(S.instance.destroy(),S.instance=null)}}S.instance=null;const v={quickStart:{taro:(e,t,r={})=>{const o=y(p.TaroBasic,{projectId:e,serverUrl:t,...r});return S.init(o)}},init:e=>S.init(e),getInstance:()=>S.getInstance(),captureError:(e,t)=>{const r=S.getInstance();r&&r.captureError(e,t)},recordPerformance:(e,t)=>{const r=S.getInstance();r&&r.recordPerformance(e,t)},recordBehavior:(e,t)=>{const r=S.getInstance();r&&r.recordBehavior(e,t)},flush:async()=>{const e=S.getInstance();e&&await e.flush()},getStatus:()=>{const e=S.getInstance();return e?e.getStatus():null},destroy:()=>S.destroy(),on:(e,t)=>{const r=S.getInstance();r&&r.on(e,t)},off:(e,t)=>{const r=S.getInstance();r&&r.off(e,t)}},R=v.init;export{a as BehaviorType,s as ErrorType,i as PerformanceType,S as TaroMonitorSDK,p as Templates,y as createConfig,v as default,R as initTaroMonitor};\n//# sourceMappingURL=index.esm.js.map\n"],"names":["e","Date","now","toString","Math","random","substr","t","r","o","Error","name","message","stack","Object","getOwnPropertyNames","reduce","includes","JSON","parse","stringify","String","n","constructor","this","dataQueue","isInitialized","isEnabled","listeners","Map","config","mergeConfig","platformAdapter","sessionId","deepMerge","enableInDev","sampleRate","error","enabled","maxErrors","filters","performance","maxPerformance","enableResourceTiming","enableUserTiming","behavior","maxBehaviors","autoTrackClick","autoTrackPageView","report","interval","maxQueueSize","batchSize","timeout","maxRetries","retryDelay","enableOfflineCache","hasOwnProperty","Array","isArray","init","shouldEnable","initErrorMonitor","initPerformanceMonitor","initBehaviorMonitor","startReportTimer","emit","getStatus","isDevelopment","process","env","globalThis","location","hostname","errorCapture","initErrorListeners","addToQueue","projectId","userId","platform","platformInfo","projectVersion","tags","length","shift","push","reportTimer","setInterval","flush","splice","sendData","unshift","serverUrl","retries","headers","apiKey","network","captureError","recordPerformance","recordBehavior","s","filter","type","i","a","initialized","queue","size","maxSize","isFull","errorCount","performanceCount","behaviorCount","lastReportTime","errorMonitor","performanceMonitor","behaviorMonitor","destroy","clearInterval","catch","clear","on","has","set","get","off","indexOf","delete","forEach","once","JS_ERROR","PROMISE_ERROR","RESOURCE_ERROR","HTTP_ERROR","CUSTOM_ERROR","FRAMEWORK_ERROR","PAGE_LOAD","HTTP_REQUEST","RESOURCE_LOAD","USER_INTERACTION","CUSTOM_METRIC","PAGE_VIEW","CLICK","SCROLL","FORM_SUBMIT","ROUTE_CHANGE","CUSTOM","c","Taro","u","wx","l","setConfig","getProjectId","onError","setupGlobalErrorHandler","setupUnhandledRejectionHandler","setupConsoleErrorHandler","handleError","source","onUnhandledRejection","reason","originalConsole","console","join","args","apply","id","timestamp","url","getCurrentPagePath","userAgent","getUserAgent","getCurrentPages","route","__route__","getDeviceInfo","getSystemSetting","brand","model","system","getSystemInfoSync","destroyErrorListeners","assign","captureHttpError","status","method","statusText","duration","d","onPerformance","setupRequestPerformanceMonitor","getOriginalRequest","originalRequest","request","success","fail","recordRequestPerformance","statusCode","some","metrics","resource","destroyPerformanceMonitor","getPagePerformance","h","onBehavior","destroyBehaviorMonitor","event","data","g","interceptNetwork","shouldFilterSDKRelatedData","transformDataToReportDto","sendSingleData","filtered","extraData","errorMessage","toLowerCase","errorStack","mapErrorTypeToReportType","pageUrl","performanceData","requestUrl","requestMethod","responseStatus","keys","extra","js_error","promise_error","http_error","custom_error","custom_metric","http_request","jsError","unHandleRejection","reqError","performanceInfoReady","slowHttpRequest","Promise","header","errMsg","f","setItem","setStorageSync","getItem","getStorageSync","removeItem","removeStorageSync","clearStorageSync","m","getPlatformInfo","storage","version","deviceInfo","SDKVersion","screenWidth","screenHeight","windowWidth","windowHeight","pixelRatio","language","p","TaroBasic","captureConsole","capturePageLoad","captureNetworkTiming","capturePageViews","captureTaps","captureRouteChange","y","S","super","instance","getInstance","v","quickStart","taro","async"],"sourceRoot":""}