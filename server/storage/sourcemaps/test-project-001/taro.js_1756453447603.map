{"version":3,"file":"taro.js","mappings":"sRAAa,MAAAA,EAAW,CACtBC,KAAM,OACNC,MAAO,QACPC,KAAM,OACNC,OAAQ,SACRC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,IAAK,MACLC,GAAI,KACJC,QAAS,UACTC,SAAU,WACVC,cAAe,iB,SAGDC,IAEZ,OAAOb,EAASE,KA0BpB,C,cChCc,MAAOY,EAKnBC,WAAAA,CAAaC,EAAgCC,EAA+BC,GAC1EC,KAAKD,MAAQA,GAAS,EACtBC,KAAKH,cAAgBA,GAAiB,CAAC,EACvCG,KAAKF,aAAeA,GAAgB,E,CAGtCG,OAAAA,CAASJ,EAAgC,CAAC,GAExC,GADAG,KAAKH,cAAgBA,EACjBG,KAAKD,OAASC,KAAKF,aAAaI,OAClC,MAAM,IAAIC,MAAM,sFAElB,MAAMC,EAAkBJ,KAAKK,sBACvBC,EAAYN,KAAKO,gBACjBC,EAAIJ,EAAgBE,GACpBG,EAAMD,EAAEE,MAAMC,GAAOC,QAAQC,OAAOF,IAE1C,OADAG,OAAOC,KAAKP,GAAGQ,QAAQC,IAAKC,EAAAA,EAAAA,IAAWV,EAAES,MAAQR,EAAIQ,GAAKT,EAAES,KACrDR,C,CAGTJ,mBAAAA,GACE,OAAOL,KAAKF,aAAaE,KAAKD,M,CAGhCQ,aAAAA,GACE,OAAO,IAAIZ,EAAMK,KAAKH,cAAeG,KAAKF,aAAcE,KAAKD,MAAQ,E,ECpC3D,MAAOoB,EAInBvB,WAAAA,CAAawB,GACXpB,KAAKqB,gBAAkBD,EACvBpB,KAAKsB,MAAQ,IAAI3B,C,CAGnB4B,OAAAA,CAAS1B,GACP,MAAMyB,EAAQtB,KAAKsB,MACbD,EAAkBrB,KAAKqB,gBAM7B,OAJAC,EAAMxB,aAAewB,EAAMxB,aACxB0B,OAAOJ,GAAeA,IAAgBC,GACtCI,OAAOJ,GAEHC,EAAMrB,QAAaa,OAAAY,OAAA,GAAA7B,G,CAG5B8B,cAAAA,CAAgBP,GACdpB,KAAKsB,MAAMxB,aAAa8B,KAAKR,E,CAG/BS,iBAAAA,GACE7B,KAAKsB,MAAQ,IAAI3B,C,EAIf,SAAUmC,EAAgBC,GAC9B,OAAO,IAAIZ,EAAK,SAAUG,GACxB,OAAOS,EAAaT,EAAMzB,cAC5B,EACF,CCjCM,SAAUmC,EAAoBV,GAClC,MAAMzB,EAAgByB,EAAMzB,cAC5B,IAAIW,EACJ,MAAMC,EAAM,IAAIG,QAAc,CAACqB,EAASpB,KACtC,MAAMqB,EAAyCC,WAAW,KACxDC,aAAaF,GACbrB,EAAO,IAAIV,MAAM,+EACfN,GAAiBA,EAAcqC,SAAY,KAE/C1B,EAAIc,EAAMrB,QAAQJ,GAClBW,EACG6B,KAAK5B,IACCyB,IACLE,aAAaF,GACbD,EAAQxB,MAETC,MAAMC,IACLuB,GAAWE,aAAaF,GACxBrB,EAAOF,OAMb,QAFK2B,EAAAA,EAAAA,IAAY9B,KAAMU,EAAAA,EAAAA,IAAWV,EAAE+B,SAAQ9B,EAAI8B,MAAQ/B,EAAE+B,OAEnD9B,CACT,CAEM,SAAU+B,EAAgBlB,GAC9B,MAAMzB,EAAgByB,EAAMzB,eACtB,OAAE4C,EAAM,KAAEC,EAAI,IAAEC,GAAQ9C,EAG9B+C,QAAQC,IAAI,QAAQJ,GAAU,gBAAaE,WAAcD,GAEzD,MAAMlC,EAAIc,EAAMrB,QAAQJ,GAClBY,EAAMD,EACT6B,KAAK5B,IAEJmC,QAAQC,IAAI,YAAYF,YAAelC,GAChCA,IAKX,OAFIS,EAAAA,EAAAA,IAAWV,EAAE+B,SAAQ9B,EAAI8B,MAAQ/B,EAAE+B,OAEhC9B,CACT,CC/CM,SAAUqC,EAAUC,GACxB,OAAOA,CACT,CAEM,SAAUC,EAAYC,GAC1B,OAAO,SAAUC,EAAUC,GACzBF,EAAQG,aAAcC,EAAAA,EAAAA,IAASH,GAC3BA,EACA,CACA,CAACA,GAAMC,EAEb,CACF,CAEA,MAAMG,EAAqB,IACrBC,EAAqB,CACzB,IAAK,KACL,IAAK,EACL,IAAK,MAEDC,EAAsB,GACtBC,EAAuB,EACvBC,EAAoB,MAEpB,SAAUC,EAAoBC,GAClC,OAAO,SAAUC,GACf,MAAM,YACJC,EAAcR,EAAkB,YAChCS,EAAcR,EAAkB,aAChCS,EAAeR,EAAmB,WAClCS,EAAaP,EAAiB,cAC9BQ,EAAgBT,GACdI,EACJD,EAAKC,OAASD,EAAKC,QAAU,CAAC,EAC9BD,EAAKC,OAAOC,YAAcA,EAC1BF,EAAKC,OAAOE,YAAcA,EAC1BH,EAAKC,OAAOG,aAAeA,EAC3BJ,EAAKC,OAAOI,WAAaA,EACzBL,EAAKC,OAAOK,cAAgBA,CAC9B,CACF,CAEM,SAAUC,EAAgBP,GAC9B,OAAO,SAAUQ,GACf,MAAMP,EAASD,EAAKC,QAAU,CAAC,EACzBG,EAAeH,EAAOG,aACtBD,EAAcF,EAAOE,aAAeR,EACpCO,EAAc,EAAEO,EAAQ,KAAMnD,EAAAA,EAAAA,IAAW2C,EAAOC,aAClDD,EAAOC,YAAYO,GACnBR,EAAOC,aAAeR,EAFN,CAE0Bc,GAC9C,KAAMN,KAAeC,GACnB,MAAM,IAAI5D,MAAM,oDAAsB2D,8BAExC,MAAMG,EAAaJ,EAAOI,YAAcP,EAClCQ,EAAgBL,EAAOK,eAAiBT,EACxCa,IAAeF,EACrB,IAAIG,EAAY,EAAIR,EAAYD,GAChC,OAAQG,GACN,IAAK,MACHM,GAA4B,EAAfP,EACb,MACF,IAAK,KACHO,GAAa,EACb,MAEJ,IAAIpB,EAAMmB,EAAaC,EAIvB,OAHIL,GAAiB,GAAKA,GAAiB,MACzCf,EAAMqB,OAAOrB,EAAIsB,QAAQP,KAEpBf,EAAMc,CACf,CACF,CCrDA,MAAMS,EAAgC,CACpC5B,SAAQ,EACRpD,OAAM,EACNb,SAAQ,EACRsC,KAAI,EACJrB,aAAY,EACZ6E,QAAO,IACPC,mBAAkB,IAClB7B,QAAO,IACP8B,SAAQ,IACRC,YAAW,IACXC,OAAM,IACNpB,mBAAkB,EAClB7B,eAAcA,GAGhB4C,EAAKM,gBAAkBrB,EAAmBe,GAC1CA,EAAKO,QAAUjC,EAAW2B,EAAAA,GAC1BD,EAAKQ,YAAcf,EAAeO,E,mKC7B3B,MAAMS,EAAuB,CAClCC,YAAaC,EAAAA,GACbC,EAAGD,EAAAA,ICNQE,EAAe,WAEZ,SAAAC,EAAkBF,EAAiBG,G,MACjD,MAAMC,EAAYD,EAAUC,UAG5B,QAAyB,QAArBC,EAAAF,EAAUG,mBAAW,IAAAD,OAAA,EAAAA,EAAEE,SAAS,eAGlC3E,EAAAA,EAAAA,IAAWuE,EAAUK,YACV,OAATJ,QAAA,IAAAA,OAAA,EAAAA,EAAWK,mBACbL,aAAqBJ,EAAEU,UAE3B,CAEM,SAAUC,EAAkBC,GAChC,OAAIC,EAAAA,EAAAA,IAAQD,GACHA,EAEAA,EAAO,CAACA,GAAQ,EAE3B,CAKM,SAAUE,EAAsBC,GAGpC,OAFAA,EAAIC,UAAW,EACfD,EAAIE,YAAa,EACVF,CACT,CAMM,SAAUG,EAAiBzD,GAC/B4B,EAAAA,EAAQ8B,OACN3F,OAAAY,OAAA,CAAAgF,OAAe,OAAP3D,QAAO,IAAPA,OAAO,EAAPA,EAAS4D,OACd5D,EAEP,CCrCA,MAAM6D,EAAkBC,GACdC,IACN,MAAQxB,EAAGyB,EAAK,YAAE3B,GAAgBD,EAC5B6B,EAAKD,EAAME,WAAW7B,IAAgBG,EACtC2B,EAAUH,EAAMI,SAGhBC,EAAQL,EAAMI,OAAOL,GACvBM,EAAMnE,UAAY6D,IAAIM,EAAMnE,QAAU6D,GAE1CC,EAAMM,gBAAgB,KACpB,IAAIC,EAAOJ,EAAQjE,SAAUsE,EAAAA,EAAAA,IAAgBP,GACzCQ,GAAQ,EACPF,IACHE,GAAQ,EACRN,EAAQjE,QAAUnC,OAAO2G,OAAO,MAChCH,EAAOJ,EAAQjE,SAIjB,MAAMyE,EAAWA,IAAIC,IAAcP,EAAMnE,WAAW0E,GAcpD,OAZIzG,EAAAA,EAAAA,IAAWoG,EAAKT,IACjBS,EAAKT,GAAc,CAACS,EAAKT,GAAYa,GAErCJ,EAAKT,GAAc,IACbS,EAAKT,IAAe,GACzBa,GAIAF,IACFI,EAAAA,EAAAA,IAAmBN,EAAON,GAErB,KACL,MAAMM,EAAOJ,EAAQjE,QACrB,IAAKqE,EAAM,OACX,MAAMO,EAAOP,EAAMT,GACfgB,IAASH,EACVJ,EAAKT,QAAciB,GACX3B,EAAAA,EAAAA,IAAQ0B,KAChBP,EAAKT,GAAcgB,EAAKrG,OAAO0E,GAAQA,IAASwB,IAEnDR,EAAQjE,aAAU6E,IAEnB,KAKMC,EAAanB,EAAe,oBAC5BoB,EAAapB,EAAe,oBAG5BqB,EAAWrB,EAAe,WAC1BsB,EAAwBtB,EAAe,wBACvCuB,EAAYvB,EAAe,YAC3BwB,EAAkBxB,EAAe,kBAGjCyB,EAAUzB,EAAe,UACzB0B,EAAgB1B,EAAe,gBAC/B2B,EAAqB3B,EAAe,qBACpC4B,EAAmB5B,EAAe,mBAClC6B,EAAiB7B,EAAe,iBAChC8B,EAAY9B,EAAe,YAC3B+B,EAAY/B,EAAe,YAG3BgC,EAAoBhC,EAAe,oBACnCiC,EAAqBjC,EAAe,qBACpCkC,EAAmBlC,EAAe,mBAClCmC,EAAqBnC,EAAe,qBACpCoC,EAAmBpC,EAAe,mBAClCqC,EAAgBrC,EAAe,gBAG/BsC,EAAWtC,EAAe,WAC1BuC,EAAYA,CAACC,GAAU,KAClC,MAAMrC,EAAQ5B,EAAUG,EACxB,OAAO8D,EAAUzE,EAAAA,EAAQ8B,OAASM,EAAMsC,QAAQ,IAAM1E,EAAAA,EAAQ8B,OAAQ,KAE3D6C,EAAgB1C,EAAe,gBAE/B2C,EAAWA,O,kZC/ExB,IAAIC,EACAC,EACAC,EAEJ,MAAMC,GAAYC,EAAAA,EAAAA,MAEZ,SAAUC,EAAeC,GAC7BC,EAAAA,GAAMC,IAAI,eAAgB,SAAUC,EAAUpD,GAE5C,OADAA,EAAYA,EAAUqD,QAAQ,kBAAmB,kBAC1CD,EAASpD,EAClB,GAEAkD,EAAAA,GAAMC,IAAI,gBAAiB,SAAUG,GAEnCrJ,OAAOsJ,eAAeD,EAAO,OAAQ,CACnCE,MAAOF,EAAMG,KAAKJ,QAAQ,KAAM,KAEpC,GAEAH,EAAAA,GAAMC,IAAI,sBAAuB,SAAUO,GACjC,OAART,QAAA,IAAAA,GAAAA,EAAUU,wBAAwBD,EACpC,GAEAR,EAAAA,GAAMC,IAAI,oBAAqB,SAAUS,EAAMC,GACxCD,GAASC,IAKV,gBAAiBD,GAErB3J,OAAOC,KAAK0J,GAAMzJ,QAAQkF,IACxB,MAAMyE,EAAWF,EAAKvE,GAChB0E,EAAW3E,EAAyByE,EAAKxE,IAC/CwE,EAAKxE,GAAQ0E,EAASnJ,OAAOkJ,KAEjC,EA2CF,CAEgB,SAAAE,EACdvF,EACA0B,GAEA,OAAQ8D,IAEN,MAAM/E,EAAmBP,EAAiBF,EAAGwF,GACvCC,EAAUC,GAAoBA,IAAQpD,EAAAA,EAAAA,IAAmBoD,EAAMhE,GAC/DiE,EAAOlF,EAAmB,CAAEmF,IAAKH,GAAW,CAChDI,aAAcJ,EAEdK,uBAAwBL,GAO1B,OAJI5F,EAAUC,cAAgBC,EAAAA,KAC5BF,EAAUC,YAAcE,EAAE+F,cAAc,KAGnC,cAA0B/F,EAAEU,UAA5BpG,WAAAA,G,oBACL,KAAA0L,MAAQ,CACNC,UAAU,E,CAGZ,+BAAOC,CAA0BC,G,QAE/B,OADoB,QAApBC,EAAW,QAAX/F,EAAAhB,EAAAA,EAAQgH,WAAG,IAAAhG,OAAA,EAAAA,EAAEiG,eAAO,IAAAF,GAAAA,EAAAG,KAAAlG,EAAG8F,EAAMK,QAAUL,EAAMM,OACtC,CAAER,UAAU,E,CAKrBS,iBAAAA,CAAmBP,EAAcQ,GAC3BC,C,CAMNpG,MAAAA,GACE,MAAMqG,EAAWnM,KAAKsL,MAAMC,SACxB,GACA/B,EAAErE,EAAUC,YAAYgH,SAAU,CAAE/B,MAAOrD,GAAMwC,EAAEsB,EAChDhK,OAAAY,OAAAZ,OAAAY,OAAA,GAAA1B,KAAKqM,OACLpB,KAUL,OAAOzB,EACL,OACA,CAAExC,MACFmF,E,GAMZ,CAUM,SAAUG,EACdC,EACAC,EACAC,EACA5I,GAMAsB,EAAUG,EAAIkH,EACdhD,EAAIgD,EAAME,cACVjD,EAAWgD,EACX/C,EAAW8C,EAAM9C,SACjB,MAAMiD,EAAiBH,EAAMI,YACvB7G,EAAmBP,EAAiBgH,EAAOD,GACjD,IAAIM,EACAC,EACJ,MAAMC,EAAoB,IAAInM,QAAoBqB,GAAY6K,EAAqB7K,GAInF,SAAS+K,IACP,OAAOL,EAAe1J,O,CAGxB,SAASgK,EAAgB1C,GAKvBwC,EAAkB1K,KAAK,IAAMkI,I,CAI/B,SAAS2C,I,QACP,MAAMC,GAAQ,OAAAtJ,QAAA,IAAAA,OAAA,EAAAA,EAAQsJ,QAAS,MAC/B,IAAIC,EAAYC,EAAAA,EAASC,eAAeH,GACxC,GAAiB,MAAbC,EAAmB,CACrB,MAAMG,EAAeF,EAAAA,EAASC,eAAeE,EAAAA,IAC7CJ,EAAYC,EAAAA,EAASX,cAAcS,GACnCC,EAAUpG,GAAKmG,EACH,OAAZI,QAAA,IAAAA,GAAAA,EAAcE,YAAYL,E,CAE5B,IAAKZ,EAAMkB,SAAW,IAAIC,WAAW,MAAO,CAC1C,MAAMC,EAAOnE,EAASoE,WAAYT,GACvB,QAAXzH,EAAAiI,EAAK9H,cAAM,IAAAH,GAAAA,EAAAkG,KAAA+B,EAAGpE,EAAEsE,G,MAGE,QAAlBpC,EAAAjC,EAAS3D,cAAS,IAAA4F,GAAAA,EAAAG,KAAApC,EAAAD,EAAEsE,GAAaV,E,CA7BrCvD,EAAcJ,GAiCd,MAAMqE,UAAmBtB,EAAMxG,UAK7BpG,WAAAA,CAAayM,GACX0B,MAAM1B,GAJA,KAAK2B,MAA+B,GACpC,KAAQC,SAAyB,GAIvCpB,EAAa7M,KACb8M,EAAmB9M,K,CAGdkO,KAAAA,CAAOC,EAAmCnH,EAAYuD,GAC3D,MAAM6D,EAAcvD,EAAiB2B,EAAOxF,EAAxB6D,CAA4BsD,GAC1CjL,EAAM8D,EAAK2C,IACX0E,EAAOA,IAAM7E,EAAE4E,EAAa,CAAElL,MAAKoL,IAAKtH,IAC9ChH,KAAKgO,MAAMpM,KAAKyM,GAChBrO,KAAKuO,YAAY,IAAI5G,KACnB6G,EAAAA,EAAKC,KAAKC,EAAAA,IACHnE,KAAM5C,I,CAIVgH,OAAAA,CAAS3H,EAAYuD,GAC1B,MAAM0D,EAAWjO,KAAKiO,SAChBW,EAAMX,EAASY,UAAU3I,GAAQA,EAAKmG,MAAMiC,MAAQtH,GAC1DiH,EAASa,OAAOF,EAAK,GACrB5O,KAAKuO,YAAYhE,E,CAGZzE,MAAAA,GACL,MAAM,MAAEkI,EAAK,SAAEC,GAAajO,KAE5B,MAAOgO,EAAM9N,OAAS,EAAG,CACvB,MAAMmO,EAAOL,EAAMe,MACnBd,EAASrM,KAAKyM,I,CAGhB,IAAIhC,EAA0C,KAM9C,OAJItG,IACFsG,EAAQ,CAAEnB,IAAKyB,IAGVnD,EACL+C,EACAF,EACqF4B,EAASe,Q,EAMlG9B,IAGF,MAAO+B,EAAUC,EAAQC,GAAUpF,EAAAA,GAAM8B,KAAK,wBAAyBF,IAEjEyD,EAAsBtO,OAAO2G,OAAO,CACxC3B,MAAAA,CAAQyE,GACNsC,EAAW0B,YAAYhE,E,EAGzB2D,KAAAA,CAAOzI,EAA+BuB,EAAYuD,GAC5CsC,EACFA,EAAWqB,MAAMzI,EAAWuB,EAAIuD,GAEhCwC,EAAkB1K,KAAKwK,GAAcA,EAAWqB,MAAMzI,EAAWuB,EAAIuD,G,EAIzEoE,OAAAA,CAAS3H,EAAYuD,GACfsC,EACFA,EAAW8B,QAAQ3H,EAAIuD,GAEvBwC,EAAkB1K,KAAKwK,GAAcA,EAAW8B,QAAQ3H,EAAIuD,G,GAG/D,CACD1G,OAAQuC,EAAqB,CAC3BiJ,cAAc,EACdhF,MAAOxG,IAGT,CAACoL,GAAW7I,EAAqB,CAC/BiE,KAAAA,CAAOtH,GACLyD,EAAgBzD,GAOhB,MAAMuM,EAAWA,K,MAEf,MAAM3D,EAAMqB,IAGZ,GAFAhN,KAAKuP,KAAO5D,EAERA,EAAK,CAEP,GAAIA,EAAI6D,eAAgB,CACtB,MAAMC,EAAa9D,EAAI6D,eACjBzO,EAAOD,OAAOC,KAAK0O,GACnBC,EAAc5O,OAAO6O,0BAA0BF,GACrD1O,EAAKC,QAAQkC,IACXpC,OAAOsJ,eAAepK,KAAMkD,EAAK,CAC/BmM,cAAc,EACd9I,YAAY,EACZqJ,GAAAA,GACE,OAAOH,EAAWvM,E,EAEpB2M,GAAAA,CAAKxF,GACHoF,EAAWvM,GAAOmH,C,MAIxBvJ,OAAOgP,iBAAiB9P,KAAM0P,E,CAGjB,QAAf/J,EAAAgG,EAAI2D,gBAAW,IAAA3J,GAAAA,EAAAkG,KAAAF,EAAA5I,E,CAEjBgN,EAAe,WAAYhN,IAG7BkK,EAAeqC,E,IAInB,CAACJ,GAAS9I,EAAqB,CAC7BiE,KAAAA,CAAOtH,GACLyD,EAAgBzD,GAEhB,MAAMiN,EAASA,K,MAIb,MAAMrE,EAAMqB,IAES,QAArBrH,EAAA,OAAAgG,QAAA,IAAAA,OAAA,EAAAA,EAAKsE,wBAAgB,IAAAtK,GAAAA,EAAAkG,KAAAF,EAAG5I,GAExBgN,EAAe,SAAUhN,IAG3BkK,EAAe+C,E,IAInB,CAACb,GAAS/I,EAAqB,CAC7BiE,KAAAA,GACE,MAAM6F,EAASA,K,MAIb,MAAMvE,EAAMqB,IAES,QAArBrH,EAAG,OAAHgG,QAAG,IAAHA,OAAG,EAAHA,EAAKwE,wBAAgB,IAAAxK,GAAAA,EAAAkG,KAAAF,GAErBoE,EAAe,WAGjB9C,EAAeiD,E,IAInBtE,QAASxF,EAAqB,CAC5BiE,KAAAA,CAAOoB,GACL,MAAMG,EAAUA,K,MACd,MAAMD,EAAMqB,IACA,QAAZrH,EAAA,OAAAgG,QAAA,IAAAA,OAAA,EAAAA,EAAKC,eAAO,IAAAjG,GAAAA,EAAAkG,KAAAF,EAAGF,GACfsE,EAAe,UAAWtE,IAM5BwB,EAAerB,E,IAInBwE,qBAAsBhK,EAAqB,CACzCiE,KAAAA,CAAO5J,GACL,MAAM2P,EAAuBA,K,MAC3B,MAAMzE,EAAMqB,IACa,QAAzBrH,EAAA,OAAAgG,QAAA,IAAAA,OAAA,EAAAA,EAAKyE,4BAAoB,IAAAzK,GAAAA,EAAAkG,KAAAF,EAAGlL,GAC5BsP,EAAe,uBAAwBtP,IAGzCwM,EAAemD,E,IAInBC,eAAgBjK,EAAqB,CACnCiE,KAAAA,CAAO5J,GACL,MAAM4P,EAAiBA,K,MACrB,MAAM1E,EAAMqB,IACO,QAAnBrH,EAAA,OAAAgG,QAAA,IAAAA,OAAA,EAAAA,EAAK0E,sBAAc,IAAA1K,GAAAA,EAAAkG,KAAAF,EAAGlL,GACtBsP,EAAe,iBAAkBtP,IAGnCwM,EAAeoD,E,MAKrB,SAASN,EAAgBlJ,KAAuDyJ,GAC9E,MAAMrG,GAAW1C,EAAAA,EAAAA,IAAgBhC,GACjC,GAAI0E,EAAU,CACZ,MAAM0B,EAAMqB,IACNuD,EAAOxG,EAAAA,GAAM8B,KAAK,eAAgB5B,EAAUpD,GAC9C2J,MAAMrK,QAAQoK,IAChBA,EAAKvP,QAAQuJ,GAAMA,EAAGkG,MAAM9E,EAAK2E,G,EAMvC,OADA3L,EAAAA,EAAQgH,IAAMyD,EACPA,CACT,EC/ZwBxF,EAAAA,EAAAA,MChBxBG,EAAAA,GAAMC,IAAI,gBAAiB,SAAUpG,GACnC,IAAK,MAAM8M,KAAQC,EACjB/M,EAAK8M,GAAQC,EAAUD,EAE3B,E,oKCRY,MAACE,EAAO,OAIPC,EAAO,OACPC,EAAS,SAITC,EAAQ,QAoBRC,EAAQ,O,4DCUrB,MAAMC,EAAkB,IAAIC,IAAY,CACtC,kBACA,YACA,qBACA,qBACA,uBACA,eACA,gBACA,cACA,qBACA,iBACA,cACA,eACA,qBACA,wBACA,cACA,gBACA,gBACA,sBACA,eACA,kBACA,2BACA,8BACA,uBACA,iBACA,aACA,2BACA,sBACA,mBACA,+BACA,mBACA,eACA,cACA,eACA,cACA,iBACA,mBACA,mBACA,sBACA,aACA,aACA,iBACA,gBACA,cACA,cACA,iBACA,gBACA,aACA,mBACA,eACA,QACA,gBACA,eACA,0BACA,aACA,sBACA,wBACA,qCACA,eACA,cACA,2BACA,YACA,uBACA,eACA,eACA,cACA,eACA,eACA,iBACA,WACA,6BACA,aACA,kBACA,gBACA,oBACA,0BACA,WACA,yBACA,yBACA,WACA,oBACA,qBACA,yBACA,mBACA,iBACA,sBACA,kBACA,wBACA,wBACA,sBACA,aACA,iBACA,gBACA,iBACA,kBACA,oBACA,cACA,YACA,gBACA,aACA,mBACA,YACA,uBACA,iCACA,6BACA,uBACA,sBACA,gCACA,cACA,eACA,qBACA,oBACA,2BACA,4BACA,sBACA,YACA,aACA,cACA,eACA,gCAGF,SAASC,EAAgBvN,GACvB,OAAO,W,MACL,MAAMnD,EAA4B,QAAtBkF,EAAA/B,EAAKwN,yBAAiB,IAAAzL,OAAA,EAAAA,EAAAkG,KAAAjI,GAElC,IAAKnD,EAIH,OAAO,EAGT,MAAM,SAAE4Q,GAAa5Q,EAEf6Q,EAAgBD,EAASE,cAC/B,MAAsB,YAAlBD,GAAiD,aAAlBA,CAIrC,CACF,CAEA,SAASE,EAAkBC,GACzB,OAAO,SAAkB1O,GACvBA,EAAUA,GAEN2O,EAAAA,EAAAA,IAAS3O,GACL,CAAEJ,IAAKI,GACPA,EAEJ,CAAC,EAEL,MAAM4O,EAAgB5O,EAAQ6O,QACxBC,EAAa9O,EAAQ+O,KACrBC,EAAiBhP,EAAQiP,SAC/B,IAAIC,EACJ,MAAMzR,EAAS,IAAII,QAAQ,CAACqB,EAASpB,KACnCkC,EAAQ6O,QAAUnR,IAChBkR,GAAiBA,EAAclR,GAC/BwB,EAAQxB,IAEVsC,EAAQ+O,KAAOrR,IACboR,GAAcA,EAAWpR,GACzBI,EAAOJ,IAGTsC,EAAQiP,SAAWvR,IACjBsR,GAAkBA,EAAetR,IAGnCwR,EAAcR,EAAOlQ,QAAQwB,KAY/B,OATAmP,EAA4BD,EAAazR,GAEzCA,EAAE+B,MAASgI,IACTA,GAAMA,IACF0H,GACFA,EAAY1P,QAEP/B,GAEFA,CACT,CACF,CAEA,SAAS2R,EAAavO,EAAM6N,EAAQ5N,EAA+B,CAAC,GAClE,MAAMuO,EAAuBvO,EAAOoN,iBAAmB,GACjDoB,EAAmB,IAAInB,IAAY,IAAIkB,KAAyBnB,IAChEqB,EAAY,CAChB,SACA,eACA,UACA,qBACA,UACA,WACA,cACA,SACA,UACA,gBAGIC,EAAO,IAAIrB,IACdrN,EAAO2O,gBAEJJ,EADAtR,OAAOC,KAAK0Q,GAAQjQ,OAAOiR,IAAmC,IAA5BH,EAAUI,QAAQD,KAItD5O,EAAO8O,YACT9O,EAAO8O,WAAWJ,GAGpBA,EAAKvR,QAAQkC,IACX,GAAImP,EAAiBO,IAAI1P,GAAM,CAC7B,MAAM2P,EAAY3P,EAClBU,EAAKiP,GAAa,CAAC9P,EAAwC,MAAO4E,KAChE,IAAIzE,EAAM2P,EAGV,GAAuB,kBAAZ9P,EACT,OAAI4E,EAAKzH,OACAuR,EAAOvO,GAAKH,KAAY4E,GAE1B8J,EAAOvO,GAAKH,GAIrB,GAAIc,EAAOiP,cAAe,CACxB,MAAMC,EAAkBlP,EAAOiP,cAAc5P,EAAKH,GAIlD,GAHAG,EAAM6P,EAAgB7P,IACnBH,EAAkCgQ,EAAgBhQ,SAEhD0O,EAAOuB,eAAe9P,GACzB,OAAO+P,EAAAA,EAAAA,IAAW/P,EAAX+P,E,CAIX,IAAIC,EAAY,KAChB,MAAM7M,EAA2BvF,OAAOY,OAAO,CAAC,EAAGqB,IAGnDoQ,EAAAA,EAAAA,IAAoBjQ,EAAKH,GAGzB,MAAMvC,EAAS,IAAII,QAAQ,CAACqB,EAASpB,KACnCwF,EAAIuL,QAAUnR,I,QACY,QAAxBkF,EAAA9B,EAAOuP,yBAAiB,IAAAzN,GAAAA,EAAAkG,KAAAhI,EAAGX,EAAKzC,GACd,QAAlBiL,EAAA3I,EAAQ6O,eAAU,IAAAlG,GAAAA,EAAAG,KAAA9I,EAAAtC,GAEhBwB,EADU,kBAARiB,EAEAtC,QAAQqB,UAAUI,KAAK,IAAM6Q,EAAOpS,OAAOY,OAAOwR,EAAMzS,GAAOA,GAGzDA,IAGZ4F,EAAIyL,KAAOrR,I,MACM,QAAfkF,EAAA5C,EAAQ+O,YAAO,IAAAnM,GAAAA,EAAAkG,KAAA9I,EAAAtC,GACfI,EAAOJ,IAET4F,EAAI2L,SAAWvR,I,MACM,QAAnBkF,EAAA5C,EAAQiP,gBAAW,IAAArM,GAAAA,EAAAkG,KAAA9I,EAAAtC,IAGnByS,EADEvL,EAAKzH,OACAuR,EAAOvO,GAAKmD,KAAQsB,GAEpB8J,EAAOvO,GAAKmD,KAiBvB,MAZI,CAAC,aAAc,gBAAgBR,SAAS3C,KAC1CgP,EAA4BgB,EAAM1S,GAClCA,EAAE6S,SAAW9I,IACP,OAAJ2I,QAAA,IAAAA,GAAAA,EAAMI,iBAAiB/I,GAChB/J,GAETA,EAAE+B,MAAQgI,IACR,OAAAA,QAAA,IAAAA,GAAAA,IACI,OAAJ2I,QAAI,IAAJA,GAAAA,EAAM3Q,QACC/B,IAGJA,E,KAEJ,CACL,IAAI+S,EAAcrQ,EAQlB,GALIW,EAAOiP,gBACTS,EAAc1P,EAAOiP,cAAc5P,EAAK,CAAC,GAAGA,MAIzCuO,EAAOuB,eAAeO,GAEzB,YADA3P,EAAKV,IAAO+P,EAAAA,EAAAA,IAAW/P,KAGrBhC,EAAAA,EAAAA,IAAWuQ,EAAOvO,IACpBU,EAAKV,GAAO,IAAIyE,IACV9D,EAAO2P,eACF3P,EAAO2P,eAAetQ,EAAKuO,EAAQ9J,GAEnC8J,EAAO8B,GAAa9C,MAAMgB,EAAQ9J,GAI7C/D,EAAKV,GAAOuO,EAAO8B,E,KAKxB1P,EAAO2O,iBAAmBiB,EAAgB7P,EAAM6N,EAAQ5N,EAC3D,CAOA,SAAS4P,EAAiB7P,EAAM6N,EAAQc,EAA4B,CAAC,GACnE3O,EAAK8P,YAAcvC,EAAevN,GAClCA,EAAK+P,gBAAkBA,kBAAmBV,EAAAA,EAAAA,IAAW,mBACrDrP,EAAKgQ,OAASA,SAAUX,EAAAA,EAAAA,IAAW,UACnCrP,EAAKiQ,IAAMpC,EAAOoC,KAAO,CAAC,EAE1B,IACEjQ,EAAKkQ,cAAgBA,gBAAiBb,EAAAA,EAAAA,IAAW,gB,CACjD,MAAOxH,GACP7H,EAAKkQ,eAAgBb,EAAAA,EAAAA,IAAW,gB,CAIlC,MAAM1R,EAAUgR,EAAKhR,SAAWiQ,EAAiBC,GACjD,SAASpQ,EAAiBC,GACxB,OAAOC,EAAQD,EAAMzB,c,CAEvB,MAAMkU,EAAO,IAAInQ,EAAKzC,KAAKE,GAC3BuC,EAAKrC,QAAUwS,EAAKxS,QAAQyS,KAAKD,GACjCnQ,EAAKjC,eAAiBoS,EAAKpS,eAAeqS,KAAKD,GAC/CnQ,EAAK/B,kBAAoBkS,EAAKlS,kBAAkBmS,KAAKD,GACrDnQ,EAAKqQ,WAAarQ,EAAKb,QAAQkR,WAAaxC,EAC5C7N,EAAKsQ,WAAa,WAChB,MAAO,CACL7C,SAAUnF,OACViI,YAAajI,QACbpI,YAAaF,EAAKC,OAAOC,YAE7B,EACAF,EAAKwQ,oBAAsBC,EAASzQ,EAAM6N,EAAQ,sBAAuB,QACzE7N,EAAK0Q,2BAA6BD,EAASzQ,EAAM6N,EAAQ,6BAA8B,UACzF,CAOA,SAASS,EAA6BgB,EAAMqB,GAC1C,IAAKrB,IAASqB,EAAS,OACvB,MAAMC,EAAc,CAAC,QAAS,oBAAqB,qBAAsB,mBAAoB,oBAAqB,kBAAmB,oBACrItB,GAAQsB,EAAYxT,QAAQyB,IACtBA,KAAUyQ,IACZqB,EAAQ9R,GAAUyQ,EAAKzQ,GAAQuR,KAAKd,KAG1C,CAEA,SAASmB,EAAUzQ,EAAM6N,EAAQgD,EAAchS,GAC7C,OAAO,YAAakF,GAClB,MAAMlH,EAAMgR,EAAOgD,MAAS9M,GACtB+M,EAAMjU,EAAIgC,GAAQuR,KAAKvT,GAI7B,OAHAA,EAAIgC,GAAU,YAAakS,GACzB/Q,EAAKiB,SAAS,IAAM6P,KAAOC,GAC7B,EACOlU,CACT,CACF,CCjaO,MAAMwQ,EAAkB,IAAIC,IAAI,CACrC,qBACA,sBACA,qBACA,8BACA,gBACA,YACA,2BACA,YACA,0BACA,yBACA,sBACA,4BACA,mBACA,oBACA,oBACA,eACA,iBACA,eACA,cACA,uBACA,oBACA,mBACA,0BACA,0BACA,kBACA,iBACA,WACA,mBACA,gBACA,mBACA,iCCzBI,SAAU0D,EAAehR,GAC7BuO,EAAYvO,EAAMiR,GAAI,CACpB5D,gBAAe,EACf0B,UAAAA,CAAYJ,GAEVA,EAAKuC,OAAO,W,EAEdhC,aAAAA,CAAeL,EAAa1P,G,MAK1B,MAJY,kBAAR0P,IACF1P,EAAQgS,MAA8B,QAAtBpP,EAAA5C,EAAQiS,sBAAc,IAAArP,OAAA,EAAAA,EAAEsP,IAAI/O,GAAiB,kBAATA,EAA2B,kBAA6B,iBAATA,EAA0B,gBAAkBA,IAG1I,CACLhD,IAAKuP,EACL1P,U,IAINa,EAAKsR,MAAQL,GAAGK,MAChBtR,EAAKuR,UAAY,SAAUC,G,MACzB,GAAkC,oBAAhB,OAAPA,QAAO,IAAPA,OAAO,EAAPA,EAASD,WAClB,OAA0B,QAAnBxP,EAAAyP,EAAQD,mBAAW,IAAAxP,OAAA,EAAAA,EAAE0P,cAEhC,EACAzR,EAAK0R,YAAc,W,UACjB,OAAgD,QAAzCC,EAA+B,QAA/B7J,EAAyB,QAAzB/F,EAAA/B,EAAKgB,4BAAoB,IAAAe,OAAA,EAAAA,EAAE0I,YAAI,IAAA3C,OAAA,EAAAA,EAAE8J,gBAAQ,IAAAD,EAAAA,EAAI,SACtD,CACF,CCjCA,MAAME,EAAQ,OACRC,EAAS,QACTC,EAAS,GACTC,EAAQ,IACRC,EAAU,KAEHC,EAAa,CAExBC,SAAU,CACR,gBAAiBH,EACjB,YAAa,KACbI,SAAU,KACVC,cAAeN,GAEjBO,SAAU,CACRC,MAAOR,EACP,cAAeD,EACfU,KAAM,aAERvF,KAAM,CACJ,cAAe6E,EACfW,SAAU,UACV,YAAa,IAEfC,IAAK,CACHC,SAAU,KACVC,OAAQb,EACRc,OAAQb,EACRc,KAAMd,EACN,YAAa,KACb,YAAa,IACb,YAAaF,EACb,eAAgBA,EAChB,aAAcA,EACd,qBAAsBA,EACtB,8BAA+BA,EAC/B,cAAeD,EACf,gBAAiBA,EACjB,gBAAiBC,EACjB,mBAAoBA,EACpB,iBAAkBA,EAClB,aAAcD,EACd,kBAAmBA,EACnBkB,QAASd,EACTe,aAAcjB,EACdkB,iBAAkBlB,EAClBmB,WAAYnB,EACZoB,gBAAiBpB,EACjBqB,mBAAoBrB,EACpBsB,kBAAmBtB,EACnBuB,gBAAiBvB,EACjBwB,qBAAsBxB,EACtByB,UAAWzB,EACX0B,mBAAoB1B,GAEtB7E,OAAQ,CACNwG,KAAM,KACN,eAAgB3B,EAChB,qBAAsBA,EACtB,oBAAqBA,EACrB,mBAAoBA,EACpB,gBAAiBA,EACjB,oBAAqBD,EACrB,cAAeC,EACf4B,gBAAiB5B,EACjB6B,YAAa7B,EACb8B,mBAAoB9B,EACpB+B,2BAA4B/B,EAC5BgC,iBAAkBhC,EAClByB,UAAWzB,EACXiC,gBAAiBjC,EACjBkC,cAAelC,EACfmC,8BAA+BnC,GAEjCoC,KAAM,CACJ,wBAAyBnC,GAE3B7E,MAAO,CACL,eAAgB2E,EAChB,kBAAmBD,EACnB,gBAAiBC,EACjB,0BAA2B,GAC3B,uBAAwB,GACxB,2BAA4B,GAC5B,sBAAuB,GACvB,qBAAsB,GACtB,4BAA6B,GAC7B,YAAaC,EACb,eAAgB,GAChBqC,yBAA0BrC,EAC1BsC,mBAAoBtC,EACpBuC,oBAAqBvC,EACrBwC,6BAA8BxC,EAC9ByC,8BAA+BzC,EAC/B0C,2BAA4B1C,GAE9B2C,OAAQ,CACN,cAAe3C,EACf4C,MAAO,UAETC,WAAY,CACV,mBAAoB9C,EACpB+C,cAAe9C,EACf+C,YAAa/C,GAEfgD,OAAQ,CACNC,MAAO,YACP,iBAAkB,aAEpBC,SAAU,CACR,mBAAoBpD,EACpB,kBAAmBA,EACnB,gBAAiBC,EACjB,0BAA2BA,EAC3B,eAAgB,WAChB,eAAgBA,EAChB,qBAAsB,WACtBsC,yBAA0BrC,EAC1BuC,oBAAqBvC,EACrBwC,6BAA8BxC,EAC9ByC,8BAA+BzC,EAC/B0C,2BAA4B1C,GAE9BmD,WAAY,CACV,cAAepD,EACf,mBAAoBA,EACpBqD,SAAUrD,EACV,eAAgBA,EAChB,iBAAkBA,EAClB,iBAAkBA,EAClB,oBAAqBA,EACrB,sBAAuB,KACvB,0BAA2B,UAC3B,uBAAwB,SACxB,sBAAuBA,EACvBsD,QAASvD,EACT,iBAAkBA,EAClB,oBAAqBC,EACrBpL,KAAM,SACN,wBAAyB,KACzB2O,QAASvD,EACTwD,KAAMzD,EACN,qBAAsBC,EACtB,eAAgBC,EAChB,oBAAqB,KACrB,iCAAkCD,EAClC,6BAA8B,UAC9ByD,QAAS,YACT,8BAA+BzD,EAC/B,gCAAiCA,EACjC,gCAAiC,MACjC,sCAAuC,KACvC,qCAAsCA,EACtC,sCAAuCA,EACvC,6BAA8BA,EAC9B0D,cAAezD,EACf0D,aAAc1D,EACd2D,YAAa3D,EACb4D,qBAAsB5D,EACtB6D,qBAAsB7D,EACtB8D,qBAAsB9D,EACtB+D,mBAAoB/D,EACpBgE,gBAAiBhE,EACjBiE,cAAejE,EACfkE,yBAA0BlE,EAC1BmE,0BAA2BnE,GAE7BoE,cAAe,CACb,qBAAsBtE,EACtB0D,QAAS,gBAEXa,SAAU,CACR1P,KAAM,YACN,mBAAoB,IACpB,wBAAyBsL,EACzB,gBAAiBA,EACjB,iBAAkBA,EAClBuD,QAAS,gBAEXc,YAAa,CACX3P,KAAM,YACNzC,KAAM,KACN,mBAAoB,IACpB,wBAAyB+N,EACzB,gBAAiBA,EACjB,iBAAkBA,EAClBuD,QAAS,eACTe,cAAevE,EACfwE,gBAAiBxE,GAEnByE,SAAU,CACRjB,QAAS,gBAEXkB,YAAa,CACXxS,KAAM,KACNyC,KAAM,SACN6O,QAAS,eACT,cAAexD,EACf,eAAgBA,EAChBuE,cAAevE,EACfwE,gBAAiBxE,GAEnB2E,aAAc,CACZ,aAAc,IACdnB,QAAS,gBAEXoB,OAAQ,CACN,eAAgB7E,EAChB,kBAAmB,YACnB,cAAe,WACf,mBAAoB,iBACpB,iBAAkB,WAClB,mBAAoB,KACpB,oBAAqB,IACrB,mBAAoB,IACpB,kBAAmB,IACnB,mBAAoB,IACpB,sBAAuB,SACvB,mBAAoB,SACpB,wBAAyBD,EACzB,eAAgB,KAElB+E,WAAY,CACV,0BAA2B9E,GAE7B+E,UAAW,CACTC,OAAQ,SACR,SAAU/E,EACVgF,KAAMhF,EACN,aAAcA,EACdjI,QAAS,aAEXkN,OAAQ,CACNxE,KAAM,WACNyE,WAAY,WACZ,aAAc,WACdC,aAAcnF,EACdoF,aAAcpF,GAEhB3E,MAAO,CACLgK,KAAMtF,EACN,yBAA0BA,EAC1B,UAAWA,GAEbuF,WAAY,CACV7E,KAAM,SACN,aAAc,YACd,yBAA0BX,EAC1B,4BAA6BA,EAC7B,0BAA2B,KAC3B,uBAAwBC,EACxB,kBAAmB,gBACnB,iBAAkBA,EAClBwF,gBAAiBvF,EACjBwF,qBAAsBxF,EACtByF,cAAezF,EACf0F,sBAAuB1F,EACvB2F,0BAA2B3F,EAC3B4F,0BAA2B5F,EAC3B6F,sBAAuB7F,EACvB8F,uBAAwB9F,EACxB+F,qBAAsB/F,GAExBgG,MAAO,CACLC,MAAOjG,EACP,oBAAqB,WACrB,sBAAuBD,EACvB,yBAA0BD,EAC1B,4BAA6BA,EAC7B,iBAAkBC,EAClB,+BAAgCD,EAChC,uBAAwBA,EACxB,aAAcE,EACd,qBAAsBA,EACtB,sBAAuBD,EACvB,0BAA2B,KAM3B,uBAAwBA,EACxB,0BAA2BA,EAC3B,uBAAwBA,EACxB,kCAAmCA,EACnC,oBAAqBC,EACrB,kBAAmB,gBACnB,SAAUD,EACV,UAAWA,EACX,gBAAiBC,EACjB,kBAAmBA,EACnB,cAAeA,EACf,0BAA2BA,EAC3BkG,aAAclG,EACdmG,mBAAoBnG,EACpBoG,mBAAoBpG,EACpB2F,0BAA2B3F,EAC3B4F,0BAA2B5F,EAC3BqG,iBAAkBrG,EAClB6F,sBAAuB7F,EACvB8F,uBAAwB9F,EACxB+F,qBAAsB/F,EACtBsG,WAAYtG,EACZuG,YAAavG,EACbwG,YAAaxG,EACbyG,WAAYzG,GAEd0G,OAAQ,CACN/R,KAAMqL,GAER2G,GAAI,CACF,UAAW,WACX,WAAY,WAEdC,UAAW,CACT,YAAa5G,EACb6G,KAAM7G,GAGR8G,OAAQ,CACN,YAAa/G,EACbgH,YAAa/G,EACb,gBAAiBD,EACjB,mBAAoBA,EACpB,kBAAmBA,EACnBiH,MAAOjH,EACPkH,UAAWjH,EACXkH,UAAWlH,EACXmH,SAAUnH,EACVoH,UAAWpH,EACXqH,iBAAkBrH,EAClBlB,KAAMkB,GAERsH,WAAY,CACV,YAAatH,EACb,YAAaA,EACbuH,MAAOvH,EACP,aAAcA,EACd,aAAcA,EACdwH,OAAQxH,EACRyH,YAAazH,GAEf0H,wBAAyB,CACvB3P,QAAS,YACT+G,KAAMkB,EACNhO,KAAMgO,EACN2H,YAAa3H,EACb4H,SAAU5H,EACV6H,WAAY7H,GAEd8H,WAAY,CACV9a,IAAKgT,EACLS,KAAM,QACNsH,SAAUhI,EACViI,MAAOjI,EACP,gBAAiBD,EACjB,aAAcA,EACd2H,YAAa,aACbQ,OAAQhI,EACRiI,UAAWjI,EACXkI,OAAQ,SACR,cAAe,MACf,cAAe,OACf,gBAAiB,SACjB,gBAAiBnI,EACjB,qBAAsBA,EACtBoI,KAAMrI,EACN,kBAAmB,UACnB,kBAAmBA,EACnBsI,OAAQtI,EACR,gBAAiBA,EACjB,eAAgBA,EAChB,oBAAqBE,EACrB,aAAcH,EACd,aAAcC,EACd,aAAcA,EACd,oBAAqB,cACrB,cAAe,MACf,eAAgB,MAChB,eAAgB,WAChBlU,OAAQ,aACR,0BAA2B,KAC3Byc,UAAWtI,EACXuI,gBAAiBvI,EACjBwI,cAAexI,EACfyI,aAAczI,EACd0I,gBAAiB1I,EACjB2I,gBAAiB3I,EACjB0F,sBAAuB1F,GAEzB4I,gBAAiB,CACfC,SAAU7I,EACVyB,UAAWzB,GAEb8I,SAAU,CACRnU,KAAMqL,EACN,WAAYA,EACZ2B,KAAM,OACN,eAAgB3B,EAChB,iBAAkBA,EAClByB,UAAWzB,GAEb+I,cAAe,CACb9C,MAAOjG,EACPgJ,QAASjJ,EACT,cAAe,YACf,mBAAoBC,EACpB,2BAA4BC,EAC5B,8BAA+B,YAEjCgJ,SAAU,CACR,wBAAyBjJ,EACzB,mBAAoBA,EACpB,uBAAwBA,EACxB,0BAA2BA,EAC3B,wBAAyBA,EACzB,aAAc,KACd,kBAAmB,MACnB,aAAc,KACd,iBAAkB,KAClB,mBAAoB,KACpBkJ,WAAYlJ,EACZmJ,WAAYnJ,EACZoJ,eAAgBpJ,GAElBqJ,SAAU,CACRC,OAAQtJ,EACRS,KAAM,WACN,kBAAmB,UACnBgB,UAAWzB,GAEbuJ,SAAU,CACR,UAAWvJ,EACX,eAAgBA,EAChB6I,SAAU7I,EACVyB,UAAWzB,GAEbwJ,cAAe,CACbC,KAAM1J,EACNM,SAAU,MACV,UAAW,MACXqJ,QAAS5J,EACT6J,SAAU,WACVC,MAAO7J,EACP,sBAAuBA,EACvB,gBAAiBC,EACjB,eAAgBA,EAChB6J,gBAAiB7J,EACjB8J,UAAW9J,EACX+J,eAAgB/J,EAChBgK,gBAAiBhK,EACjBiK,UAAWjK,EACXkK,eAAgBlK,EAChBmK,iBAAkBnK,GAEpBoK,aAAc,CACZC,OAAQrK,EACRsK,UAAWvK,EACXM,SAAU,MACV,kBAAmB,aACnB,wBAAyBN,EACzB,kBAAmB,OACnB,iBAAkB,OAClB,kBAAmB,qBAErBwK,kBAAmB,GACnBC,WAAY,CACVC,OAAQ3K,GAEV4K,YAAa,CACX,UAAW1K,EACX,mBAAoBA,GAEtB2K,aAAc,CACZ,UAAW3K,EACX,mBAAoBA,EACpB,aAAcA,EACd4K,SAAU7K,EACV8K,KAAM9K,EACNiI,MAAOjI,EACP,aAAc,YACd0B,UAAWzB,GAEb8K,SAAU,CACRrK,KAAM,UAERsK,KAAM,GACNC,cAAe,CACbC,eAAgB,SAChBC,mBAAoB,MACpBC,YAAa,UACbC,gBAAiBnL,EACjBoL,kBAAmBpL,EACnBqL,YAAatL,EACbuL,UAAW,UACXC,cAAevL,EACfwL,iBAAkBxL,GAEpByL,eAAgB,CACdC,iBAAkB,MAClBC,aAAc,OACdC,aAAc,MACdC,KAAM/L,EACNgM,UAAW,MAEbC,mBAAoB,GACpBC,iBAAkB,GAElBC,wBAAyB,GACzBC,yBAA0B,GAC1BC,6BAA8B,GAC9BC,wBAAyB,GACzBC,kBAAmB,GACnBC,oBAAqB,GACrBC,kBAAmB,GACnBC,2BAA4B,IC1fjBC,EAAa,CACxBzN,gBACA0N,gBAAAA,CAAkBze,GAChB,MAAM0e,EAAU1e,EAAOwK,KAAK,GAI5B,OAH2C,IAAvCkU,EAAQ7P,QAAQ,oBAClB6P,EAAQ3gB,KAAK,mBAERiC,C,EAET2e,mBAAAA,CAAqB9f,EAAM+f,EAASC,G,MAClC,GAAID,EAAQE,kBAAmB,CAC7B,MAAM3U,EAAQ2F,kBACRtF,EAAOL,EAAMA,EAAM9N,OAAS,GAKlC,OAJAwC,EAAwB,MAAG+f,EAAQG,SACnCvU,EAAKwU,QAAQ,CACX,EAACC,EAAAA,EAAAA,IAAYpgB,EAAKqgB,KAAMrgB,IAEnB,CACLsgB,IAAKP,EAAQO,IACb,MAAkB,GAClB,CAAoB,OAA0B,QAAxBrd,EAAA+c,EAAgB,gBAAQ,IAAA/c,OAAA,EAAAA,EAAEsd,OAAQ,I,KCzBhEC,EAAAA,EAAAA,IAAgBb,IAChBc,EAAAA,EAAAA,IAAwBrN,E,sLCLjB,MAAMsN,EAAkD,CAC7DxK,OAAO,EACPyK,MAAM,EACNC,UAAU,EACV,kBAAkB,EAClBC,OAAO,EACPC,OAAO,EACPC,QAAQ,EACRC,UAAU,EACVC,OAAO,EACPC,QAAQ,EACRC,KAAK,EACLC,MAAM,EACNC,MAAM,EACNphB,KAAK,EACLqhB,MAAM,GAGFC,EAAW,EACXC,EAAsB,EACtBC,EAAc,GACdC,EAAwBH,EACxBI,EAA0BH,EAC1BI,EAAuBH,EAEvB,SAAUI,EAAkBC,GAChC,OAAQA,GACN,IAAK,SACL,IAAK,QACL,IAAK,QACL,IAAK,cACL,IAAK,OACL,IAAK,MACL,IAAK,UACL,IAAK,YACL,IAAK,OACL,IAAK,QACL,IAAK,QACL,IAAK,QACL,IAAK,OACL,IAAK,gBACL,IAAK,cACL,IAAK,YACL,IAAK,QACL,IAAK,SACL,IAAK,SACL,IAAK,cACL,IAAK,WACL,IAAK,aACL,IAAK,SACL,IAAK,OACL,IAAK,QACL,IAAK,SACL,IAAK,cACH,OAAOJ,EACT,IAAK,OACL,IAAK,YACL,IAAK,WACL,IAAK,YACL,IAAK,WACL,IAAK,cACL,IAAK,aACL,IAAK,cACL,IAAK,SACL,IAAK,SACL,IAAK,YACL,IAAK,eACL,IAAK,eACH,OAAOC,EACT,QACE,OAAOC,EAEb,CAEA,MAAMG,EAAYC,KAAKC,SACpBC,SAAS,IACT5V,MAAM,GAEI6V,EAAmB,gBAAkBJ,EACrCK,EAAsB,gBAAkBL,EACxCM,EAA+B,oBAAsBN,ECjDrDO,EAAW,EAEXC,EAAgB,EAChBC,EAAW,EAOXC,EAAoB,GC9BjB,SAAAC,EAAmBC,EAAiBra,GAClDA,EAAK8Z,GAAuBO,CAC9B,CAEgB,SAAAC,EAAqBC,EAAiBva,GACpDA,EAAK+Z,GAAgCQ,CACvC,CAcM,SAAUC,EAAqBxa,GACnC,MAAM1D,EAAO0D,EAAK8Z,IAAwB9Z,EAAK+Z,GAE/C,OAAIzd,IAEAA,EAAKme,MAAQR,GACb3d,EAAKme,MAAQP,GACb5d,EAAKme,MAAQN,GACb7d,EAAKme,MAAQT,GAEN1d,EAKJ,IACT,CAMM,SAAUoe,EAAqBpe,GACnC,GAAIA,EAAKme,MAAQR,GAAiB3d,EAAKme,MAAQP,EAG7C,OAAO5d,EAAKqe,SAEhB,CAEM,SAAUC,EAA8B5a,GAC5C,OAAOA,EAAK6Z,IAAqB,IACnC,CAEgB,SAAAgB,EACd7a,EACAqB,GAEArB,EAAK6Z,GAAoBxY,CAM3B,CCpEA,SAASyZ,EAAoBrD,EAAsBsD,EAAuB1Z,GACxE,MAAMrB,EAAOyX,EACPuD,EAAU3Z,EAAM2Z,QAEP,MAAXA,GAKJC,EAAcxD,EAASsD,EAAU1Z,GACjC6Z,EAAmBzD,EAASpW,IAL1BzJ,QAAQujB,KAAK,iCAAmBnb,EAMpC,CAGA,SAASkb,EAAoBE,EAAU/Z,GACrC,MAAMoI,EAAOpI,EAAMoI,KAEA,UAAfpI,EAAM/B,MAA4B,MAARmK,GAC5B7R,QAAQujB,KAAK,8CAAgCC,EAAU/Z,EAE3D,CAEM,SAAUga,EAAkBhc,GAChC,MAAMic,EAA+B,oBAAVjc,GAAyC,kBAAVA,EAE1D,OAAOic,EAAc,GAAKjc,CAC5B,CAEM,SAAUua,EAAUva,GACxB,MAAO,GAAKA,CACd,C,SAEgB4b,EAAexD,EAAsBsD,EAAuB1Z,GAC1E,MAAMrB,EAAOyX,EACPpY,EAAQgc,EAAiBha,EAAMhC,OAC/BC,EAAO+B,EAAM/B,KAEnBic,EAAavb,EAAM+a,EAAU1b,EAAOC,EACtC,CAKM,SAAUic,EAAcvb,EAAmB+a,EAAuB1b,EAAOC,EAAO,UACvE,MAATD,EACW,WAATC,GAEW,IAAVD,GAA8B,KAAfW,EAAKX,OAGlB0b,GAAY1b,KAEfW,EAAKX,MAAQua,EAASva,IAEf0b,IAAanB,EAASva,KAC/BW,EAAKX,MAAQua,EAASva,IAEN,WAATC,GAA8B,UAATA,GAG9BU,EAAKwb,gBAAgB,QAEzB,CAGM,SAAUC,EAAoBC,GAClC,MAAMC,EAAWD,GAAQA,EAAKC,UAAYD,EAAKC,SAASpV,cAExD,GAAiB,UAAboV,EAAsB,CACxB,MAAMrc,EAAQoc,EAAqBpc,KAEnC,OAAQA,KAAU8Y,EAAoB9Y,E,CAGxC,MAAiB,aAAbqc,CAKN,CAEO,MAAMC,EAAyCX,EACzCY,EAAsCf,ECvFnD,SAASgB,EAAaJ,GACpB,MAAMpc,EAAOoc,EAAKpc,KACZqc,EAAWD,EAAKC,SAEtB,OACEA,GAC2B,UAA3BA,EAASpV,gBACC,aAATjH,GAAgC,UAATA,EAE5B,CAEA,SAASyc,EAAY/b,GACnB,OAAOA,EAAKgc,aACd,CAEA,SAASC,EAAejc,GACtBA,EAAKgc,cAAgB,IACvB,CAMA,SAASE,EAAkBlc,GACzB,MAAMmc,EAAaL,EAAY9b,GAAQ,UAAY,QAC7Coc,EAAatmB,OAAOumB,yBACxBrc,EAAKpL,YAAY8F,UACjByhB,GAGF,IAAIG,EAAe,GAAKtc,EAAKmc,GAE7B,GACEnc,EAAKgI,eAAemU,IACE,qBAAfC,GACmB,oBAAnBA,EAAWxX,KACQ,oBAAnBwX,EAAWvX,IAElB,OAGF,MAAM,IAAED,EAAG,IAAEC,GAAQuX,EAErBtmB,OAAOsJ,eAAeY,EAAMmc,EAAY,CACtC9X,cAAc,EACd9I,WAAY6gB,EAAW7gB,WACvBqJ,IAAK,WACH,OAAOA,EAAI/D,KAAK7L,K,EAElB6P,IAAK,SAAUxF,GACbid,EAAe,GAAKjd,EACpBwF,EAAIhE,KAAK7L,KAAMqK,E,IAInB,MAAMkd,EAAU,CACdC,QAAAA,GACE,OAAOF,C,EAETG,QAAAA,CAAUpd,GACRid,EAAe,GAAKjd,C,EAEtBqd,YAAAA,GACET,EAAcjc,UACPA,EAAKmc,E,GAGhB,OAAOI,CACT,CAEM,SAAUI,EAAO3c,GACjB+b,EAAW/b,KAIfA,EAAKgc,cAAgBE,EAAiBlc,GACxC,CAEgB,SAAA4c,EAAsB5c,EAAM6c,GAC1C,IAAK7c,EACH,OAAO,EAGT,MAAMuc,EAAUR,EAAW/b,GAE3B,IAAKuc,EACH,OAAO,EAGT,MAAMO,EAAYP,EAAQC,WAE1B,OAAIK,IAAcC,IAChBP,EAAQE,SAASI,IACV,EAGX,CCzFA,MAAME,EAAqB,2EAE3B,SAASC,EAAaC,GACpB,MAAgB,MAATA,EAAE,IAAuB,MAATA,EAAE,EAC3B,CAEA,SAASC,EAASC,EAAMC,GAEtB,GAAID,IAASC,EACX,OAAO,EAIT,GAAoB,kBAATD,GAA8B,OAATA,GAAiC,kBAATC,GAA8B,OAATA,EAC3E,OAAO,EAIT,MAAMC,EAAQvnB,OAAOC,KAAKonB,GACpBG,EAAQxnB,OAAOC,KAAKqnB,GAG1B,GAAIC,EAAMnoB,SAAWooB,EAAMpoB,OACzB,OAAO,EAIT,IAAK,IAAIqoB,EAAI,EAAGA,EAAIF,EAAMnoB,OAAQqoB,IAAK,CACrC,MAAMrlB,EAAMmlB,EAAME,GAClB,GAAIJ,EAAKjlB,KAASklB,EAAKllB,GACrB,OAAO,C,CAKX,OAAO,CACT,C,SAEgBslB,GAAa/b,EAAkBgc,EAAiBC,GAC9D,MAAMC,EAAgBC,GAAiBnc,EAAKgc,EAAUC,GAClDC,GACFE,GAAqBpc,EAAKgc,EAAUE,EAExC,C,SAEgBE,GAAsBpc,EAAkBgc,EAAiBE,GACvE,MAAMG,EAA2B,GACjC,IAAIC,EAAoC,KACxC,IAAK,IAAIR,EAAI,EAAGA,EAAII,EAAczoB,OAAQqoB,GAAK,EAAG,CAEhD,MAAMrlB,EAAMylB,EAAcJ,GACpBS,EAAUL,EAAcJ,EAAI,GAC5BU,EAAUR,EAASvlB,GACzB,GAAIgJ,SAA8Bgd,EAAAA,GAAc3pB,QAAS,CACvD,GAAY,YAAR2D,EAAmB,CAErB6lB,EAAeA,IAAMI,GAAY1c,EAAKvJ,EAAK8lB,EAASC,GACpD,Q,CAGU,cAAR/lB,EACF4lB,EAASha,OAAO,EAAG,EAAG,IAAMsa,GAAgB3c,EAAKuc,EAASC,IAE1DH,EAASlnB,KAAK,IAAMunB,GAAY1c,EAAKvJ,EAAK8lB,EAASC,G,MAGrDE,GAAY1c,EAAKvJ,EAAK8lB,EAASC,E,CAGnC,GAAI/c,SAA8Bgd,EAAAA,GAAc3pB,QAAS,CACvDwpB,GAAgBA,IAChB,IAAK,IAAIR,EAAI,EAAGA,EAAIO,EAAS5oB,OAAQqoB,IACnCO,EAASP,I,CAGf,C,SAEgBK,GAAkBnc,EAAkBgc,EAAiBC,GACnE,IAAIH,EACAI,EAA8B,KAElC,IAAKJ,KAAKE,EACFF,KAAKG,IACRC,EAAgBA,GAAiB,IAAI/mB,KAAK2mB,EAAG,MAGlD,MAAMc,EAAgB5c,aAAe6c,EAAAA,EACrC,IAAKf,KAAKG,EACR,GAAID,EAASF,KAAOG,EAASH,IAAOc,GAAuB,UAANd,EAAgB,CAEnE,GAAU,UAANA,IAAiBllB,EAAAA,EAAAA,IAASolB,EAASF,MAAOllB,EAAAA,EAAAA,IAASqlB,EAASH,KAAOL,EAAQO,EAASF,GAAIG,EAASH,IAAK,UAEzGI,EAAgBA,GAAiB,IAAI/mB,KAAK2mB,EAAGG,EAASH,G,CAI3D,OAAOI,CACT,CAQA,SAASY,GAAU9c,EAAkBgI,EAAcpK,EAAgB0b,GACjE,MAAMyD,EAAY/U,EAAKgV,SAAS,WAChC,IAAIC,EAAYjV,EAAKlD,cAAcvC,MAAM,GACrCwa,IACFE,EAAYA,EAAU1a,MAAM,GAAI,IAGlC,MAAM2a,GAAWC,EAAAA,EAAAA,KAAW9G,EAAAA,EAAAA,IAAYrW,EAAIod,QAAQtY,gBAElC,UAAdmY,GAAyBxd,SAA8Bgd,EAAAA,GAAc3pB,SAAWoqB,KAAYG,EAAAA,KAC9FJ,EAAY,QAGVxoB,EAAAA,EAAAA,IAAWmJ,GACT0b,GACFtZ,EAAIsd,oBAAoBL,EAAW3D,EAAiB7Z,SAA8Bgd,EAAAA,GAAc3pB,cAAkBuI,GAClH2E,EAAIud,iBAAiBN,EAAWrf,EAAO6B,SAA8Bgd,EAAAA,GAAc3pB,QAAU,CAAEiqB,YAAWS,YAAY,QAAUniB,IAEhI2E,EAAIud,iBAAiBN,EAAWrf,EAAO6B,SAA8Bgd,EAAAA,GAAc3pB,QAAUiqB,OAAY1hB,GAG3G2E,EAAIsd,oBAAoBL,EAAW3D,EAEvC,CAEA,SAASmE,GAAUC,EAAcjnB,EAAamH,GAC7B,MAAXnH,EAAI,IAAcgJ,SAA8Bgd,EAAAA,GAAc3pB,QAMlE4qB,EAAMjnB,IACJknB,EAAAA,EAAAA,IAAS/f,KAA2C,IAAjC0d,EAAmBsC,KAAKnnB,GACtCgJ,SAA8Bgd,EAAAA,GAAc3pB,QAAU8K,EAAQ,MAAOigB,EAAAA,EAAAA,IAAiBjgB,GAC7E,OAAVA,EACE,GACAA,EATN8f,EAAMhB,YAAYjmB,EAAMmH,EAAiBua,WAU7C,CAQA,SAASwE,GAAgB3c,EAAkBpC,EAAgB0b,GAEzD,MAAMoE,EAAQ1d,EAAI8d,IAAIC,QACtB,IAAInnB,EAAAA,EAAAA,IAAqB0iB,GACvB,IAAK,MAAMwC,KAAKxC,EACR1b,GAASke,KAAMle,IAEf6B,SAA8Bgd,EAAAA,GAAc3pB,QACpC,YAANgpB,GAAyB,aAANA,EACrBkC,GAAUhe,EAAK8b,EAAG,MACT,CAAC,gBAAiB,eAAgB,WAAW1iB,SAAS0iB,IAAwC,IAAlC,GAAGA,IAAI7V,QAAQ,eAEpFjG,EAAIie,iBAAiBnC,EAAG,OAEd,aAANA,GAAoC,UAAhBxC,EAASwC,GAE/B9b,EAAIke,SAAS,GACE,kBAANpC,GAET9b,EAAIme,cAAa,GAEnBT,EAAM5B,GAAK,IAGb4B,EAAM5B,GAAK,IAKnB,IAAIllB,EAAAA,EAAAA,IAAqBgH,GACvB,IAAK,MAAMke,KAAKle,EACT0b,GAAamC,EAAQ7d,EAAMke,GAAKxC,EAAwBwC,MAEvDrc,SAA8Bgd,EAAAA,GAAc3pB,QACpC,YAANgpB,GAAyB,aAANA,EACrBkC,GAAUhe,EAAK8b,EAAGle,EAAMke,IACf,CAAC,gBAAiB,eAAgB,WAAW1iB,SAAS0iB,IAAMA,EAAE5a,WAAW,eAElFlB,EAAIie,iBAAiBnC,EAAGle,EAAMke,KAEpB,aAANA,GACe,UAAble,EAAMke,IAAgC,UAAble,EAAMke,KAAkB,OAAAxC,QAAA,IAAAA,OAAA,EAAAA,EAAWwC,MAE9D9b,EAAIke,SAAsB,UAAbtgB,EAAMke,GAAiB,EAAI,GAE3B,kBAANA,GAET9b,EAAIme,cAAa,GAEnBT,EAAM5B,GAAKle,EAAMke,IAGnB4B,EAAM5B,GAAKle,EAAMke,IAMzB9b,EAAIoe,aAAa,YAAaxgB,EAChC,CACA,SAAS8e,GAAa1c,EAAkBgI,EAAcpK,EAAgB0b,G,QAGpE,GAFAtR,EAAgB,cAATA,EAAuB,QAAUA,EAG7B,QAATA,GACS,aAATA,GACS,QAATA,QAGK,GAAa,UAATA,EAAkB,CAC3B,GAAI,eAAe4V,KAAKne,SACtB,OAAOO,EAAIoe,aAAa,aAAcxgB,GAExC,MAAM8f,EAAQ1d,EAAI0d,MAClB,IAAIzY,EAAAA,EAAAA,IAASrH,GACX8f,EAAMW,QAAUzgB,MACX,CAML,IALIqH,EAAAA,EAAAA,IAASqU,KACXoE,EAAMW,QAAU,GAChB/E,EAAW,OAGT1iB,EAAAA,EAAAA,IAAqB0iB,GACvB,IAAK,MAAMwC,KAAKxC,EACR1b,GAASke,KAAMle,IAEf6B,SAA8Bgd,EAAAA,GAAc3pB,SAAiB,aAANgpB,GAAoC,UAAhBxC,EAASwC,IAEtF9b,EAAIke,SAAS,GAEfT,GAASC,EAAO5B,EAAG,KAKzB,IAAIllB,EAAAA,EAAAA,IAAqBgH,GACvB,IAAK,MAAMke,KAAKle,EACT0b,GAAamC,EAAQ7d,EAAMke,GAAKxC,EAAwBwC,MAEvDrc,SAA8Bgd,EAAAA,GAAc3pB,SAAiB,aAANgpB,IACxC,UAAble,EAAMke,IAAgC,UAAble,EAAMke,KAAkB,OAAAxC,QAAA,IAAAA,OAAA,EAAAA,EAAWwC,MAE9D9b,EAAIke,SAAsB,UAAbtgB,EAAMke,GAAiB,EAAI,GAG5C2B,GAASC,EAAO5B,EAAGle,EAAMke,I,OAK5B,GAAIP,EAAYvT,GACrB8U,GAAS9c,EAAKgI,EAAMpK,EAAO0b,QACtB,GAAa,4BAATtR,EAAoC,CAC7C,MAAMsW,EAAwD,QAA7CplB,EAAA,OAAA0E,QAAA,IAAAA,OAAA,EAAAA,EAAmC2gB,cAAU,IAAArlB,EAAAA,EAAA,GACxDslB,EAA2D,QAAhDvf,EAAA,OAAAqa,QAAA,IAAAA,OAAA,EAAAA,EAAsCiF,cAAU,IAAAtf,EAAAA,EAAA,IAC7Dqf,GAAWE,IACTA,IAAYF,IACdte,EAAIye,UAAYH,E,MAGV7pB,EAAAA,EAAAA,IAAWmJ,KACR,MAATA,EACFoC,EAAI+Z,gBAAgB/R,GAEpBhI,EAAIoe,aAAapW,EAAMpK,GAG7B,CAGA,SAASogB,GAAUhe,EAAkBgI,EAA8BpK,GACpD,YAAToK,EAEFhI,EAAI0e,iBAAiB9gB,GACH,aAAToK,GAEThI,EAAI2e,kBAAkB/gB,EAE1B,CC7RA,MAAMgY,GAgBF,CAMFgJ,iBAAAA,CAAmB/jB,GACjB,OAAOA,C,EAETgkB,kBAAAA,GACE,MAAO,CAAC,C,EAEVC,mBAAAA,CAAqBC,GACnB,OAAOA,C,EAETC,gBAAAA,IAAqBC,GACnB,OAAO,I,EAETC,iBAAkBC,EAAAA,GAClBC,cAAAA,CAAgBvhB,EAAM+B,EAAcyf,EAA6BC,EAAmBC,GAClF,MAAMvJ,EAAUpV,EAAAA,EAASX,cAAcpC,GAKvC,OAHA8a,EAAkB4G,EAAwBvJ,GAC1CoD,EAAiBpD,EAASpW,GAEnBoW,C,EAETwJ,kBAAAA,CAAoBC,EAAQC,GAC1BD,EAAOze,YAAY0e,E,EAErBC,uBAAAA,CAAyB3f,EAAKnC,EAAc+B,GAC1C,IAAIqc,EAAWrc,EACf,GAAII,aAAe6c,EAAAA,EAAa,CAC9B,MAAO+C,EAAaC,GAAc,CAAC,SAAU,WAAY,SAASzmB,SAASyE,GAAQ,CAAC,UAAW,kBAAoB,CAAC,QAAS,gBACzH+B,EAAM2G,eAAesZ,KACvB5D,EAAgB5nB,OAAAY,OAAAZ,OAAAY,OAAA,GAAAgnB,GAAU,EAAC2D,GAAchgB,EAAMigB,YACxC5D,EAAS4D,G,CAUpB,OANA9D,GAAY/b,EAAK,CAAC,EAAGic,GAER,UAATpe,GAA6B,aAATA,GACtBqd,EAAMlb,IAGD,C,EAET8f,aAAAA,CAAetiB,EAAUyhB,EAAGjD,EAAUC,GACpC,OAAOE,GAAiB3e,EAAUwe,EAAUC,E,EAE9C8D,oBAAAA,GACE,OAAO,C,EAETC,kBAAAA,CAAoB3I,EAAcgI,EAA6BC,EAAmBC,GAChF,MAAMU,EAAWrf,EAAAA,EAASsf,eAAe7I,GAIzC,OAFAsB,EAAkB4G,EAAwBU,GAEnCA,C,EAETE,gBAAiBzqB,WACjB0qB,cAAezqB,aACf0qB,WAAY,EACZC,mBAAmB,EACnBC,kBAAkB,EAClBC,kBAAkB,EAClBC,qBAAqB,EACrBC,mBAAmB,EACnB3H,oBAAqBA,IAAM,KAC3B4H,yBAA0BxB,EAAAA,GAC1ByB,wBAAyBzB,EAAAA,GACzB0B,mBAAoB1B,EAAAA,GACpB2B,mBAAoB3B,EAAAA,GACpB4B,qBAAsBA,IAAM,KAC5BC,uBAAAA,GACE,OAAOC,EAAAA,oB,EAETC,sBAAuB/B,EAAAA,GAMvBgC,oBAAoB,EACpBC,mBAAmBvrB,EAAAA,EAAAA,IAAY1B,SAC3BuB,WACCuF,GACC9G,QAAQqB,QAAQ,MACbI,KAAKqF,GACLhH,MAAM,SAAU+K,GACftJ,WAAW,KACT,MAAMsJ,GAEV,GAMRgC,WAAAA,CAAaye,EAAQC,GACnBD,EAAOze,YAAY0e,E,EAErB2B,sBAAAA,CAAwB5B,EAAQC,GAC9BD,EAAOze,YAAY0e,E,EAErB4B,gBAAAA,CAAkBC,EAAUtC,EAAGuC,GAC7BD,EAASE,UAAYD,C,EAEvBE,YAAavC,EAAAA,GACbwC,YAAAA,CAAc3hB,EAAKkc,EAAe+C,EAAGjD,EAAUC,GACxCC,IAEwB,IAAzBA,EAAczoB,QAAgByoB,EAAc9iB,SAAS,cAEzDgjB,GAAqBpc,EAAKgc,EAAUE,GACpC9C,EAAiBpZ,EAAKic,I,EAExB2F,YAAAA,CAAcnC,EAAQC,EAAOmC,GAC3BpC,EAAOmC,aAAalC,EAAOmC,E,EAE7BC,uBAAAA,CAAyBrC,EAAQC,EAAOmC,GACtCpC,EAAOmC,aAAalC,EAAOmC,E,EAE7BE,WAAAA,CAAatC,EAAQC,GACnBD,EAAOsC,YAAYrC,E,EAErBsC,wBAAAA,CAA0BvC,EAAQC,GAChCD,EAAOsC,YAAYrC,E,EAErBuC,iBAAkB9C,EAAAA,GAClB+C,YAAAA,CAAc1kB,GACZ,MAAMkgB,EAAQlgB,EAASkgB,MACvBA,EAAMhB,YAAY,UAAW,O,EAE/ByF,gBAAAA,CAAkBC,GAChBA,EAAaX,UAAY,E,EAE3BY,cAAAA,CAAgB7kB,EAAUoC,GACxB,MAAM0iB,EAAY1iB,EAAM8d,MACxB,IAAI6E,GAAmB,OAATD,QAAS,IAATA,OAAS,EAATA,EAAW/b,eAAe,YAAa+b,EAAUC,QAAU,KACzEA,EAAqB,MAAXA,IAAmBC,EAAAA,EAAAA,IAAUD,IAAwB,KAAZA,EAAiB,IAAM,GAAKA,GAASE,OAExFjlB,EAASkgB,MAAM,WAAa6E,C,EAE9BG,kBAAAA,CAAoBN,EAAc/K,GAChC+K,EAAaX,UAAYpK,C,EAE3BsL,cAAAA,CAAgB3M,GACVA,EAAQ4M,WAAWnvB,OAAS,IAC9BuiB,EAAQ6M,YAAc,G,GAKtBC,GAAiBC,IAAWnN,ICxKlC,IAAIoN,GAAqC,KAGzB,SAAAC,GAAoCC,EAAc3kB,G,QAChE,MAAM4kB,EAAapK,EAAoBxa,GACjCwZ,EAAemL,EAAErlB,KAEvB,GAAKslB,GAAenJ,EAAmBzb,KAElB,UAAjBwZ,GAA6C,WAAjBA,GAA2B,CACzD,MAAMqD,EAAYjD,EAA4B,QAAnBlZ,EAAW,QAAX/F,EAAAgqB,EAAEE,eAAS,IAAAlqB,OAAA,EAAAA,EAAAmqB,cAAQ,IAAApkB,OAAA,EAAAA,EAAArB,OAE9C,OAAO0lB,GAAsBH,EAAY/H,E,CAE7C,CAEA,SAASkI,GAAuBH,EAAmB/H,GACjD,MAAMmI,EAAatK,EAAoBkK,GAEvC,QAAKI,IAEDpI,EAAqBoI,EAAYnI,GAC5B+H,OADT,EAGF,CAGM,SAAUK,GAAqBvV,GAC/B+U,GACFA,GAAa7tB,KAAK8Y,GAElB+U,GAAe,CAAC/U,EAEpB,C,SAGgBwV,KACd,OAAwB,OAAjBT,EACT,C,SAEgBU,KACd,MAAMC,EAAyCF,KAE3CE,IACFb,GAAec,YACfC,KAEJ,C,SAGgBA,KACd,IAAKb,GACH,OAGF,MAAMc,EAAgBd,GACtBA,GAAe,KAEf,IAAK,IAAIlH,EAAI,EAAGA,EAAIgI,EAAcrwB,OAAQqoB,IACxCiI,GAAqBD,EAAchI,GAEvC,CAEA,SAASkI,GACPC,EACAjL,EACAM,EACA1Z,GAEA,OAAQoZ,GACN,IAAK,QACHoB,EAAoC6J,EAAY3K,EAAU1Z,GAC1D,MACF,IAAK,WACHua,EAAuC8J,EAAY3K,EAAU1Z,GAC7D,MAEN,CAEA,SAASmkB,GAAsBtqB,GAC7B,MAAMyqB,EAAmBnL,EAAoBtf,EAAKwU,QAElD,IAAKiW,EAAkB,OAEvB,MAAM,UAAEhL,EAAS,KAAErb,GAASqmB,EAE5B,GAAIhL,EAAW,CACb,MAAMtZ,EAAQuZ,EAA6BD,GAE3C8K,GAAY9K,EAAWrb,EAAMpE,EAAKmE,MAAOgC,E,CAE7C,CChGO,MAAMukB,GAA2C,IAAIC,QAc5D,MAAMC,GAIJlxB,WAAAA,CAAoB4V,EAAoBub,EAA2BhuB,GACjE/C,KAAKwV,SAAWA,EAChBxV,KAAKgxB,iBAAiBxb,EAAUub,EAAchuB,E,CAGxCiuB,gBAAAA,CAAkBxb,EAAoBub,EAA2BhuB,GAGvE,MAAMkuB,EAAgBF,EACtB,GAAIhuB,EAAS,CACX,MAAM0iB,EAAM,EACNyL,GAAqC,EAC3C,IAAIC,GAAe,EACfC,EAAmB,GACnBC,EAAsB5lB,GAAe7I,QAAQ6I,MAAMA,GACnD6lB,EAAsB,MACU,IAAhCvuB,EAAQwuB,sBACVJ,GAAe,QAEgBrpB,IAA7B/E,EAAQquB,mBACVA,EAAmBruB,EAAQquB,uBAEMtpB,IAA/B/E,EAAQsuB,qBACVA,EAAqBtuB,EAAQsuB,yBAEcvpB,IAAzC/E,EAAQyuB,+BACVF,EAAsBvuB,EAAQyuB,8BAGhCxxB,KAAKyxB,aAAejc,EAASkc,gBAC3BT,EACAxL,EACA,KACA0L,EACAD,EACAE,EACAC,EACAC,E,KAEG,CACL,MAAM7L,EAAM,EACZzlB,KAAKyxB,aAAejc,EAASkc,gBAC3BT,EACAxL,EACA,MACA,GACA,EACA,GACA,OACA,K,EAKC3f,MAAAA,CAAQqG,EAAqB5B,GAClC,MAAM,SAAEiL,EAAQ,aAAEic,GAAiBzxB,KAEnC,OADAwV,EAASmc,gBAAgBxlB,EAAUslB,EAAc,KAAMlnB,GAChDiL,EAASoc,sBAAsBH,E,CAGjC9iB,OAAAA,CAASpE,GACdvK,KAAKwV,SAASmc,gBAAgB,KAAM3xB,KAAKyxB,aAAc,KAAMlnB,E,WAIjDzE,GAAQ2c,EAAoBsO,EAA2BxmB,GACrE,MAAMsnB,EAAUjB,GAAahhB,IAAImhB,GACjC,GAAe,MAAXc,EACF,OAAOA,EAAQ/rB,OAAO2c,EAASlY,GAGjC,MAAMqD,EAAO,IAAIkjB,GAAKvB,GAAgBwB,GAEtC,OADAH,GAAa/gB,IAAIkhB,EAAcnjB,GACxBA,EAAK9H,OAAO2c,EAASlY,EAC9B,C,SAEgBsD,GAAYkjB,EAA2BhuB,EAA6B,CAAC,G,MACnF,MAAM8uB,EAAUjB,GAAahhB,IAAImhB,GACjC,GAAe,MAAXc,EACF,OAAOA,EAGT,MAAMjkB,EAAO,IAAIkjB,GAAKvB,GAAgBwB,EAAchuB,GA0BpD,OAzBA6tB,GAAa/gB,IAAIkhB,EAAcnjB,GAE/B0X,EAAwC,QAApB3f,EAAI,OAAJiI,QAAA,IAAAA,OAAA,EAAAA,EAAM6jB,oBAAc,IAAA9rB,OAAA,EAAAA,EAAA1C,QAAS8tB,GAEjDhnB,EAAAA,GAAMC,IAAI,oBAAqB,CAAC2lB,EAAc3kB,KAC5C,MAAM8mB,EAAgBvN,EAAiBoL,EAAErlB,MAEzCilB,GAAewC,gBAAgBD,EAAe,KAC5C9mB,EAAKgnB,cAAcrC,OAKvB5lB,EAAAA,GAAMC,IAAI,kBAAmB,CAAC2lB,EAAc3kB,K,QAC1C,MAAM1D,EAAOooB,GAAmCC,EAAG3kB,GAEnD,IAAK1D,EAAM,OAKX,MAAMugB,EAA+B,QAAnBnc,EAAW,QAAX/F,EAAAgqB,EAAEE,eAAS,IAAAlqB,OAAA,EAAAA,EAAAmqB,cAAQ,IAAApkB,OAAA,EAAAA,EAAArB,MACrC4lB,GAAoB,CAAEvV,OAAQ1P,EAAMX,MAAOwd,MAGtCja,CACT,CtB/HA,IAAIqkB,IAAuB,EAG3B,MAAMznB,GAA0BA,CAAC1D,EAAIorB,KACnC,GAAID,GACF,OAAOnrB,EAAGorB,GAGZD,IAAuB,EAEvB,IACE,OAAO1C,GAAe4C,eAAerrB,EAAIorB,E,SAEzCD,IAAuB,EACvB9B,I,GAIJ,SAASiC,GAAwB3lB,IAC/B4lB,EAAAA,EAAAA,IAAO5lB,GAAO,CAAC,EAAG,EAAG,EAAG,IAAI5G,SAAS4G,EAAI6lB,UAAW,uEAEpD,MAAM1kB,EAAOgjB,GAAahhB,IAAInD,GAE9B,QAAKmB,IAELpD,GAAwB,KACtBoD,EAAKe,QAAQ,KACXiiB,GAAa9b,OAAOrI,MAErB,OAEI,EACT,CAEA,SAAS8lB,GAAaC,GACpB,GAAY,MAARA,EACF,OAAO,KAGT,MAAMF,EAAYE,EAAqBF,SACvC,OAAiB,IAAbA,GAA+B,IAAbA,EACbE,EAGFjD,GAAekD,iBAAiBD,EACzC,CAEA,MAAME,IAAaxxB,EAAAA,EAAAA,IAAWyxB,SAAWA,OAAOC,IAC5CD,OAAOC,IAAI,gBACX,MAEJ,SAASC,GACP1mB,EACA8kB,EACA/tB,GAEA,MAAO,CACL4vB,SAAUJ,GACVxvB,IAAY,MAAPA,EAAc,KAAO6vB,OAAO7vB,GACjCiJ,WACA8kB,gBACA+B,eAAgB,KAEpB,CAEA,MAAM3C,GAAYd,GAAec,UAajC,IAAAtwB,GAAe,CACb+F,UACAuqB,aACAxiB,cACArD,2BACA4nB,0BACAG,eACAM,gBACA/N,sB,wIuB5FF,MAAMmO,EACJ,sBAAOC,GACL,MAAM,IAAI/yB,MAAM,0D,CAGlB,sBAAOgzB,GACL,MAAM,IAAIhzB,MAAM,0D,CAWlBP,WAAAA,CAAa+C,EAAaywB,GAP1BC,EAAAxjB,IAAA,KAAQ,IACRyjB,EAAAzjB,IAAA,KAAY,IACZ0jB,EAAA1jB,IAAA,KAAY,IACZ2jB,EAAA3jB,IAAA,KAAQ,IACR4jB,EAAA5jB,IAAA,KAAY,IACZ6jB,EAAwB7jB,IAAA,cAGjB6B,EAAAA,EAAAA,IAAS/O,KAAMA,EAAMowB,OAAOpwB,IAEjC,MAAMgxB,EAAcC,EAAajxB,EAAKywB,IAChC,KAAES,EAAI,SAAEC,EAAQ,SAAEC,EAAQ,KAAEC,EAAI,SAAEC,EAAQ,OAAErQ,GAAW+P,GAE7DO,EAAAA,EAAAA,IAAAl0B,KAAIqzB,EAASQ,EAAI,MACjBK,EAAAA,EAAAA,IAAAl0B,KAAIszB,EAAaQ,EAAQ,MACzBI,EAAAA,EAAAA,IAAAl0B,KAAiBuzB,EAAAQ,GAAY,IAAG,MAChCG,EAAAA,EAAAA,IAAAl0B,KAAIwzB,EAASQ,EAAI,MACjBE,EAAAA,EAAAA,IAAAl0B,KAAIyzB,EAAaQ,EAAQ,MACzBC,EAAAA,EAAAA,IAAAl0B,KAAI0zB,EAAW,IAAIS,EAAAA,EAAgBvQ,GAAO,I,CAI5C,YAAIqQ,GACF,OAAOG,EAAAA,EAAAA,IAAAp0B,KAAIyzB,EAAA,I,CAGb,YAAIQ,CAAU9wB,IACZuO,EAAAA,EAAAA,IAASvO,KAAS+wB,EAAAA,EAAAA,IAAAl0B,KAAiByzB,EAAAtwB,EAAI+rB,OAAM,I,CAG/C,QAAImF,GACF,OAAOr0B,KAAK8zB,UAAY9zB,KAAKg0B,KAAO,IAAMh0B,KAAKg0B,KAAO,G,CAGxD,QAAIK,CAAMlxB,GACR,GAAIA,IAAOuO,EAAAA,EAAAA,IAASvO,GAAM,CACxBA,EAAMA,EAAI+rB,OACV,MAAM,SAAE4E,EAAQ,KAAEE,GAASM,EAAS,KAAKnxB,KACzCnD,KAAK8zB,SAAWA,EAChB9zB,KAAKg0B,KAAOA,C,EAIhB,YAAIF,GACF,OAAOM,EAAAA,EAAAA,IAAAp0B,KAAIszB,EAAA,I,CAGb,YAAIQ,CAAU3wB,GACZA,IAAOuO,EAAAA,EAAAA,IAASvO,KAAS+wB,EAAAA,EAAAA,IAAAl0B,KAAIszB,EAAanwB,EAAI+rB,OAAM,I,CAGtD,QAAI8E,GACF,OAAOI,EAAAA,EAAAA,IAAAp0B,KAAIwzB,EAAA,I,CAGb,QAAIQ,CAAM7wB,IACRuO,EAAAA,EAAAA,IAASvO,KAAS+wB,EAAAA,EAAAA,IAAAl0B,KAAawzB,EAAArwB,EAAI+rB,OAAM,I,CAG3C,YAAI6E,GACF,OAAOK,EAAAA,EAAAA,IAAAp0B,KAAIuzB,EAAA,I,CAGb,YAAIQ,CAAU5wB,GACZ,IAAIuO,EAAAA,EAAAA,IAASvO,GAAM,CACjBA,EAAMA,EAAI+rB,OACV,MAAMqF,EAAW,oBACjB,IAAIC,EAAOrxB,EACX,MAAOoxB,EAASlK,KAAKmK,GACnBA,EAAOA,EAAKtqB,QAAQqqB,EAAU,IAE5BC,GAAMN,EAAAA,EAAAA,IAAAl0B,KAAiBuzB,EAAA,IAAMiB,EAAI,MAChCN,EAAAA,EAAAA,IAAAl0B,KAAIuzB,EAAa,IAAG,I,EAI7B,UAAI3P,GACF,MAAMzgB,GAAMixB,EAAAA,EAAAA,IAAAp0B,KAAI0zB,EAAA,KAAS9O,WACzB,OAAuB,IAAfzhB,EAAIjD,QAAgBiD,EAAIwK,WAAW,KAAQxK,EAAM,IAAIA,G,CAG/D,UAAIygB,CAAQzgB,IACNuO,EAAAA,EAAAA,IAASvO,KACXA,EAAMA,EAAI+rB,QACVgF,EAAAA,EAAAA,IAAAl0B,KAAI0zB,EAAW,IAAIS,EAAAA,EAAgBhxB,GAAI,K,CAI3C,QAAI0wB,GACF,OAAOO,EAAAA,EAAAA,IAAAp0B,KAAIqzB,EAAA,I,CAGb,QAAIQ,CAAM1wB,IACJuO,EAAAA,EAAAA,IAASvO,KACXA,EAAMA,EAAI+rB,OACN/rB,GAAK+wB,EAAAA,EAAAA,IAAAl0B,KAAaqzB,EAAAlwB,EAAIwK,WAAW,KAAOxK,EAAM,IAAIA,IAAK,MACtD+wB,EAAAA,EAAAA,IAAAl0B,KAAIqzB,EAAS,GAAE,K,CAIxB,QAAIoB,GACF,MAAO,GAAGz0B,KAAKi0B,aAAaj0B,KAAKq0B,OAAOr0B,KAAK+zB,WAAW/zB,KAAK4jB,SAAS5jB,KAAK6zB,M,CAG7E,QAAIY,CAAMtxB,GACR,GAAIA,IAAOuO,EAAAA,EAAAA,IAASvO,GAAM,CACxBA,EAAMA,EAAI+rB,OACV,MAAM,SAAE+E,EAAQ,SAAEH,EAAQ,KAAEE,EAAI,KAAEH,EAAI,OAAEjQ,EAAM,SAAEmQ,GAAaO,EAASnxB,GACtEnD,KAAKi0B,SAAWA,EAChBj0B,KAAK8zB,SAAWA,EAChB9zB,KAAK+zB,SAAWA,EAChB/zB,KAAKg0B,KAAOA,EACZh0B,KAAK6zB,KAAOA,EACZ7zB,KAAK4jB,OAASA,C,EAIlB,UAAI8Q,GACF,MAAO,GAAG10B,KAAKi0B,aAAaj0B,KAAKq0B,M,CAGnC,UAAIK,CAAQvxB,GACV,GAAIA,IAAOuO,EAAAA,EAAAA,IAASvO,GAAM,CACxBA,EAAMA,EAAI+rB,OACV,MAAM,SAAE+E,EAAQ,SAAEH,EAAQ,KAAEE,GAASM,EAASnxB,GAC9CnD,KAAKi0B,SAAWA,EAChBj0B,KAAK8zB,SAAWA,EAChB9zB,KAAKg0B,KAAOA,C,EAIhB,gBAAIW,GACF,OAAOP,EAAAA,EAAAA,IAAAp0B,KAAI0zB,EAAA,I,CAIb9O,QAAAA,GACE,OAAO5kB,KAAKy0B,I,CAGdG,MAAAA,GACE,OAAO50B,KAAK4kB,U,CAIdiQ,MAAAA,GACE,MAAO,CACLZ,SAAUj0B,KAAKi0B,SACfD,KAAMh0B,KAAKg0B,KACXK,KAAMr0B,KAAKq0B,KACXP,SAAU9zB,KAAK8zB,SACfC,SAAU/zB,KAAK+zB,SACfF,KAAM7zB,KAAK6zB,KACXjQ,OAAQ5jB,KAAK4jB,OACb8Q,OAAQ10B,KAAK00B,OACbD,KAAMz0B,KAAKy0B,K,4FAQJK,EAAyF7B,EAEtF,SAAAqB,EAAU3xB,EAAM,IAC9B,MAAMoyB,EAAS,CACbN,KAAM,GACNC,OAAQ,GACRT,SAAU,GACVH,SAAU,GACVO,KAAM,GACNL,KAAM,GACND,SAAU,GACVnQ,OAAQ,GACRiQ,KAAM,IAER,IAAKlxB,KAAQ+O,EAAAA,EAAAA,IAAS/O,GAAM,OAAOoyB,EAEnCpyB,EAAMA,EAAIusB,OACV,MAAM8F,EAAU,uFACVC,EAAUtyB,EAAIuyB,MAAMF,GAE1B,OAAKC,GAGLF,EAAOd,SAAWgB,EAAQ,IAAM,SAChCF,EAAOjB,SAAWmB,EAAQ,IAAM,WAChCF,EAAOf,KAAOiB,EAAQ,IAAM,GAC5BF,EAAOhB,SAAWkB,EAAQ,IAAM,IAChCF,EAAOnR,OAASqR,EAAQ,KAAO,GAC/BF,EAAOlB,KAAOoB,EAAQ,KAAO,GAC7BF,EAAON,KAAO9xB,EACdoyB,EAAOL,OAASK,EAAOd,SAAW,KAAOc,EAAOjB,UAAYiB,EAAOf,KAAO,IAAIe,EAAOf,OAAS,IAC9Fe,EAAOV,KAAOU,EAAOjB,UAAYiB,EAAOf,KAAO,IAAIe,EAAOf,OAAS,IAE5De,GAbcA,CAcvB,CAEA,SAASnB,EAAcjxB,EAAaywB,GAClC,MAAM+B,EAAY,kBAElB,IAAIC,EAAU,GACVC,EAAiD,KAErD,KAAK/yB,EAAAA,EAAAA,IAAY8wB,GAAO,CAEtB,GADAA,EAAOL,OAAOK,GAAMlE,QACfiG,EAAU9K,KAAK+I,GAAO,MAAM,IAAIkC,UAAU,+CAC/CD,EAAaf,EAASlB,E,CAKxB,GAFAzwB,EAAMowB,OAAOpwB,GAAKusB,OAEdiG,EAAU9K,KAAK1nB,GACjByyB,EAAUzyB,MACL,KAAI0yB,EAWT,MAAM,IAAIC,UAAU,0CARhBF,EAFAzyB,EACEA,EAAIgL,WAAW,MACP0nB,EAAWpB,SAAWtxB,EAEtB0yB,EAAWX,QAAU/xB,EAAIgL,WAAW,KAAOhL,EAAM,IAAIA,KAGvD0yB,EAAWZ,I,CAMzB,OAAOH,EAASc,EAClB,C,gGCjPA,MAAMG,EAAU,mBACVC,EAAU,MACVC,EAAiB,CACrB,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,MAAO,IACP,MAAO,MAGT,SAASC,EAAUR,GACjB,OAAOO,EAAeP,EACxB,CAEA,SAASS,EAAUC,EAAgCnhB,EAAcpK,GAC/D,MAAM5J,GAAM0F,EAAAA,EAAAA,IAAQkE,GAASA,EAAMwrB,KAAK,KAAOxrB,EAC3CoK,KAAQmhB,EAAMA,EAAKnhB,GAAM7S,KAAKnB,GAC7Bm1B,EAAKnhB,GAAQ,CAAChU,EACrB,CAEA,SAASq1B,EAASzrB,EAAenH,GAC/ByyB,EAAS31B,KAAMkD,EAAKmH,EACtB,CAEA,SAAS0rB,EAAQC,GACf,OAAOC,mBAAmBD,EAAI9rB,QAAQsrB,EAAS,KACjD,CAEA,SAASU,EAAQF,GACf,OAAOG,mBAAmBH,GAAK9rB,QAAQqrB,EAASG,EAClD,C,MAEavB,GAAqFxuB,EAAA,MAGhG/F,WAAAA,CAAa+G,GAFbyvB,EAAAvmB,IAAA,KAAQ/O,OAAO2G,OAAO,OAGf,OAALd,QAAA,IAAAA,IAAAA,EAAU,IAEV,MAAMivB,GAAOxB,EAAAA,EAAAA,IAAAp0B,KAAIo2B,EAAA,KAEjB,GAAqB,kBAAVzvB,EAAoB,CACL,MAApBA,EAAM0vB,OAAO,KACf1vB,EAAQA,EAAMqI,MAAM,IAEtB,IAAK,IAAIsnB,EAAQ3vB,EAAM4vB,MAAM,KAAMhO,EAAI,EAAGroB,EAASo2B,EAAMp2B,OAAQqoB,EAAIroB,EAAQqoB,IAAK,CAChF,MAAMle,EAAQisB,EAAM/N,GACdxoB,EAAQsK,EAAMqI,QAAQ,KAG5B,IACM3S,GAAS,EACX41B,EAASC,EAAMG,EAAO1rB,EAAM2E,MAAM,EAAGjP,IAASg2B,EAAO1rB,EAAM2E,MAAMjP,EAAQ,KAChEsK,EAAMnK,QACfy1B,EAASC,EAAMG,EAAO1rB,GAAQ,G,CAEhC,MAAO1J,GACHuL,C,QAMR,IAAI/F,EAAAA,EAAAA,IAAQQ,GACV,IAAK,IAAI4hB,EAAI,EAAGroB,EAASyG,EAAMzG,OAAQqoB,EAAIroB,EAAQqoB,IAAK,CACtD,MAAMle,EAAQ1D,EAAM4hB,GACpBoN,EAASC,EAAMvrB,EAAM,GAAIA,EAAM,G,MAE5B,GAAI1D,EAAM3F,QACf2F,EAAM3F,QAAQ80B,EAASF,QAEvB,IAAK,MAAM1yB,KAAOyD,EAChBgvB,EAASC,EAAM1yB,EAAKyD,EAAMzD,G,CAMlCszB,MAAAA,CAAQ/hB,EAAcpK,GACpBsrB,GAASvB,EAAAA,EAAAA,IAAAp0B,KAAIo2B,EAAA,KAAQ3hB,EAAMpK,E,CAG7ByK,OAAQL,UACC2f,EAAAA,EAAAA,IAAAp0B,KAAIo2B,EAAA,KAAO3hB,E,CAGpB7E,GAAAA,CAAK6E,GACH,MAAMmhB,GAAOxB,EAAAA,EAAAA,IAAAp0B,KAAIo2B,EAAA,KACjB,OAAO3hB,KAAQmhB,EAAOA,EAAKnhB,GAAM,GAAK,I,CAGxCgiB,MAAAA,CAAQhiB,GACN,MAAMmhB,GAAOxB,EAAAA,EAAAA,IAAAp0B,KAAIo2B,EAAA,KACjB,OAAO3hB,KAAQmhB,EAAOA,EAAKnhB,GAAMzF,MAAM,GAAK,E,CAG9C4D,GAAAA,CAAK6B,GACH,OAAOA,KAAQ2f,EAAAA,EAAAA,IAAAp0B,KAAIo2B,EAAA,I,CAGrBr1B,IAAAA,GACE,OAAOD,OAAOC,MAAKqzB,EAAAA,EAAAA,IAAAp0B,KAAIo2B,EAAA,K,CAGzBvmB,GAAAA,CAAK4E,EAAcpK,IACjB+pB,EAAAA,EAAAA,IAAAp0B,KAAUo2B,EAAA,KAAC3hB,GAAQ,CAAC,GAAKpK,E,CAG3BrJ,OAAAA,CAAS0G,EAAUgvB,GACjB,MAAMd,GAAOxB,EAAAA,EAAAA,IAAAp0B,KAAIo2B,EAAA,KACjBt1B,OAAO61B,oBAAoBf,GAAM50B,QAAQ,SAAUyT,GACjDmhB,EAAKnhB,GAAMzT,QAAQ,SAAUqJ,GAC3B3C,EAASmE,KAAK6qB,EAASrsB,EAAOoK,EAAMzU,K,EACnCA,K,EACFA,K,CAGL40B,MAAAA,GACE,MAAO,CAAC,C,CAGVhQ,QAAAA,GACE,MAAMgR,GAAOxB,EAAAA,EAAAA,IAAAp0B,KAAIo2B,EAAA,KACXzvB,EAAe,GACrB,IAAK,MAAMzD,KAAO0yB,EAAM,CACtB,MAAMnhB,EAAOyhB,EAAOhzB,GACpB,IAAK,IAAIqlB,EAAI,EAAGle,EAAQurB,EAAK1yB,GAAMqlB,EAAIle,EAAMnK,OAAQqoB,IACnD5hB,EAAM/E,KAAK6S,EAAO,IAAMyhB,EAAO7rB,EAAMke,I,CAGzC,OAAO5hB,EAAMkvB,KAAK,I,kNCzHhB,MAAOe,UAAsBC,EAAAA,EACjC,QAAWpC,G,MACT,OAA0C,QAAnC9uB,EAAA3F,KAAKqM,MAA8B,mBAAA1G,EAAAA,EAAI,E,CAGhD,QAAW8uB,CAAMtxB,GACfnD,KAAK6qB,aAAsC,OAAA1nB,E,CAG7C,YAAI8wB,G,MACF,OAA8C,QAAvCtuB,EAAA3F,KAAKqM,MAAkC,uBAAA1G,EAAAA,EAAI,E,CAGpD,QAAI0uB,G,MACF,OAA0C,QAAnC1uB,EAAA3F,KAAKqM,MAA8B,mBAAA1G,EAAAA,EAAI,E,CAGhD,UAAIie,G,MACF,OAA4C,QAArCje,EAAA3F,KAAKqM,MAAgC,qBAAA1G,EAAAA,EAAI,E,CAGlD,QAAIkuB,G,MACF,OAA0C,QAAnCluB,EAAA3F,KAAKqM,MAA8B,mBAAA1G,EAAAA,EAAI,E,CAGhD,YAAImuB,G,MACF,OAA8C,QAAvCnuB,EAAA3F,KAAKqM,MAAkC,uBAAA1G,EAAAA,EAAI,E,CAGpD,QAAIquB,G,MACF,OAA0C,QAAnCruB,EAAA3F,KAAKqM,MAA8B,mBAAA1G,EAAAA,EAAI,E,CAGhD,YAAIouB,G,MACF,OAA8C,QAAvCpuB,EAAA3F,KAAKqM,MAAkC,uBAAA1G,EAAAA,EAAI,E,CAG7CklB,YAAAA,CAAciM,EAAuBzsB,GAC1C,GAA6C,SAAzCysB,EAA2C,CAC7C,MAAMC,GAAczC,EAAAA,EAAAA,GAASjqB,GAC7B,IAAK,MAAMpJ,KAAK81B,EACdhpB,MAAM8c,aAAa5pB,EAAG81B,EAAY91B,G,MAGpC8M,MAAM8c,aAAaiM,EAAezsB,E,ECxDlC,MAAO2sB,UAAwBH,EAAAA,EAGnCj3B,WAAAA,CAAoBgjB,GAClB7U,QADkB,KAAQ6U,SAARA,EAFb,KAAiBD,mBAAG,C,CAM3B,SAAWsU,GACT,OAAOj3B,KAAK4iB,Q,ECSV,MAAOsU,UAAqBL,EAAAA,EAOhCj3B,WAAAA,GACEmO,QAJK,KAAWopB,YAAGA,EAAAA,GAKnBn3B,KAAKsyB,SAAW,EAChBtyB,KAAK2mB,SAAWyQ,EAAAA,E,CAGX1qB,aAAAA,CAAepC,GACpB,MAAMqc,EAAWrc,EAAKiH,cAEtB,IAAIkR,EACJ,QAAQ,GACN,KAAKkE,IAAa0Q,EAAAA,GAEhB,OADA5U,EAAU,IAAI6U,EAAAA,EACP7U,EACT,KAAK8U,EAAAA,GAAoB3kB,IAAI+T,GAC3BlE,EAAU,IAAI6G,EAAAA,EACd,MACF,KAAK3C,IAAa6Q,EAAAA,EAChB/U,EAAU,IAAImU,EACd,MACF,IAAkB,cAAbjQ,EACL,IAAkB,mBAAbA,EACHlE,EAAU,IAAIuU,GAAgBlU,EAAAA,EAAAA,IAAY6D,IAC1C,MACF,QACElE,EAAU,IAAIoU,EAAAA,EACd,MAMJ,OAHApU,EAAQkE,SAAWA,EACnBlE,EAAQoH,QAAUvf,EAAKmtB,cAEhBhV,C,CAKFiV,eAAAA,CAAiBC,EAAgBrtB,GACtC,OAAOtK,KAAK0M,cAAcpC,E,CAGrBqiB,cAAAA,CAAgB7I,GACrB,OAAO,IAAI8T,EAAAA,EAAS9T,E,CAGfxW,cAAAA,CAAuCtG,GAC5C,MAAM6wB,EAAKC,EAAAA,EAAYloB,IAAI5I,GAC3B,OAAO1E,EAAAA,EAAAA,IAAYu1B,GAAM,KAAOA,C,CAG3BE,aAAAA,CAAsCpxB,GAE3C,MAAI,KAAK0jB,KAAK1jB,GACL3G,KAAKsN,eAAkB3G,EAAMqI,MAAM,IAErC,I,CAGFgpB,gBAAAA,GAEL,MAAO,E,CAIFC,aAAAA,GACL,MAAMC,EAAW,IAAIN,EAAAA,EAAS,IAE9B,OADAM,EAASvR,SAAWwR,EAAAA,GACbD,C,CAGT,eAAIE,GACF,OAAOvkB,EAAAA,EAAIwkB,M,ECvFf,SAASC,IAaP,MAAMC,EAAM,IAAIrB,EACVsB,EAAwBD,EAAI7rB,cAAcsH,KAAKukB,GAC/CE,EAAOD,EAAsBE,EAAAA,IAC7BC,EAAOH,EAAsBI,EAAAA,IAC7BC,EAAOL,EAAsBM,EAAAA,IAC7BntB,EAAM6sB,EAAsBO,EAAAA,IAClCptB,EAAI3E,GAAK+xB,EAAAA,GACT,MAAM3rB,EAAYorB,EAAsBhrB,EAAAA,IAYxC,OAVA+qB,EAAI9qB,YAAYgrB,GAChBA,EAAKhrB,YAAYkrB,GACjBF,EAAKhrB,YAAYorB,GACjBA,EAAKprB,YAAYL,GACjBA,EAAUK,YAAY9B,GAEtB4sB,EAAIS,gBAAkBP,EACtBF,EAAII,KAAOA,EACXJ,EAAIM,KAAOA,EAEJN,CACT,CAGO,MAAMU,EAA2FplB,EAAAA,EAAIxG,SAAWirB,G,0ECtC1GY,EAAsH,SAAUzW,GAC3I,OAAOA,EAAQ0H,KACjB,C,sICaA,MAAMgP,EAAQ,IAAIC,EAAAA,EAA6B,WAE/C,MAAMC,UAAoBt0B,EAAAA,EAQxBnF,WAAAA,CAAa05B,EAAwBv2B,GACnCgL,Q,YAPFwrB,EAAuB1pB,IAAA,aACvB2pB,EAAA3pB,IAAA,KAAyB,IACzB4pB,EAAA5pB,IAAA,KAAO,GAEP6pB,EAAY7pB,IAAA,cAKVqkB,EAAAA,EAAAA,IAAAl0B,KAAe05B,EAAA32B,EAAQs1B,OAAM,MAC7BnE,EAAAA,EAAAA,IAAAl0B,KAAIu5B,EAAaD,EAAQ,MAEzBlF,EAAAA,EAAAA,IAAAp0B,KAAcu5B,EAAA,KAACI,GAAG,qBAAuBlF,I,OACvCP,EAAAA,EAAAA,IAAAl0B,KAAAy5B,GAAA9zB,GAASyuB,EAAAA,EAAAA,IAAA,KAAAqF,EAAA,KAAT9zB,IAAWA,GAAA,MACXuuB,EAAAA,EAAAA,IAAAl0B,KAAIw5B,GAAUpF,EAAAA,EAAAA,IAAAp0B,KAAIw5B,EAAA,KAAQxqB,MAAM,GAAGolB,EAAAA,EAAAA,IAAAp0B,KAASy5B,EAAA,MAAC,MAC7CrF,EAAAA,EAAAA,IAAAp0B,KAAIw5B,EAAA,KAAQ53B,KAAK,CACf0J,MAAO,KACPsQ,MAAO,GACPjZ,IAAK8xB,KAEN,OAEHL,EAAAA,EAAAA,IAAAp0B,KAAcu5B,EAAA,KAACI,GAAG,oBAAsBlF,KACtCL,EAAAA,EAAAA,IAAAp0B,KAAW45B,EAAA,IAAAC,GAAAhuB,KAAX7L,KAAYy0B,IACX,MAIHz0B,KAAK25B,GAAGG,EAAAA,GAAgBC,KAAM,MAC5B3F,EAAAA,EAAAA,IAAAp0B,KAAI45B,EAAA,IAAAC,GAAJhuB,KAAA7L,OACC,MAEHA,KAAK25B,GAAGG,EAAAA,GAAgBE,QAAUC,IAChCd,EAAMtpB,IAAIoqB,EAAQ,CAChBX,UAAUlF,EAAAA,EAAAA,IAAAp0B,KAAcu5B,EAAA,KACxBxtB,OAAOqoB,EAAAA,EAAAA,IAAAp0B,KAAWw5B,EAAA,KAACxqB,QACnBkrB,KAAK9F,EAAAA,EAAAA,IAAAp0B,KAASy5B,EAAA,QAEf,MAEHz5B,KAAK25B,GAAGG,EAAAA,GAAgBK,QAAUF,IAChC,GAAId,EAAMvmB,IAAIqnB,GAAS,CACrB,MAAMG,EAAMjB,EAAMvpB,IAAIqqB,IACtB/F,EAAAA,EAAAA,IAAAl0B,KAAiBu5B,EAAAa,EAAId,SAAQ,MAC7BpF,EAAAA,EAAAA,IAAAl0B,KAAcw5B,EAAAY,EAAIruB,MAAK,MACvBmoB,EAAAA,EAAAA,IAAAl0B,KAAYy5B,EAAAW,EAAIF,IAAG,I,GAEpB,MAEHl6B,KAAK25B,GAAGG,EAAAA,GAAgBO,QAAUJ,IAChCd,EAAMrkB,OAAOmlB,IACZ,OAEH7F,EAAAA,EAAAA,IAAAp0B,KAAI45B,EAAA,IAAAC,GAAJhuB,KAAA7L,K,CAeF,UAAIE,GACF,OAAOk0B,EAAAA,EAAAA,IAAAp0B,KAAWw5B,EAAA,KAACt5B,M,CAGrB,SAAIoL,GACF,OAAO8oB,EAAAA,EAAAA,IAAAp0B,KAAIw5B,EAAA,MAAQpF,EAAAA,EAAAA,IAAAp0B,KAASy5B,EAAA,MAAEnuB,K,CAIhCgvB,EAAAA,CAAIC,GACF,KAAKnQ,EAAAA,EAAAA,IAASmQ,IAAUC,MAAMD,GAAQ,OAEtC,IAAIE,GAAYrG,EAAAA,EAAAA,IAAAp0B,KAASy5B,EAAA,KAAGc,EAC5BE,EAAY/V,KAAKgW,IAAIhW,KAAKiW,IAAIF,EAAW,GAAIz6B,KAAKE,OAAS,IAE3Dg0B,EAAAA,EAAAA,IAAAl0B,KAAIy5B,EAAQgB,EAAS,MAErBrG,EAAAA,EAAAA,IAAAp0B,KAAcu5B,EAAA,KAACqB,QAAQ,gCAAgCxG,EAAAA,EAAAA,IAAAp0B,KAAWw5B,EAAA,MAACpF,EAAAA,EAAAA,IAAAp0B,KAAIy5B,EAAA,MAAO92B,MAC9EyxB,EAAAA,EAAAA,IAAAp0B,KAAY05B,EAAA,KAACkB,QAAQ,YAAYxG,EAAAA,EAAAA,IAAAp0B,KAAIw5B,EAAA,MAAQpF,EAAAA,EAAAA,IAAAp0B,KAASy5B,EAAA,M,CAGxDoB,IAAAA,GACE76B,KAAKs6B,IAAI,E,CAGXQ,OAAAA,GACE96B,KAAKs6B,GAAG,E,CAGVS,SAAAA,CAAWzvB,EAAYsQ,EAAejZ,GAC/BA,IAAQ+O,EAAAA,EAAAA,IAAS/O,MACtBuxB,EAAAA,EAAAA,IAAAl0B,KAAcw5B,GAAApF,EAAAA,EAAAA,IAAAp0B,KAAIw5B,EAAA,KAAQxqB,MAAM,GAAGolB,EAAAA,EAAAA,IAAAp0B,KAAIy5B,EAAA,KAAQ,GAAE,MACjDrF,EAAAA,EAAAA,IAAAp0B,KAAIw5B,EAAA,KAAQ53B,KAAK,CACf0J,QACAsQ,QACAjZ,SAEFuxB,EAAAA,EAAAA,IAAAl0B,KAAIy5B,EAAQz5B,KAAKE,OAAS,EAAC,MAE3Bk0B,EAAAA,EAAAA,IAAAp0B,KAAIu5B,EAAA,KAAWqB,QAAQ,+BAAgCj4B,G,CAGzDq4B,YAAAA,CAAc1vB,EAAYsQ,EAAejZ,GAClCA,IAAQ+O,EAAAA,EAAAA,IAAS/O,MACtByxB,EAAAA,EAAAA,IAAAp0B,KAAWw5B,EAAA,MAACpF,EAAAA,EAAAA,IAAAp0B,KAAIy5B,EAAA,MAAS,CACvBnuB,QACAsQ,QACAjZ,QAGFyxB,EAAAA,EAAAA,IAAAp0B,KAAIu5B,EAAA,KAAWqB,QAAQ,+BAAgCj4B,G,CAIzD,SAAIw2B,GACF,OAAOA,C,EAnEDI,EAAA,IAAA1I,QAAA2I,EAAA,IAAA3I,QAAA4I,EAAA,IAAA5I,QAAA6I,EAAA,IAAA7I,QAAA+I,EAAA,IAAAqB,QAAApB,EAAA,SAAApF,EAAO,KACbP,EAAAA,EAAAA,IAAAl0B,KAAcw5B,EAAA,CACZ,CACEluB,MAAO,KACPsQ,MAAO,GACPjZ,IAAK8xB,IAAQL,EAAAA,EAAAA,IAAAp0B,KAAIu5B,EAAA,KAAW9E,OAE/B,MACDP,EAAAA,EAAAA,IAAAl0B,KAAIy5B,EAAQ,EAAC,IACf,E,MA+DWyB,EAAyF7B,C,yKCzItG,MAAM8B,EAAW,mBACXhC,EAAQ,IAAIC,EAAAA,EAA8B,YAEhD,MAAMgC,UAAqBr2B,EAAAA,EAMzBnF,WAAAA,CAAamD,GACXgL,Q,YALFstB,EAAAxrB,IAAA,KAAO,IAAIilB,EAAAA,EAAgBqG,IAC3BG,EAAAzrB,IAAA,MAAc,GACd0rB,EAAY1rB,IAAA,cAKVqkB,EAAAA,EAAAA,IAAAl0B,KAAeu7B,EAAAx4B,EAAQs1B,OAAM,MAE7BjE,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAC,GAAJ5vB,KAAA7L,MAEAA,KAAK25B,GACH,+BACClF,KACCP,EAAAA,EAAAA,IAAAl0B,KAAIs7B,GAAe,EAAI,KAEvB,MAAMI,GAAWtH,EAAAA,EAAAA,IAAAp0B,KAASq7B,EAAA,KAACxH,MAC3BO,EAAAA,EAAAA,IAAAp0B,KAAIq7B,EAAA,KAAM5G,KAAOkH,EAAgBlH,GAE7BiH,KAAatH,EAAAA,EAAAA,IAAAp0B,KAAIq7B,EAAA,KAAMxH,OACzBO,EAAAA,EAAAA,IAAAp0B,KAAYu7B,EAAA,KAACX,QAAQ,eAGvB1G,EAAAA,EAAAA,IAAAl0B,KAAIs7B,GAAe,EAAK,MAE1B,MAIFt7B,KAAK25B,GACHG,EAAAA,GAAgBC,KAChB,MACE3F,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAC,GAAJ5vB,KAAA7L,OAEF,MAGFA,KAAK25B,GACHG,EAAAA,GAAgBE,QACfC,IACCd,EAAMtpB,IAAIoqB,EAAQ,CAChB2B,SAAU57B,KAAKy0B,QAGnB,MAGFz0B,KAAK25B,GACHG,EAAAA,GAAgBK,QACfF,IAEC,GAAId,EAAMvmB,IAAIqnB,GAAS,CACrB,MAAMG,EAAMjB,EAAMvpB,IAAIqqB,IACtB/F,EAAAA,EAAAA,IAAAl0B,KAAIs7B,GAAe,EAAI,MACvBlH,EAAAA,EAAAA,IAAAp0B,KAAIq7B,EAAA,KAAM5G,KAAO2F,EAAIwB,UACrB1H,EAAAA,EAAAA,IAAAl0B,KAAIs7B,GAAe,EAAK,I,GAG5B,MAGFt7B,KAAK25B,GACHG,EAAAA,GAAgBO,QACfJ,IACCd,EAAMrkB,OAAOmlB,IAEf,K,CAuEJ,YAAIhG,GACF,OAAOG,EAAAA,EAAAA,IAAAp0B,KAASq7B,EAAA,KAACpH,Q,CAGnB,YAAIA,CAAU9wB,GACZ,MAAM04B,EAAM,mBACZ,IAAK14B,KAAQuO,EAAAA,EAAAA,IAASvO,KAAS04B,EAAIxR,KAAKlnB,EAAI+rB,QAAS,OAErD/rB,EAAMA,EAAI+rB,OACV,MAAM4M,GAAW1H,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAO,GAAJlwB,KAAA7L,OACjBo0B,EAAAA,EAAAA,IAAAp0B,KAASq7B,EAAA,KAACpH,SAAW9wB,GAEjBixB,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAQ,GAAgBnwB,KAApB7L,KAAqB87B,KAAW1H,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAS,GAAJpwB,KAAA7L,K,CAGtC,QAAIq0B,GACF,OAAOD,EAAAA,EAAAA,IAAAp0B,KAASq7B,EAAA,KAAChH,I,CAGnB,QAAIA,CAAMlxB,GACR,IAAKA,KAAQuO,EAAAA,EAAAA,IAASvO,GAAM,OAC5BA,EAAMA,EAAI+rB,OAEV,MAAM4M,GAAW1H,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAO,GAAJlwB,KAAA7L,OACjBo0B,EAAAA,EAAAA,IAAAp0B,KAASq7B,EAAA,KAAChH,KAAOlxB,GAEbixB,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAQ,GAAgBnwB,KAApB7L,KAAqB87B,KAAW1H,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAS,GAAJpwB,KAAA7L,K,CAGtC,YAAI8zB,GACF,OAAOM,EAAAA,EAAAA,IAAAp0B,KAASq7B,EAAA,KAACvH,Q,CAGnB,YAAIA,CAAU3wB,GACZ,IAAKA,KAAQuO,EAAAA,EAAAA,IAASvO,GAAM,OAC5BA,EAAMA,EAAI+rB,OAEV,MAAM4M,GAAW1H,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAO,GAAJlwB,KAAA7L,OACjBo0B,EAAAA,EAAAA,IAAAp0B,KAASq7B,EAAA,KAACvH,SAAW3wB,GAEjBixB,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAQ,GAAgBnwB,KAApB7L,KAAqB87B,KAAW1H,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAS,GAAJpwB,KAAA7L,K,CAGtC,QAAIg0B,GACF,OAAOI,EAAAA,EAAAA,IAAAp0B,KAASq7B,EAAA,KAACrH,I,CAGnB,QAAIA,CAAM7wB,GACR,MAAM+4B,EAAO13B,OAAQrB,EAAMA,EAAI+rB,QAC/B,KAAK9E,EAAAA,EAAAA,IAAS8R,IAASA,GAAQ,EAAG,OAElC,MAAMJ,GAAW1H,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAO,GAAJlwB,KAAA7L,OACjBo0B,EAAAA,EAAAA,IAAAp0B,KAASq7B,EAAA,KAACrH,KAAO7wB,GAEbixB,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAQ,GAAgBnwB,KAApB7L,KAAqB87B,KAAW1H,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAS,GAAJpwB,KAAA7L,K,CAGtC,YAAI+zB,GACF,OAAOK,EAAAA,EAAAA,IAAAp0B,KAASq7B,EAAA,KAACtH,Q,CAGnB,YAAIA,CAAU5wB,GACZ,IAAKA,KAAQuO,EAAAA,EAAAA,IAASvO,GAAM,OAC5BA,EAAMA,EAAI+rB,OAEV,MAAM4M,GAAW1H,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAO,GAAJlwB,KAAA7L,OACjBo0B,EAAAA,EAAAA,IAAAp0B,KAASq7B,EAAA,KAACtH,SAAW5wB,GAEjBixB,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAQ,GAAgBnwB,KAApB7L,KAAqB87B,KAAW1H,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAS,GAAJpwB,KAAA7L,K,CAGtC,UAAI4jB,GACF,OAAOwQ,EAAAA,EAAAA,IAAAp0B,KAASq7B,EAAA,KAACzX,M,CAGnB,UAAIA,CAAQzgB,GACV,IAAKA,KAAQuO,EAAAA,EAAAA,IAASvO,GAAM,OAC5BA,EAAMA,EAAI+rB,OACV/rB,EAAMA,EAAIwK,WAAW,KAAOxK,EAAM,IAAIA,IAEtC,MAAM24B,GAAW1H,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAO,GAAJlwB,KAAA7L,OACjBo0B,EAAAA,EAAAA,IAAAp0B,KAASq7B,EAAA,KAACzX,OAASzgB,GAEfixB,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAQ,GAAgBnwB,KAApB7L,KAAqB87B,KAAW1H,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAS,GAAJpwB,KAAA7L,K,CAGtC,QAAI6zB,GACF,OAAOO,EAAAA,EAAAA,IAAAp0B,KAASq7B,EAAA,KAACxH,I,CAInB,QAAIA,CAAM1wB,GACR,IAAKA,KAAQuO,EAAAA,EAAAA,IAASvO,GAAM,OAC5BA,EAAMA,EAAI+rB,OACV/rB,EAAMA,EAAIwK,WAAW,KAAOxK,EAAM,IAAIA,IAEtC,MAAM24B,GAAW1H,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAO,GAAJlwB,KAAA7L,OACjBo0B,EAAAA,EAAAA,IAAAp0B,KAASq7B,EAAA,KAACxH,KAAO1wB,GAEbixB,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAQ,GAAgBnwB,KAApB7L,KAAqB87B,KAAW1H,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAS,GAAJpwB,KAAA7L,K,CAGtC,QAAIy0B,GACF,OAAOL,EAAAA,EAAAA,IAAAp0B,KAASq7B,EAAA,KAAC5G,I,CAGnB,QAAIA,CAAMtxB,GACR,MAAM04B,EAAM,yBACZ,IAAK14B,KAAQuO,EAAAA,EAAAA,IAASvO,KAAS04B,EAAIxR,KAAMlnB,EAAMA,EAAI+rB,QAAU,OAE7D,MAAM4M,GAAW1H,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAO,GAAJlwB,KAAA7L,OACjBo0B,EAAAA,EAAAA,IAAAp0B,KAASq7B,EAAA,KAAC5G,KAAOtxB,GAEbixB,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAQ,GAAgBnwB,KAApB7L,KAAqB87B,KAAW1H,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAS,GAAJpwB,KAAA7L,K,CAGtC,UAAI00B,GACF,OAAON,EAAAA,EAAAA,IAAAp0B,KAASq7B,EAAA,KAAC3G,M,CAGnB,UAAIA,CAAQvxB,GACV,MAAM04B,EAAM,yBACZ,IAAK14B,KAAQuO,EAAAA,EAAAA,IAASvO,KAAS04B,EAAIxR,KAAMlnB,EAAMA,EAAI+rB,QAAU,OAE7D,MAAM4M,GAAW1H,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAO,GAAJlwB,KAAA7L,OACjBo0B,EAAAA,EAAAA,IAAAp0B,KAASq7B,EAAA,KAAC3G,OAASvxB,GAEfixB,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAQ,GAAgBnwB,KAApB7L,KAAqB87B,KAAW1H,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAS,GAAJpwB,KAAA7L,K,CAItC0B,MAAAA,IACEykB,EAAAA,EAAAA,KAAK,EAAM,iF,CAGbgW,MAAAA,IACEhW,EAAAA,EAAAA,KAAK,EAAM,iF,CAGbjc,OAAAA,CAASvH,GACP3C,KAAK46B,QAAQ,+BAAgCj4B,E,CAG/CiiB,QAAAA,GACE,OAAO5kB,KAAKy0B,I,CAId,SAAI0E,GACF,OAAOA,C,uEAtNP,MAAMx0B,GAAUC,EAAAA,EAAAA,KACV6B,EAAS9B,EAAQ8B,OACvB,GAAIA,EAAQ,CACV,MAAM,KAAEkU,EAAI,OAAEjU,GAAWD,EACnB21B,EAAYt7B,OAAOC,KAAK2F,GAAQuO,IAAK/R,GAClC,GAAGA,KAAOwD,EAAOxD,MAEpBm5B,EAAYD,EAAUl8B,OAAS,EAAI,IAAMk8B,EAAUvG,KAAK,KAAO,GAC/DlzB,EAAM,GAAGw4B,IAAWxgB,EAAKhN,WAAW,KAAOgN,EAAO,IAAMA,IAAO0hB,KAErEnI,EAAAA,EAAAA,IAAAl0B,KAAIq7B,EAAQ,IAAIvG,EAAAA,EAAgBnyB,GAAI,KAEpC3C,KAAK46B,QAAQ,oBAAqB56B,KAAKy0B,K,CAE3C,EAACsH,EAAA,WAGC,OAAO3H,EAAAA,EAAAA,IAAAp0B,KAAIq7B,EAAA,KAAMxG,QACnB,EAACyH,EAAA,SAEU7H,IACTL,EAAAA,EAAAA,IAAAp0B,KAASq7B,EAAA,KAAC5G,KAAOA,CACnB,EAACwH,EAAA,WAGCj8B,KAAK46B,QAAQ,qBAAsB56B,KAAKy0B,KAC1C,EAACuH,EAAA,SAKgBF,GACf,IAAI1H,EAAAA,EAAAA,IAAAp0B,KAAgBs7B,EAAA,KAClB,OAAO,EAGT,MAAM,SAAErH,EAAQ,SAAEH,EAAQ,KAAEE,EAAI,SAAED,EAAQ,OAAEnQ,EAAM,KAAEiQ,IAASO,EAAAA,EAAAA,IAAAp0B,KAAIq7B,EAAA,KAAMxG,SAGvE,OAAIZ,IAAa6H,EAAS7H,UAAYH,IAAagI,EAAShI,UAAYE,IAAS8H,EAAS9H,OACxFI,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAc,GAAJzwB,KAAA7L,KAAe87B,EAASrH,OACjB,GAILV,IAAa+H,EAAS/H,WAKtBnQ,IAAWkY,EAASlY,SAKpBiQ,IAASiI,EAASjI,OACpBO,EAAAA,EAAAA,IAAAp0B,KAAYu7B,EAAA,KAACX,QAAQ,eACd,KAGTxG,EAAAA,EAAAA,IAAAp0B,KAAIw7B,EAAA,IAAAc,GAAJzwB,KAAA7L,KAAe87B,EAASrH,OACjB,IACT,E,MA6JW8H,EAA4FnB,EAEzG,SAASO,EAAiBx4B,EAAM,IAC9B,MAAMuxB,EAASyG,EACf,MAAI,SAAS9Q,KAAKlnB,GACTuxB,EAASvxB,EAEXA,CACT,C,oEChUA,MAAMq5B,EAAU,YACVC,EAAO,yBACPC,EAAS,0FAETC,EAAM,IAAMH,EAAU,KAAOC,EAAO,KAAOC,EAEpCE,EAA4F,CACvGC,YAAa,UACbC,QAAS,WACTC,WAAY,OAASJ,EACrBK,eAAe,EACfC,UAAW,GACXC,QAAQ,EACR7rB,SAAU,WACV8rB,QAAS,GACTC,QAAS,OACTC,WAAY,WACZC,UAAW,eAAiBX,EAC5BY,OAAQ,SACRC,UAAW,G,oCCpBF,IAAAC,E,iFAEX,WACE,IAAIC,EACwB,qBAAhBC,aAA+C,OAAhBA,aAAyBA,YAAYF,IAC9EA,EAAMA,IAAME,YAAYF,MACfG,KAAKH,KACdC,EAAWE,KAAKH,MAChBA,EAAMA,IAAMG,KAAKH,MAAQC,IAEzBA,GAAW,IAAIE,MAAOC,UACtBJ,EAAMA,KAAM,IAAIG,MAAOC,UAAYH,EAEtC,CAXD,GAaA,IAAII,EAAW,EAIf,MAAMC,EAAqE,SAAUr2B,GACnF,MAAMs2B,EAAOP,IACPQ,EAAWvZ,KAAKiW,IAAImD,EAAW,GAAIE,GACzC,OAAO77B,WAAW,WAAcuF,EAASo2B,EAAWG,EAAS,EAAIA,EAAWD,EAC9E,EAEME,EAEF,SAAUC,GAEV/7B,aAAa+7B,EACf,C,mNCjBF,MAAMC,UAAmBr5B,EAAAA,EAWvBnF,WAAAA,GACEmO,QAXF,KAASswB,UAAGzB,EAAAA,EACZ,KAAqB0B,sBAAGP,EAAAA,GACxB,KAAoBQ,qBAAGL,EAAAA,GACvB,KAAgBM,iBAAGtF,EAAAA,EAUjB,MAAMuF,EAAmB,IACpB39B,OAAO61B,oBAAoBllB,EAAAA,GAAU,CAAC,MACtC3Q,OAAO49B,sBAAsBjtB,EAAAA,GAAU,CAAC,IAG7CgtB,EAAiBz9B,QAAQ29B,IACvB,GAAiB,SAAbA,GAAoC,aAAbA,IACtB79B,OAAO4E,UAAUsN,eAAenH,KAAK7L,KAAM2+B,GAE9C,IACE3+B,KAAK2+B,GAAYltB,EAAAA,EAAOktB,E,CACxB,MAAOhP,GACHzjB,C,IAOVlM,KAAK49B,OAAL59B,KAAK49B,KAASA,MAGd59B,KAAKs5B,SAAW,IAAIiD,EAAAA,EAAS,CAAElE,OAAQr4B,OAEvCA,KAAK4+B,QAAU,IAAI1D,EAAAA,EAAQl7B,KAAKs5B,SAAU,CAAEjB,OAAQr4B,OAEpDA,KAAK6+B,W,CAGPA,SAAAA,GACE,MAAMC,EAAY9+B,KAAKs5B,SACjByF,EAAW/+B,KAAK4+B,QAEtB5+B,KAAK25B,GAAGG,EAAAA,GAAgBC,KAAOE,IAE7B6E,EAAUlE,QAAQd,EAAAA,GAAgBC,KAAME,IACvC,MAEHj6B,KAAK25B,GAAGG,EAAAA,GAAgBK,QAAUF,IAEhC6E,EAAUlE,QAAQd,EAAAA,GAAgBK,QAASF,GAC3C8E,EAASnE,QAAQd,EAAAA,GAAgBK,QAASF,IACzC,MAEHj6B,KAAK25B,GAAGG,EAAAA,GAAgBE,QAAUC,IAEhC6E,EAAUlE,QAAQd,EAAAA,GAAgBE,QAASC,GAC3C8E,EAASnE,QAAQd,EAAAA,GAAgBE,QAASC,IACzC,MAEHj6B,KAAK25B,GAAGG,EAAAA,GAAgBO,QAAUJ,IAEhC6E,EAAUlE,QAAQd,EAAAA,GAAgBO,QAASJ,GAC3C8E,EAASnE,QAAQd,EAAAA,GAAgBO,QAASJ,IACzC,K,CAGL,YAAI5sB,GACF,OAAOwG,EAAAA,EAAIxG,Q,CAGb2c,gBAAAA,CAAkB7f,EAAezC,IAC1BgK,EAAAA,EAAAA,IAASvH,IACdnK,KAAK25B,GAAGxvB,EAAOzC,EAAU,K,CAG3BqiB,mBAAAA,CAAqB5f,EAAezC,IAC7BgK,EAAAA,EAAAA,IAASvH,IACdnK,KAAKg/B,IAAI70B,EAAOzC,EAAU,K,CAG5BvF,UAAAA,IAAewF,GACb,OAAOxF,cAAcwF,E,CAGvBvF,YAAAA,IAAiBuF,GACf,OAAOvF,gBAAgBuF,E,EAOpB,MAAMs3B,EAAqFprB,EAAAA,EAAIwkB,OAAS,IAAI+F,EACtGc,EAAuBD,EAAmB3F,SAC1C6F,EAAsBF,EAAmBL,O,4wCCjH/C,MAAMQ,EAAqB,KACrBC,EAAe,eACf95B,EAAe,WACf+5B,EAAW,6BACX5wB,EAAY,iCACZ2oB,EAAW,OACXqB,EAAO,OACPE,EAAO,OACPE,EAAO,OACPC,EAAM,MACNvrB,EAAY,YACZ4pB,EAAwB,YACxBmI,EAAoB,oBACpBC,EAAK,KACLC,EAAM,MACNC,EAAQ,QACRC,EAAQ,QACRC,EAAQ,QACRC,EAAO,OACPC,EAAc,cACdC,EAAY,YACZC,EAAa,aACbC,EAAQ,QACRC,EAAU,UACVC,EAAS,SACTC,EAAQ,QACRC,EAAQ,QACRC,EAAS,SACTC,EAAiB,iBACjBC,EAAS,SACTC,EAAiB,gBACjBC,EAAO,OACPC,EAAU,UACVC,EAAa,YACbC,EAAW,UACXC,EAAY,YACZC,EAAO,OACPC,EAAc,aACdC,EAAe,cACfC,EAAY,YACZC,EAAa,aACbhJ,EAAU,UACViJ,EAAU,SACVC,EAAW,UACXC,EAAU,SACVC,EAAU,SACVC,EAAU,UACVC,EAAmB,kBACnBC,EAAwB,WACxBC,EAAY,YACZnK,EAAI,I,IAKLsC,IAAZ,SAAYA,GACVA,EAAA,YACAA,EAAA,eACAA,EAAA,eACAA,EAAA,cACD,EALD,CAAYA,KAAAA,GAKX,I,2FCzCY,MAAAn1B,EAAmB,CAC9BgH,IAAK,KACLlF,OAAQ,KACR4H,KAAM,MAGKzJ,EAAqBA,IAAMD,C,kFCLxC,MAAMi9B,EAAoC,GA6D1C,MAAMC,EAAaA,CACjBC,EACApnB,MAESonB,GAAkBA,EAAe9e,OAAc,OAANtI,QAAA,IAAAA,OAAA,EAAAA,EAAQsI,KAGtD+e,EAAcA,CAACC,EAAwBj/B,KAC3C,MAAM,cAAEk/B,EAAa,sBAAEC,EAAqB,WAAEC,EAAU,kBAAEC,EAAiB,UAAEC,GAAct/B,EAC3F,OAAQi/B,EAAO13B,MACb,IAAK,gBACH,QAAI23B,IACGC,IAAuBF,EAAOjc,SAAW,OACvC,GAGX,IAAK,aACH,QAAIoc,IACGC,IAAmBJ,EAAOjc,SAAW,OACnC,GAGX,IAAK,YACH,QAAIsc,IAOV,IAAIC,GAAoB,EAExB,SAASC,EAAaC,EAAgCR,GACpDQ,EAASC,QAAQ7gC,KAAKogC,GACjBM,IACHA,GAAoB,EACpB1hC,QACGqB,UACAI,KAAK,KACJigC,GAAoB,EACpBV,EAAU5gC,QAAQwhC,GACTA,EAAS96B,SAAS86B,EAASE,kBAI5C,CAEM,SAAUC,EAAgBX,GAC9BJ,EAAU5gC,QAAQwhC,IAChB,MAAM,QAAEz/B,GAAYy/B,EACpB,IAAK,IAAII,EAAqBZ,EAAOtnB,OAAQkoB,EAAGA,EAAIA,EAAEC,WAAY,CAChE,GAAIhB,EAAWW,EAAS9nB,OAAQkoB,IAAMb,EAAYC,EAAQj/B,GAAU,CAClEw/B,EAAYC,EAAUR,GACtB,K,CAEF,IAAKj/B,EAAQ+/B,QAAS,K,GAG5B,C,MCjIaC,EAGXnjC,WAAAA,CAAa8H,GAOT1H,KAAKgjC,KAAO,CACVC,QAASrX,EAAAA,GACTsX,WAAYtX,EAAAA,GACZ8W,YAAc9W,EAAAA,G,CAKbqX,OAAAA,IAAYt7B,GACjB3H,KAAKgjC,KAAKC,WAAWt7B,E,CAGhBu7B,UAAAA,GACLljC,KAAKgjC,KAAKE,Y,CAGLR,WAAAA,GACL,OAAO1iC,KAAKgjC,KAAKN,a,CAGnB,aAAOV,CAAQA,GACbW,EAAeX,E,4ICvCNmB,EAKXvjC,WAAAA,CAAawjC,EAAmBvL,GAFxB,KAASwL,UAAa,GAG5BrjC,KAAK63B,GAAKA,EACVuL,EAAUlU,OAAOqH,MAAM,OAAOv1B,QAAQsiC,GAAStjC,KAAKqjC,UAAUzhC,KAAK0hC,G,CAGrE,SAAWj5B,GACT,OAAOrK,KAAK4kB,U,CAGd,UAAW1kB,GACT,OAAOF,KAAKqjC,UAAUnjC,M,CAGxBqjC,GAAAA,GACE,IAAIxjC,EAAQ,EACRyjC,GAAU,EAEd,MAAMC,EAASC,UACTxjC,EAASujC,EAAOvjC,OAChBmjC,EAAYrjC,KAAKqjC,UAEvB,EAAG,CACD,MAAMC,EAAgBG,EAAO1jC,GAEzBC,KAAK2jC,kBAAkBL,MAAYD,EAAU3wB,QAAQ4wB,KACvDD,EAAUzhC,KAAK0hC,GAEfE,GAAU,EAEd,SAAWzjC,EAAQG,GAEfsjC,GACFxjC,KAAK4jC,S,CAITC,MAAAA,GACE,IAAItb,EAAI,EACJib,GAAU,EAEd,MAAMC,EAASC,UACTxjC,EAASujC,EAAOvjC,OAChBmjC,EAAYrjC,KAAKqjC,UAEvB,EAAG,CACD,MAAMC,EAAQG,EAAOlb,GAAK,GAE1B,IAAKvoB,KAAK2jC,kBAAkBL,GAAQ,SAEpC,MAAMvjC,EAAQsjC,EAAU3wB,QAAQ4wB,IAE3BD,EAAU3wB,QAAQ4wB,KACrBD,EAAUv0B,OAAO/O,EAAO,GAExByjC,GAAU,EAEd,SAAWjb,EAAIroB,GAEXsjC,GACFxjC,KAAK4jC,S,CAITE,QAAAA,CAAUR,GACR,QAAKtjC,KAAK2jC,kBAAkBL,OAElBtjC,KAAKqjC,UAAU3wB,QAAQ4wB,E,CAGnCS,MAAAA,CAAQT,EAAeU,GACrB,MAAMjP,EAAS/0B,KAAK8jC,SAASR,GACvB7gC,EAASsyB,GAAmB,IAAViP,GAAkB,UAAqB,IAAVA,GAAmB,MAOxE,OALIvhC,GAEFzC,KAAKyC,GAAQ6gC,IAGD,IAAVU,IAA4B,IAAVA,EACbA,GAECjP,C,CAIZ7qB,OAAAA,CAASo5B,EAAeW,GACtB,IAAKjkC,KAAK2jC,kBAAkBL,KAAWtjC,KAAK2jC,kBAAkBM,GAAoB,OAElF,MAAMlkC,EAAQC,KAAKqjC,UAAU3wB,QAAQ4wB,IAEhCvjC,IACHC,KAAKqjC,UAAUv0B,OAAO/O,EAAO,EAAGkkC,GAChCjkC,KAAK4jC,U,CAIThf,QAAAA,GACE,OAAO5kB,KAAKqjC,UAAU7hC,OAAO0iC,GAAW,KAANA,GAAUrO,KAAK,I,CAG3C8N,iBAAAA,CAAmBL,GACzB,MAAc,KAAVA,IAAgB,KAAKjZ,KAAKiZ,E,CAKxBM,OAAAA,GACN5jC,KAAK63B,GAAGuL,UAAYpjC,KAAKqK,K,oCC5G7B,SAAS85B,IACP,OAAO,CACT,CAEgB,SAAAC,EAAax2B,EAAmBy2B,GAC9C,MAAMC,EAAuB,GACvB9iC,EAAgB,OAAP6iC,QAAA,IAAAA,EAAAA,EAAWF,EAE1B,IAAII,EAA6B32B,EAEjC,MAAO22B,EACwC,IAAzCA,EAAOjS,UAAsC9wB,EAAO+iC,IACtDD,EAAM1iC,KAAK2iC,GAGbA,EAASC,EAAUD,EAAQ32B,GAG7B,OAAO02B,CACT,CAEA,SAASE,EAAW3M,EAAiBjqB,GACnC,MAAM62B,EAAa5M,EAAG4M,WAChBC,EAAyD,IAArC7M,EAAGvF,UAAsD,IAAhBuF,EAAGvF,SAGtE,GAAImS,GAAcC,EAChB,OAAOD,EAGT,IAAIxhC,EAA8B40B,EAElC,EAAG,CACD,GAAI50B,IAAY2K,EACd,OAAO,KAGT,MAAM+2B,EAAc1hC,EAAQ0hC,YAE5B,GAAIA,EACF,OAAOA,EAET1hC,EAAUA,EAAQ2hC,a,OACX3hC,GAET,OAAO,IACT,CCxBM,MAAO4zB,UAAoBgO,EAAAA,EAQ/BjlC,WAAAA,GACEmO,QANK,KAAK1B,MAAwB,CAAC,EAE9B,KAAOy4B,QAA4Bz/B,EAAAA,GAKxCrF,KAAKsyB,SAAW,EAChBtyB,KAAKmqB,MAAQ,IAAI4a,EAAAA,EAAM/kC,MACvB+J,EAAAA,GAAM8B,KAAK,eAAgB7L,K,CAGrBglC,gBAAAA,CAAkB76B,GAExB,IAAIuQ,EAAS1a,KAEb,MAAQ0a,EAASA,EAAOmoB,WAAqB,CAC3C,MAAMoC,EAAYvqB,EAAOwqB,WAAW/6B,EAAMG,MAE1C,IAAKnE,EAAAA,EAAAA,IAAQ8+B,GAIb,IAAK,IAAI1c,EAAI0c,EAAU/kC,OAAQqoB,KAAM,CACnC,MAAM4c,EAAIF,EAAU1c,GACpB4c,EAAEC,OAAQ,C,GAKhB,MAAWp+B,GACT,OAAOhH,KAAKqlC,aAAa7F,EAAAA,G,CAG3B,MAAWx4B,CAAI7D,GACbnD,KAAK6qB,aAAa2U,EAAAA,GAAIr8B,E,CAGxB,aAAWigC,GACT,OAAOpjC,KAAKqlC,aAAa3F,EAAAA,KAAU,E,CAGrC,aAAW0D,CAAWjgC,GACpBnD,KAAK6qB,aAAa6U,EAAAA,GAAOv8B,E,CAG3B,WAAW2nB,GACT,OAAO9qB,KAAKqlC,aAAa1F,EAAAA,IAAU,E,CAGrC,aAAW2F,GACT,OAAO,IAAInC,EAAUnjC,KAAKojC,UAAWpjC,K,CAGvC,YAAWmM,GACT,OAAOnM,KAAKqvB,WAAW7tB,OAAO+jC,EAAAA,G,CAGhC,cAAWpD,GACT,MAAM91B,EAAQrM,KAAKqM,MACbm5B,EAAW1kC,OAAOC,KAAKsL,GACvB8d,EAAQnqB,KAAKmqB,MAAMW,QACnB2a,EAAQD,EAASvwB,IAAI/R,IAAO,CAAGuR,KAAMvR,EAAKmH,MAAOgC,EAAMnJ,MAC7D,OAAOuiC,EAAMhkC,OAAO0oB,EAAQ,CAAE1V,KAAMkrB,EAAAA,EAAOt1B,MAAO8f,GAAU,G,CAG9D,eAAWmF,GACT,IAAIxL,EAAO,GACX,MAAMuL,EAAarvB,KAAKqvB,WAExB,IAAK,IAAI9G,EAAI,EAAGA,EAAI8G,EAAWnvB,OAAQqoB,IACrCzE,GAAQuL,EAAW9G,GAAG+G,YAGxB,OAAOxL,C,CAGT,eAAWwL,CAAaxL,GACtB/V,MAAMuhB,YAAcxL,C,CAGf4hB,YAAAA,CAAc5O,GACnB,QAAQx0B,EAAAA,EAAAA,IAAYtC,KAAKqM,MAAMyqB,G,CAG1B6O,aAAAA,GACL,OAAO3lC,KAAKmiC,WAAWjiC,OAAS,C,CAGlC,SAAWyc,GACT,OAAO,WACL3c,KAAK6qB,aAAa+U,EAAAA,IAAO,EAC3B,C,CAIF,SAAWjjB,CAAOtS,GAChBrK,KAAK6qB,aAAa+U,EAAAA,GAAOv1B,E,CAGpBu7B,IAAAA,GACL5lC,KAAK6qB,aAAa+U,EAAAA,IAAO,E,CAGpB/U,YAAAA,CAAciM,EAAuBzsB,GAM1C,MAAMw7B,EAAa7lC,KAAK2mB,WAAakZ,EAAAA,MAASiG,EAAAA,EAAAA,IAAiB9lC,QAAUA,KAAK+lC,mBAW9E,OATIjP,IAAkB6I,EAAAA,GACpBoD,EAAAA,EAAiBf,OAAO,CACtBtnB,OAAQ1a,KACRsK,KAAmC,aACnC07B,cAAelP,EACf/Q,SAAU/lB,KAAKqlC,aAAavO,KAIxBA,GACN,KAAK6I,EAAAA,EACH3/B,KAAKmqB,MAAMW,QAAUzgB,EACrB,MACF,KAAKm1B,EAAAA,GACCx/B,KAAKimC,MAAQjmC,KAAKgjB,KAGpB8U,EAAAA,EAAYhjB,OAAO9U,KAAKimC,KAE1B57B,EAAQ0oB,OAAO1oB,GACfrK,KAAKqM,MAAMyqB,GAAiB92B,KAAKimC,IAAM57B,EACvCytB,EAAAA,EAAYjoB,IAAIxF,EAAOrK,MACvB,MACF,QACEA,KAAKqM,MAAMyqB,GAAiBzsB,EAExBysB,EAAcnpB,WAAW,WACvB3N,KAAK8kC,UAAYz/B,EAAAA,KACnBrF,KAAK8kC,QAAUhkC,OAAO2G,OAAO,OAE/BzH,KAAK8kC,SAAQhiB,EAAAA,EAAAA,IAAYgU,EAAc5sB,QAAQ,SAAU,MAAQG,GAEnE,MAIJ,IAAKrK,KAAKkmC,MAAO,OAEjB,MAAMxjB,GAAkByjB,EAAAA,EAAAA,MAClBC,EAAS1jB,EAAgB1iB,KAAK2mB,UAC9B0f,EAAY3jB,EAAgBmd,EAAAA,IAAM5c,KAClCqjB,EAAiB5jB,EAAgBsd,EAAAA,IAAY/c,KAC7CsjB,EAAkB7jB,EAAgBod,EAAAA,IAAa7c,KAC/CujB,EAAiB9jB,EAAgBye,EAAAA,IAAYle,KAC7CgU,EAAQj3B,KAAKi3B,MAEnBH,GAAgB2P,EAAAA,EAAAA,IAAa3P,GAE7B,MAAM4P,GAA2B5jB,EAAAA,EAAAA,IAAYgU,GACvC6P,EAAU,CACdhsB,KAAM,GAAGsc,KAASyP,IAClBr8B,OAAOnJ,EAAAA,EAAAA,IAAWmJ,GAAS,IAAMA,EAAQA,GAK3C,GAFAN,EAAAA,GAAM8B,KAAK,uBAAwB7L,KAAM82B,EAAe6P,EAASjkB,GAE7D0jB,EAAQ,CACV,MAAMQ,EAAqBR,EAAOM,IAA6B5P,EAC/D6P,EAAQhsB,KAAO,GAAGsc,MAASnU,EAAAA,EAAAA,IAAY8jB,I,CAGzC5mC,KAAK6mC,cAAcF,GAEf3mC,KAAK2mB,WAAakZ,EAAAA,KAChB6G,IAA6BxF,EAAAA,GAG/BlhC,KAAK6mC,cAAc,CACjBlsB,KAAM,GAAGsc,OACT5sB,MAAOA,EAAQm8B,EACbxmC,KAAK8mC,uBAAwBhB,EAAAA,EAAAA,IAAiB9lC,MAAQsmC,EAAkBtmC,KAAK+lC,mBAAqBM,EAAYE,IAGzGV,IAAcC,EAAAA,EAAAA,IAAiB9lC,OAExCA,KAAK6mC,cAAc,CACjBlsB,KAAM,GAAGsc,OACT5sB,MAAOk8B,I,CAMR/f,eAAAA,CAAiBsQ,GACtB,MAAMiQ,EAAe/mC,KAAK2mB,WAAakZ,EAAAA,KAAQiG,EAAAA,EAAAA,IAAiB9lC,QAAUA,KAAK+lC,mBAS/E,GAPAhD,EAAAA,EAAiBf,OAAO,CACtBtnB,OAAQ1a,KACRsK,KAAmC,aACnC07B,cAAelP,EACf/Q,SAAU/lB,KAAKqlC,aAAavO,KAG1BA,IAAkB6I,EAAAA,EACpB3/B,KAAKmqB,MAAMW,QAAU,OAChB,CACL,MAAMkc,EAAcj9B,EAAAA,GAAM8B,KAAK,oBAAqB7L,KAAM82B,GAC1D,GAAIkQ,EACF,OAGF,IAAKhnC,KAAKqM,MAAM2G,eAAe8jB,GAC7B,cAEK92B,KAAKqM,MAAMyqB,E,CAIpB,IAAK92B,KAAKkmC,MAAO,OAEjB,MAAMxjB,GAAkByjB,EAAAA,EAAAA,MAClBC,EAAS1jB,EAAgB1iB,KAAK2mB,UAC9B0f,EAAY3jB,EAAgBmd,EAAAA,IAAM5c,KAClCsjB,EAAkB7jB,EAAgBod,EAAAA,IAAa7c,KAC/CgkB,EAAgBvkB,EAAgBqd,EAAAA,IAAW9c,KAC3CqjB,EAAiB5jB,EAAgBsd,EAAAA,IAAY/c,KAC7CgU,EAAQj3B,KAAKi3B,MAEnBH,GAAgB2P,EAAAA,EAAAA,IAAa3P,GAE7B,MAAM4P,GAA2B5jB,EAAAA,EAAAA,IAAYgU,GACvC6P,EAAU,CACdhsB,KAAM,GAAGsc,KAASyP,IAClBr8B,MAAO,IAKT,GAFAN,EAAAA,GAAM8B,KAAK,sBAAuB7L,KAAM82B,EAAe6P,EAASjkB,GAE5D0jB,EAAQ,CACV,MAAMQ,EAAqBR,EAAOM,IAA6B5P,EAC/D6P,EAAQhsB,KAAO,GAAGsc,MAASnU,EAAAA,EAAAA,IAAY8jB,I,CAGzC5mC,KAAK6mC,cAAcF,GAEf3mC,KAAK2mB,WAAakZ,EAAAA,KAChB6G,IAA6BxF,EAAAA,GAE/BlhC,KAAK6mC,cAAc,CACjBlsB,KAAM,GAAGsc,OACT5sB,MAAOrK,KAAK8mC,uBAAwBhB,EAAAA,EAAAA,IAAiB9lC,MAAQsmC,EAAkBtmC,KAAK+lC,mBAAqBM,GAAaP,EAAAA,EAAAA,IAAiB9lC,MAAQumC,EAAkBU,IAE1JF,KAAiBjB,EAAAA,EAAAA,IAAiB9lC,OAE3CA,KAAK6mC,cAAc,CACjBlsB,KAAM,GAAGsc,OACT5sB,MAAO48B,I,CAMR5B,YAAAA,CAAcvO,GACnB,MAAMoQ,EAAOpQ,IAAkB6I,EAAAA,EAAQ3/B,KAAKmqB,MAAMW,QAAU9qB,KAAKqM,MAAMyqB,GACvE,OAAO,OAAAoQ,QAAI,IAAJA,EAAAA,EAAQ,E,CAGVC,oBAAAA,CAAsBtd,GAC3B,OAAOua,EAAYpkC,KAAO63B,GACjBA,EAAGlR,WAAakD,GAAwB,MAAZA,GAAmB7pB,OAAS63B,E,CAI5DuP,sBAAAA,CAAwBhE,GAC7B,MAAMiE,EAAajE,EAAUlU,OAAOqH,MAAM,OAE1C,OAAO6N,EAAYpkC,KAAO63B,IACxB,MAAMyN,EAAYzN,EAAGyN,UACrB,OAAO+B,EAAWC,MAAMC,GAAKjC,EAAUxB,SAASyD,K,CAI7CvV,aAAAA,CAAe7nB,GACpB,MAAMq9B,EAAar9B,EAAMq9B,WAEnBvC,EAAYjlC,KAAKklC,WAAW/6B,EAAMG,MAExC,KAAKnE,EAAAA,EAAAA,IAAQ8+B,GACX,OAAO,EAGT,IAAK,IAAI1c,EAAI0c,EAAU/kC,OAAQqoB,KAAM,CACnC,MAAMkf,EAAWxC,EAAU1c,GAC3B,IAAIwM,EAWJ,GAVI0S,EAASrC,MACXqC,EAASrC,OAAQ,GAEjBr7B,EAAAA,GAAM8B,KAAK,sBAAuB1B,EAAOnK,MACzC+0B,EAAS0S,EAAS57B,KAAK7L,KAAMmK,MAEf,IAAX4qB,GAAoB5qB,EAAMu9B,OAASF,IACtCr9B,EAAMw9B,kBAAmB,KAGtBrlC,EAAAA,EAAAA,IAAYyyB,IAAW5qB,EAAM0lB,QAAS,CACzC,MAAMpvB,EAAMsJ,EAAAA,GAAM8B,KAAK,wBAAyB7L,KAAMmK,EAAO4qB,GACzDt0B,IAAO0J,EAAM0lB,QAAQ6R,EAAAA,IAAyB3M,E,CAGpD,GAAI5qB,EAAMu9B,MAAQv9B,EAAMi7B,MACtB,K,CAQJ,OAJIj7B,EAAMi7B,OACRplC,KAAKglC,iBAAiB76B,GAGJ,MAAb86B,C,CAGFjb,gBAAAA,CAAkB1f,EAAMs9B,EAAS7kC,GACtC,MAAM0R,EAAOzU,KAAK2mB,SACZkhB,EAAgB99B,EAAAA,GAAM8B,KAAK,mBAEjC,IAAIoe,GAAa,EAQjB,IAPI5mB,EAAAA,EAAAA,IAA8BN,KAAmC,IAAvBA,EAAQknB,aACpDA,GAAa,SACNlnB,EAAQknB,YAGjBlgB,EAAAA,GAAM8B,KAAK,yBAA0B7L,KAAMiqB,EAAYkc,EAAAA,KAEpC,IAAflc,IAAyBjqB,KAAK+lC,oBAAsB8B,EAAcn1B,QAAQ+B,IAAS,EAAG,CACxF,MAAMiO,GAAkByjB,EAAAA,EAAAA,MAClB2B,EAAQplB,EAAgBjO,GAAMwO,KACpCjjB,KAAK6mC,cAAc,CACjBlsB,KAAM,GAAG3a,KAAKi3B,WACd5sB,MAAOy9B,G,CAIX/5B,MAAMic,iBAAiB1f,EAAMs9B,EAAS7kC,E,CAGjCgnB,mBAAAA,CAAqBzf,EAAMs9B,EAAS3d,GAAa,GACtDlc,MAAMgc,oBAAoBzf,EAAMs9B,GAEhC,MAAMnzB,EAAOzU,KAAK2mB,SACZkhB,EAAgB99B,EAAAA,GAAM8B,KAAK,mBAIjC,GAFA9B,EAAAA,GAAM8B,KAAK,4BAA6B7L,KAAMiqB,EAAYkc,EAAAA,KAEvC,IAAflc,IAAyBjqB,KAAK+lC,oBAAsB8B,EAAcn1B,QAAQ+B,IAAS,EAAG,CACxF,MAAMiO,GAAkByjB,EAAAA,EAAAA,MAClB97B,GAAQy7B,EAAAA,EAAAA,IAAiB9lC,MAAQ,UAAUyU,IAAS,QAAQA,IAC5DszB,EAAarlB,EAAgBrY,GAAO4Y,KAC1CjjB,KAAK6mC,cAAc,CACjBlsB,KAAM,GAAG3a,KAAKi3B,WACd5sB,MAAO09B,G,EAKb,aAAOC,CAAQC,EAAoBllC,IACjCilC,EAAAA,EAAAA,IAAOnR,EAAaoR,EAAYllC,E,sECvYpC,MAAMmlC,UAAoB5xB,IACxB6xB,UAAAA,CAAYhc,GACV,MAAM,IAAEnJ,EAAG,IAAEijB,GAAQ9Z,EACrBnsB,KAAK8U,OAAOkO,GACRijB,IAAQjjB,GAAOijB,GAAKjmC,KAAK8U,OAAOmxB,E,CAGtCmC,cAAAA,CAAgBjc,GACdnsB,KAAKmoC,WAAWhc,GAChB,MAAM,WAAEkD,GAAelD,EACvBkD,EAAWruB,QAAQgK,GAAQhL,KAAKooC,eAAep9B,G,EAItC,MAAA8sB,EAA4B,IAAIoQ,C,2LCDhCG,EAyBXzoC,WAAAA,CAAoB0K,EAAcg+B,EAAoBn+B,GAf/C,KAAKi7B,OAAG,EAER,KAAIsC,MAAG,EAEP,KAAgBC,kBAAG,EAGnB,KAAMY,OAAG,EAIT,KAAAC,UAAY5K,KAAKH,MAKtBz9B,KAAKsK,KAAOA,EAAKiH,cACjBvR,KAAK6vB,QAAU1lB,EACfnK,KAAKyoC,QAAUC,QAAQJ,GAAQA,EAAKG,SACpCzoC,KAAKwnC,WAAakB,QAAQJ,GAAQA,EAAKd,W,CAGlCmB,eAAAA,GACL3oC,KAAKolC,OAAQ,C,CAGRwD,wBAAAA,GACL5oC,KAAK0nC,KAAO1nC,KAAKolC,OAAQ,C,CAGpByD,cAAAA,GACL7oC,KAAK2nC,kBAAmB,C,CAG1B,UAAIjtB,G,cACF,MAAMouB,EAAc9oC,KAAK8oC,YACzB,GAAKA,EAmBH,OAAOA,EAnBS,CAChB,MAAMpuB,EAAS5Z,OAAO2G,QAAqB,QAAd9B,EAAA3F,KAAK6vB,eAAS,IAAAlqB,OAAA,EAAAA,EAAA+U,SAAU,MAC/CquB,EAAal1B,EAAAA,EAAIxG,SAASC,gBAA6B,QAAd5B,EAAAgP,EAAOoqB,eAAO,IAAAp5B,OAAA,EAAAA,EAAEsX,MAAOtI,EAAO1T,IAAM,MAE7Eyb,EAAU5O,EAAAA,EAAIxG,SAASC,gBAAqC,QAAtBiI,EAAAmF,EAAOsuB,qBAAe,IAAAzzB,OAAA,EAAAA,EAAAyN,OAAqB,QAAdimB,EAAAvuB,EAAOoqB,eAAO,IAAAmE,OAAA,EAAAA,EAAEjmB,MAAOtI,EAAO1T,IAAM,MAE7G0T,EAAOoqB,QACFhkC,OAAAY,OAAAZ,OAAAY,OAAC,CAAD,EAAgB,OAAfqnC,EAAsBA,EAAWjE,QAAUz/B,EAAAA,IAC/B,OAAZod,EAAmBA,EAAQqiB,QAAUz/B,EAAAA,IAG3C,IAAK,MAAMnC,KAAmB,QAAZgmC,EAAAlpC,KAAK6vB,eAAO,IAAAqZ,OAAA,EAAAA,EAAEpZ,OAC9BpV,EAAOxX,GAAOlD,KAAK6vB,QAASC,OAAO5sB,GAKrC,OAFAlD,KAAK8oC,YAAcpuB,EAEZA,C,EAMX,iBAAIyuB,G,oBACF,MAAMC,EAAqBppC,KAAKopC,mBAChC,GAAKA,EAuBH,OAAOA,EAvBgB,CACvB,MAAM7Q,EAAM1kB,EAAAA,EAAIxG,SAEV87B,EAAgBroC,OAAO2G,QAAqB,QAAd9B,EAAA3F,KAAK6vB,eAAS,IAAAlqB,OAAA,EAAAA,EAAAwjC,gBAAiB,MAE7D1mB,EAAU8V,EAAIjrB,gBAAsC,QAAvB5B,EAAAy9B,EAAcrE,eAAS,IAAAp5B,OAAA,EAAAA,EAAAsX,MAAOmmB,EAAcniC,IAAM,MAC/EqiC,EAAgB9Q,EAAIjrB,gBAA4C,QAA7B47B,EAAoB,QAApBD,EAAY,QAAZ1zB,EAAAvV,KAAK6vB,eAAO,IAAAta,OAAA,EAAAA,EAAEmF,cAAM,IAAAuuB,OAAA,EAAAA,EAAEnE,eAAO,IAAAoE,OAAA,EAAAA,EAAElmB,OAAqC,QAApBsmB,EAAc,QAAdC,EAAAvpC,KAAK6vB,eAAS,IAAA0Z,OAAA,EAAAA,EAAA7uB,cAAM,IAAA4uB,OAAA,EAAAA,EAAEtiC,KAAgB,MAE/H,GAAgB,OAAZyb,GAAqBA,GAAWA,IAAY4mB,EAE9C,OADArpC,KAAKopC,mBAAqBppC,KAAK0a,OACxB1a,KAAK0a,OAGdyuB,EAAcrE,QAAUriB,EAAQqiB,QAEhC,IAAK,MAAM5hC,KAAmB,QAAZsmC,EAAAxpC,KAAK6vB,eAAO,IAAA2Z,OAAA,EAAAA,EAAE1Z,OAC9BqZ,EAAcjmC,GAAOlD,KAAK6vB,QAASC,OAAO5sB,GAK5C,OAFAlD,KAAKopC,mBAAqBD,EAEnBA,C,GAOG,SAAAhS,EAAahtB,EAAyBa,GACpD,GAAqB,kBAAVb,EAET,OAAO,IAAIk+B,EAAUl+B,EAAO,CAAEs+B,SAAS,EAAMjB,YAAY,IAG3D,MAAMiC,EAAQ,IAAIpB,EAAUl+B,EAAMG,KAAM,CAAEm+B,SAAS,EAAMjB,YAAY,GAAQr9B,GAE7E,IAAK,MAAMjH,KAAOiH,EACZjH,IAAQu9B,EAAAA,IAAkBv9B,IAAQs9B,EAAAA,IAAUt9B,IAAQw9B,EAAAA,IAAQx9B,IAAQ09B,EAAAA,KAGtE6I,EAAMvmC,GAAOiH,EAAMjH,IASvB,OALIumC,EAAMn/B,OAASq2B,EAAAA,KAAW,OAAA31B,QAAI,IAAJA,OAAI,EAAJA,EAAM2b,YAAa0Z,EAAAA,KAE/CoJ,EAAM5I,EAAAA,IAAY,IAGb4I,CACT,CAEA,MAAMC,EAAc,CAAC,EAErB,SAASC,EAAkBx/B,GACzB,MAAM4qB,EAAS5qB,EAAMu3B,EAAAA,IAIrB,OAHKp/B,EAAAA,EAAAA,IAAYyyB,WACR5qB,EAAMu3B,EAAAA,IAER3M,CACT,CAGM,SAAU6U,EAAcz/B,G,aAEbrC,IAAfqC,EAAMG,MAAsBxJ,OAAOsJ,eAAeD,EAAO,OAAQ,CAC/DE,MAAQF,EAAc0/B,aAEP/hC,IAAjBqC,EAAM2lB,QAAwBhvB,OAAOsJ,eAAeD,EAAO,SAAU,CACnEE,MAAQF,EAAc2/B,SAAOhpC,OAAAY,OAAA,GAASyI,KAExCA,EAAMg/B,cAAgBh/B,EAAMg/B,eAAiBh/B,EAAMuQ,QAAe5Z,OAAAY,OAAA,GAAAyI,GAClEJ,EAAAA,GAAM8B,KAAK,oBAAqB1B,GAEhC,MAAMg/B,EAAgBh/B,EAAMg/B,cACtBniC,GAA4B,QAAvBrB,EAAAwjC,EAAcrE,eAAS,IAAAn/B,OAAA,EAAAA,EAAAqd,MAA4BmmB,EAAcniC,KAA6B,QAAZ0E,EAAAvB,EAAM2lB,cAAM,IAAApkB,OAAA,EAAAA,EAAE1E,KAAgB,GAErHgE,EAAO6I,EAAAA,EAAIxG,SAASC,eAAetG,GACzC,GAAIgE,EAAM,CACR,MAAM++B,EAAWA,KACf,MAAMpa,EAAIwH,EAAYhtB,EAAOa,GAE7BjB,EAAAA,GAAM8B,KAAK,kBAAmB8jB,EAAG3kB,GACjCjB,EAAAA,GAAM8B,KAAK,oBAAqB8jB,EAAG3kB,GACnCjB,EAAAA,GAAM8B,KAAK,0BAA2B8jB,EAAG3kB,IAE3C,IAAIjB,EAAAA,GAAMigC,QAAQ,uBAuBhB,OADAD,IACOJ,EAAiBx/B,GAvBgB,CACxC,MAAMG,EAAOH,EAAMG,KAEnB,IACGP,EAAAA,GAAM8B,KAAK,iBAAkBvB,MAC7B2/B,EAAAA,EAAAA,IAAej/B,EAAMV,IACrBA,IAASw2B,EAAAA,IAAe91B,EAAKqB,MAAM69B,UAUpC,OAPAngC,EAAAA,GAAM8B,KAAK,sBAAuB,KAC5B69B,EAAYp/B,KACdo/B,EAAYp/B,GAAMtJ,QAAQ8F,GAAMA,YACzB4iC,EAAYp/B,IAErBy/B,MAEKJ,EAAiBx/B,IAGvBu/B,EAAYp/B,KAAZo/B,EAAYp/B,GAAU,KAAI1I,KAAKmoC,E,EAOxC,C,4FCjMM,MAAOzgB,UAAoBuN,EAAAA,EAC/B,QAAWvsB,G,MACT,OAA2B,QAApB3E,EAAA3F,KAAKqM,MAAMq0B,EAAAA,WAAS,IAAA/6B,EAAAA,EAAA,E,CAG7B,QAAW2E,CAAMnH,GACfnD,KAAK6qB,aAAa6V,EAAAA,GAAMv9B,E,CAG1B,SAAWkH,GAET,MAAMlH,EAAMnD,KAAKqM,MAAM+zB,EAAAA,IACvB,OAAc,MAAPj9B,EAAc,GAAKA,C,CAG5B,SAAWkH,CAAOlH,GAChBnD,KAAK6qB,aAAauV,EAAAA,GAAOj9B,E,CAGpB6uB,aAAAA,CAAe7nB,GACpB,GAAIA,EAAM0lB,QAAS,CACjB,MAAM1sB,EAAMgH,EAAM0lB,QAAQC,OAAOzlB,MAC7BF,EAAMG,OAASg2B,EAAAA,GACjBtgC,KAAKqM,MAAMhC,MAAQlH,EACVgH,EAAMG,OAAS+1B,EAAAA,KAIxBrgC,KAAKqK,MAAQlH,E,CAIjB,OAAO4K,MAAMikB,cAAc7nB,E,0KCtClBggC,EAAbvqC,WAAAA,GACS,KAAUslC,WAAmC,CAAC,C,CAE9Clb,gBAAAA,CAAkB1f,EAAcs9B,EAAuB7kC,GAK5D,GAJAuH,EAAOA,EAAKiH,cAEZxH,EAAAA,GAAM8B,KAAK,aAAcvB,EAAMs9B,EAAS7kC,EAAS/C,MAEpC,iBAATsK,EAIF,OAFAtK,KAAKgqB,iBAAiB,QAAS4d,EAAS7kC,QACxC/C,KAAKgqB,iBAAiB,MAAO4d,EAAS7kC,GAIxC,IAAIymB,EAAYkf,QAAQ3lC,GACpBqnC,GAAS,EAMb,IALI/mC,EAAAA,EAAAA,IAAkCN,KACpCymB,EAAYkf,QAAQ3lC,EAAQsnC,SAC5BD,EAAS1B,QAAQ3lC,EAAQunC,OAGvBF,EAAQ,CACV,MAAMG,EAAU,WACd3C,EAAQn3B,MAAMzQ,KAAM0jC,WACpB1jC,KAAK+pB,oBAAoBzf,EAAMigC,EACjC,EAKA,YAJAvqC,KAAKgqB,iBAAiB1f,EAAMigC,EACtBzpC,OAAAY,OAAAZ,OAAAY,OAAA,GAAAqB,GACJ,CAAAunC,MAAM,I,CAWV,MAAME,EAAa5C,EACnBA,EAAU,WACR,OAAO4C,EAAW/5B,MAAMzQ,KAAM0jC,UAChC,EACEkE,EAAgB4C,WAAaA,EAE/B,MAAM1hB,EAAW9oB,KAAKklC,WAAW56B,IAC7BnE,EAAAA,EAAAA,IAAQ2iB,GACVA,EAASlnB,KAAKgmC,GAEd5nC,KAAKklC,WAAW56B,GAAQ,CAACs9B,E,CAItB7d,mBAAAA,CAAqBzf,EAAcs9B,GAGxC,GAFAt9B,EAAOA,EAAKiH,cAEC,iBAATjH,EAIF,OAFAtK,KAAK+pB,oBAAoB,QAAS6d,QAClC5nC,KAAK+pB,oBAAoB,MAAO6d,GAIlC,IAAKA,EACH,OAGF,MAAM9e,EAAW9oB,KAAKklC,WAAW56B,GACjC,KAAKnE,EAAAA,EAAAA,IAAQ2iB,GACX,OAGF,MAAM/oB,EAAQ+oB,EAASja,UAAU3I,IAC/B,GAAIA,IAAS0hC,GAAY1hC,EAAaskC,aAAe5C,EAAS,OAAO,IAKvE9e,EAASha,OAAO/O,EAAO,E,CAGlBgmC,gBAAAA,GACL,MAAMjd,EAAW9oB,KAAKklC,WAChBa,EAAmBjlC,OAAOC,KAAK+nB,GAAU2hB,KAAKvnC,GAAO4lB,EAAS5lB,GAAKhD,QACzE,OAAOwoC,QAAQ3C,E,CAGVe,iBAAAA,GACL,MAAMhe,EAAW9oB,KAAKklC,WAChB4B,EAAoBhe,EAAS9e,KAAwC,IAAjClJ,OAAOC,KAAK+nB,GAAU5oB,OAChE,OAAOwoC,QAAQ5B,E,EC1EnB,MAAM4D,EAAa,KACbC,GAAS/gC,EAAAA,EAAAA,MAET,MAAOi7B,UAAiBsF,EAQ5BvqC,WAAAA,GACEmO,QAJK,KAAU80B,WAAoB,KAC9B,KAAUxT,WAAe,GASxB,KAAAub,QAAW5/B,GAAmB,KAAM4/B,EAAAA,EAAAA,GAAQ5/B,GALlDhL,KAAKimC,IAAM,IAAM0E,IACjB3qC,KAAKgjB,IAAMhjB,KAAKimC,IAChBnO,EAAAA,EAAYjoB,IAAI7P,KAAKgjB,IAAKhjB,K,CAKpB6qC,gBAAAA,CAAkBC,GACxB,MAAMC,EAAkBA,IAAM,GACxBC,EAAqBA,KACzB,MAAM3b,EAAarvB,KAAKqvB,WAAW7tB,OAAOwJ,KAASigC,EAAAA,EAAAA,IAAUjgC,IAC7D,OAAOqkB,EAAWpa,IAAI21B,EAAAA,IAGxB5qC,KAAK6mC,cAAc,CACjBlsB,KAAM,GAAG3a,KAAKi3B,SAASyT,IACvBrgC,MAAOygC,EAAUC,EAAkBC,G,CAI/BE,iBAAAA,CAAmBnrC,GACzBC,KAAKqvB,WAAWruB,QAAQ,CAACmrB,EAAOgf,MAC1BF,EAAAA,EAAAA,IAAU9e,IAEVpsB,GAASorC,EAAaprC,GAE1BC,KAAK6mC,cAAc,CACjBlsB,KAAMwR,EAAM8K,MACZ5sB,MAAOrK,KAAK4qC,QAAQze,M,CAK1B,SAAW+Z,G,MACT,OAAwB,QAAjBvgC,EAAA3F,KAAK6iC,kBAAY,IAAAl9B,OAAA,EAAAA,EAAAugC,QAAS,I,CAGzBr3B,SAAAA,CAAWyf,GACnB,MAAMvuB,EAAQC,KAAKqvB,WAAW3c,QAAQ4b,GAItC,OAFA+D,EAAAA,EAAAA,KAAkB,IAAXtyB,EAAc,wDAEdA,C,CAGT,SAAWk3B,GACT,MAAM4L,EAAa7iC,KAAK6iC,WAExB,GAAIA,EAAY,CAEd,MAAMh7B,EAAOg7B,EAAWxT,WAAW7tB,OAAOwJ,KAASigC,EAAAA,EAAAA,IAAUjgC,IACvDogC,EAAcvjC,EAAK6K,QAAQ1S,MAC3BD,EAAQgK,EAAAA,GAAM8B,KAAK,eAAgBu/B,GAEzC,MAAO,GAAGvI,EAAW5L,SAASyT,KAAc3qC,G,CAG9C,MAAO,E,CAGT,eAAW4kC,GACT,MAAM9B,EAAa7iC,KAAK6iC,WACxB,OAAO,OAAAA,QAAU,IAAVA,OAAU,EAAVA,EAAYxT,WAAWwT,EAAWh0B,UAAU7O,MAAQ,KAAM,I,CAGnE,mBAAWqrC,GACT,MAAMxI,EAAa7iC,KAAK6iC,WACxB,OAAO,OAAAA,QAAU,IAAVA,OAAU,EAAVA,EAAYxT,WAAWwT,EAAWh0B,UAAU7O,MAAQ,KAAM,I,CAGnE,iBAAW4kC,GACT,MAAM/B,EAAa7iC,KAAK6iC,WACxB,OAAkD,KAApC,OAAVA,QAAU,IAAVA,OAAU,EAAVA,EAAYvQ,UACPuQ,EAEF,I,CAGT,cAAW4B,GACT,OAAOzkC,KAAKqvB,WAAW,IAAM,I,CAG/B,aAAWic,GACT,MAAMjc,EAAarvB,KAAKqvB,WACxB,OAAOA,EAAWA,EAAWnvB,OAAS,IAAM,I,CAQ9C,eAAWovB,CAAaxL,GACtB,MAAMynB,EAAevrC,KAAKqvB,WAAWrgB,QAC/Bw8B,EAAyB,GAG/B,MAAOxrC,KAAKykC,WACVzkC,KAAKwuB,YAAYxuB,KAAKykC,WAAY,CAAEgH,UAAU,IAGhD,GAAa,KAAT3nB,EACF9jB,KAAK6qC,kBAAiB,OACjB,CACL,MAAM5c,EAAUpa,EAAAA,EAAIxG,SAASsf,eAAe7I,GAC5C0nB,EAAW5pC,KAAKqsB,GAChBjuB,KAAKyN,YAAYwgB,GACjBjuB,KAAK6qC,kB,CAIP9H,EAAAA,EAAiBf,OAAO,CACtB13B,KAAmC,YACnCoQ,OAAQ1a,KACRurC,eACAC,c,CAYGnd,YAAAA,CAAkCqd,EAAapd,EAA4Bqd,GAChF,GAAID,EAAS/kB,WAAa4Y,EAAAA,GAKxB,OAJAmM,EAASrc,WAAWuc,YAAY,CAACC,EAAevkB,KAC9CtnB,KAAKquB,aAAa/G,EAAcukB,GACzBvkB,GACNgH,GACIod,EAMTA,EAAS7H,OAAO,CAAEiI,UAAU,IAE5B,IAAI/rC,EAAQ,EAEZ2rC,EAAS7I,WAAa7iC,KAClBsuB,GAEFvuB,EAAQC,KAAK6O,UAAUyf,GACvBtuB,KAAKqvB,WAAWvgB,OAAO/O,EAAO,EAAG2rC,IAGjC1rC,KAAKqvB,WAAWztB,KAAK8pC,GAGvB,MAAMK,EAAmB/rC,KAAKqvB,WAAWnvB,OAEzC,GAAIF,KAAKkmC,MACP,GAAK5X,EAWE,GAAIqd,EAET3rC,KAAK6mC,cAAc,CACjBlsB,KAAM+wB,EAASzU,MACf5sB,MAAOrK,KAAK4qC,QAAQc,SAEjB,CAYL,MAAMM,EAA0B,EAAnBD,EAAuB,EAChCC,EAAOjsC,EAETC,KAAK6qC,mBAGL7qC,KAAKkrC,kBAAkBnrC,E,KAnCZ,CAEb,MAAMksC,EAAmC,IAArBF,EAChBE,EACFjsC,KAAK6qC,mBAEL7qC,KAAK6mC,cAAc,CACjBlsB,KAAM+wB,EAASzU,MACf5sB,MAAOrK,KAAK4qC,QAAQc,I,CA6C5B,OAbA3I,EAAAA,EAAiBf,OAAO,CACtB13B,KAAmC,YACnCoQ,OAAQ1a,KACRwrC,WAAY,CAACE,GACbH,aAAcI,EACV,CAACrd,GACD,GACJqW,YAAagH,EACRrd,EAAsBqW,YACtBrW,GAAY,KACjB+c,gBAAiBK,EAASL,kBAGrBK,C,CAWFj+B,WAAAA,CAAai+B,GAClB,OAAO1rC,KAAKquB,aAAaqd,E,CAWpBQ,YAAAA,CAAcR,EAAoBS,GACvC,GAAIA,EAAStJ,aAAe7iC,KAU5B,OAPAA,KAAKquB,aAAaqd,EAAUS,GAAU,GAKtCA,EAAStI,OAAO,CAAE4H,UAAU,IAErBU,C,CAUF3d,WAAAA,CAAiCrC,EAAUppB,EAA8B,CAAC,GAC/E,MAAM,SAAE+oC,EAAQ,SAAEL,GAAa1oC,GAEd,IAAb+oC,IAAmC,IAAbL,GAGxB1I,EAAAA,EAAiBf,OAAO,CACtB13B,KAAmC,YACnCoQ,OAAQ1a,KACRurC,aAAc,CAACpf,GACfwY,YAAaxY,EAAMwY,YACnB0G,gBAAiBlf,EAAMkf,kBAK3B,MAAMtrC,EAAQC,KAAK6O,UAAUsd,GAc7B,OAbAnsB,KAAKqvB,WAAWvgB,OAAO/O,EAAO,GAC9BosB,EAAM0W,WAAa,MAGF,IAAbiJ,GACFhU,EAAAA,EAAYsQ,eAAejc,GAIzBnsB,KAAKkmC,QAAsB,IAAbuF,GAChBzrC,KAAK6qC,mBAGA1e,C,CAGF0X,MAAAA,CAAQ9gC,G,MACI,QAAjB4C,EAAA3F,KAAK6iC,kBAAY,IAAAl9B,GAAAA,EAAA6oB,YAAYxuB,KAAM+C,E,CAG9BqpC,aAAAA,GACL,OAAOpsC,KAAKqvB,WAAWnvB,OAAS,C,CAG3B2mC,aAAAA,CAAeF,G,MACV,QAAVhhC,EAAA3F,KAAKkmC,aAAK,IAAAvgC,GAAAA,EAAEkhC,cAAcF,E,CAG5B,iBAAW0F,GACT,OAAOx4B,EAAAA,EAAIxG,Q,CAGb,aAAO26B,CAAQC,EAAoBllC,IACjCilC,EAAAA,EAAAA,IAAOnD,EAAUoD,EAAYllC,E,sIClUjC,SAASupC,EAAmB1+B,EAAuB2+B,GAEjD,MAAM1kC,EAAO0kC,EAAYv9B,MAAM,GAC/B,IACIw9B,EADAC,EAAmB7+B,EAEnB8+B,EAAc,GA0BlB,GAxBA7kC,EAAK8kC,KAAK,CAACzmC,EAAMqiB,KACf,MAAMrlB,EAAMgD,EAETgE,QAAQ,aAAc,MAEtBA,QAAQ,UAAW,cAQtB,GANAuiC,EAAcA,EAAYvpC,IAEtBiD,EAAAA,EAAAA,IAAQsmC,KACVA,EAAcA,EAAYjrC,OAAOq2B,KAAOoT,EAAAA,EAAAA,IAAUpT,MAGhDv1B,EAAAA,EAAAA,IAAYmqC,GAAc,OAAO,EAErC,GAAIA,EAAY9lB,WAAa4Z,EAAAA,GAAgB,CAC3C,MAAM9/B,EAAMmsC,EAAAA,GAAmBh9B,IAAI68B,EAAYzpB,KAC3CviB,IACF+rC,EAAgB/rC,EAChBisC,EAAcH,EAAYv9B,MAAMuZ,EAAI,GAAGsN,KAAK,K,IAK9C2W,EACF,MAAO,CACLA,gBACAE,cAGN,CAEM,MAAOpV,UAAwBT,EAAAA,EASnCj3B,WAAAA,GACEmO,QATM,KAAc8+B,eAAoB,GAElC,KAAeC,gBAAY,GAE5B,KAAaC,eAAG,EAEhB,KAAG3S,IAAsB,KAI9Bp6B,KAAK2mB,SAAW0Q,EAAAA,GAChBr3B,KAAK6pB,QAAUwN,EAAAA,GAASI,a,CAG1B,SAAWR,GACT,OAAOI,EAAAA,E,CAGT,SAAW6O,GACT,OAAOlmC,I,CAGFgtC,YAAAA,CAAalmC,GAElB3E,WAAW2E,E,CAGN+/B,aAAAA,CAAeF,GACpB3mC,KAAK6sC,eAAejrC,KAAK+kC,IAEpB3mC,KAAK+sC,eAAiB/sC,KAAKo6B,KAC9Bp6B,KAAKitC,e,CAIFA,aAAAA,CAAeC,GAAa,EAAOC,GACxCntC,KAAK+sC,eAAgB,EAErB,MAAM3S,EAAMrwB,EAAAA,GAAM8B,KAAK,aAAc7L,KAAKo6B,KAE1Cp6B,KAAKgtC,aAAa,KAChB,MAAMI,EAAc,GAAG9N,EAAAA,qCAAkB1B,KAAKH,QAC9CjvB,EAAAA,EAAK6+B,MAAMD,GACX,MAAM1qC,EAAsE5B,OAAO2G,OAAO,MACpF6lC,EAAa,IAAIp8B,IACrBg8B,EACI,CAAC,cAAe,cAChB,IAGN,MAAOltC,KAAK6sC,eAAe3sC,OAAS,EAAG,CACrC,MAAM,KAAEya,EAAI,MAAEtQ,GAAUrK,KAAK6sC,eAAeU,QACxC5yB,EAAK8O,SAAS,OAChB6jB,EAAW/J,IAAI5oB,GAEjBjY,EAAKiY,GAAQtQ,C,CAGf,IAAK,MAAMsQ,KAAQjY,EAAM,CACvB4qC,EAAWtsC,QAAQR,IAEbma,EAAK9U,SAASrF,IAAMma,IAASna,UACxBkC,EAAKiY,KAIhB,MAAMtQ,EAAQ3H,EAAKiY,IACfzZ,EAAAA,EAAAA,IAAWmJ,KACb3H,EAAKiY,GAAQtQ,I,CAKjB,IAAInJ,EAAAA,EAAAA,IAAWisC,GAAY,OAAOA,EAAUzqC,GAG5C1C,KAAK+sC,eAAgB,EACrB,IAAIS,EAAe,CAAC,EACpB,MAAMC,EAA+D,IAAIn3B,IAEzE,GAAI42B,EAEFM,EAAe9qC,OAGf,IAAK,MAAMlC,KAAKkC,EAAM,CACpB,MAAM6pC,EAAc/rC,EAAE+1B,MAAM,KACtBmX,EAAQpB,EAAkBtsC,KAAMusC,GACtC,GAAImB,EAAO,CAET,MAAM,cAAElB,EAAa,YAAEE,GAAgBgB,EAEvCD,EAAiB59B,IAAI28B,EAAa1rC,OAAAY,OAAAZ,OAAAY,OAAA,GAC5B+rC,EAAiB79B,IAAI48B,IAAkB,CAAC,GAC5C,EAAC,KAAKE,KAAgBhqC,EAAKlC,K,MAI7BgtC,EAAahtC,GAAKkC,EAAKlC,E,CAK7B,MAAMmtC,EAAqBF,EAAiBrpC,KACtCwpC,EAAqB9sC,OAAOC,KAAKysC,GAActtC,OAAS,EACxD2tC,EAAeF,GAAsBC,EAAqB,EAAI,GACpE,IAAIE,EAAc,EAElB,MAAMvjC,EAAKA,OACHujC,IAAgBD,IACpBr/B,EAAAA,EAAKC,KAAK2+B,GACVptC,KAAK+tC,sBACLb,GAAc1+B,EAAAA,EAAKC,KAAKC,EAAAA,MAKxBi/B,GACFF,EAAiBzsC,QAAQ,CAAC0B,EAAM03B,KAK9BA,EAAIvX,QAAQngB,EAAM6H,KAKlBqjC,GAKFxT,EAAIvX,QAAQ2qB,EAAcjjC,I,CAKzByjC,qBAAAA,CAAuBzjC,EAAW6vB,GACvCp6B,KAAK8sC,gBAAgBlrC,KAAK,KACxBw4B,EAAM7vB,EAAGsB,KAAKuuB,GAAO7vB,K,CAIlBwjC,mBAAAA,GACL,MAAMjB,EAAkB9sC,KAAK8sC,gBAC7B,IAAKA,EAAgB5sC,OAAQ,OAE7B,MAAM+tC,EAASnB,EAAgB99B,MAAM,GACrChP,KAAK8sC,gBAAgB5sC,OAAS,EAC9B,IAAK,IAAIqoB,EAAI,EAAGA,EAAI0lB,EAAO/tC,OAAQqoB,IACjC0lB,EAAO1lB,I,kHCzMb,MAAM2lB,EAAS,SAETC,EAAkB,CACtB,MACA,aACA,iBACA,gBACA,YACA,SACA,QACA,UACA,UACA,WACA,SACA,YACA,UACA,SACA,QACA,MACA,SACA,QACA,YACA,OACA,gBACA,gBACA,aACA,eACA,UACA,QACA,WACA,SACA,SACA,QACA,SACA,UACA,cACA,MACA,aACA,gBACA,aACA,cACA,SACA,aACA,SACA,QACA,SACA,gBACA,eAkCF,SAASC,EAASC,EAAgBxmC,EAAgBymC,IAC/CA,GAAeH,EAAgBvsC,KAAKysC,GACrCxmC,EAAK7G,QAAQkF,IACXioC,EAAgBvsC,KAAKysC,EAASnoC,GAC1BmoC,IAAWH,GACbC,EAAgBvsC,KAAK,SAAWsE,IAGtC,CAEA,MAAM0S,EAAQ,QACRuR,EAAQ,QACRjN,EAAQ,QACRqxB,EAAQ,QACRnqC,EAAO,OACPoqC,EAAoB,CAAC51B,EAAOuR,EAAOjN,GACnCuxB,EAA2B,CAAC,YAAa,WAAYF,GACrDG,EAAkC,IAAID,EAA0B,UAChEE,EAA6C,IAAIH,KAAsBC,GACvEG,EAAwB,CAAC,YAAa,eACtCC,EAAwB,CAAC,SAAU,OAAQ,QAAS,OACpDC,EAAY,CAAC,MAAO,SACpBC,EAAqB,CAAC,UAAW,QAAS,QAC1CC,EAAoC,CAAC,YAAa,SAAU,aAAc9xB,GAC1E+xB,EAAe,CAAC,QAAS,UCvG/B,SAASC,EAAW7oC,GAClB08B,EAAAA,EAAiBf,OAAO,CACtB13B,KAAmC,aACnCoQ,OAAQrU,EAAI8oC,SACZnJ,cAAe,QACfjgB,SAAU1f,EAAIykB,SAElB,CAEA,SAAS+b,EAAexgC,GACtB,MAAMoc,EAAUpc,EAAI8oC,SAChB1sB,EAAQyjB,OACVzjB,EAAQokB,cAAc,CACpBlsB,KAAM,GAAG8H,EAAQwU,WACjB5sB,MAAOhE,EAAIykB,SAGjB,CAEA,SAASZ,EAAuBklB,EAAgBC,GAM9C,MAAMC,EAAMtvC,KAAKqvC,GAEbC,IAAQF,KAEXpvC,KAAKuvC,UAAYL,EAAUlvC,OAExBwvC,EAAAA,EAAAA,IAAOJ,KAAW9sC,EAAAA,EAAAA,IAAY8sC,IAAsB,KAAXA,GAC3CpvC,KAAKyvC,eAAe36B,OAAOu6B,UACpBrvC,KAAK0vC,OAAOL,KAEnBrvC,KAAKyvC,eAAelM,IAAI8L,GACxBrvC,KAAK0vC,OAAOL,GAAYD,IAGzBpvC,KAAKuvC,UAAY1I,EAAc7mC,MAClC,CAEA,SAAS2vC,EAAWC,EAAoBzB,GACtC,MAAM0B,EAAa,CAAC,EAEpB,IAAK,IAAItnB,EAAI,EAAGA,EAAI4lB,EAAgBjuC,OAAQqoB,IAAK,CAC/C,MAAM8mB,EAAWlB,EAAgB5lB,GAEjC,GAAIqnB,EAAKP,GAAW,OAEpBQ,EAAWR,GAAY,CACrBz/B,GAAAA,GACE,MAAMzM,EAAMnD,KAAK0vC,OAAOL,GACxB,OAAOG,EAAAA,EAAAA,IAAOrsC,KAAQb,EAAAA,EAAAA,IAAYa,GAAO,GAAKA,C,EAEhD0M,GAAAA,CAAkBu/B,GAChBllB,EAASre,KAAK7L,KAAMovC,EAAQC,E,GAKlCvuC,OAAOgP,iBAAiB8/B,EAAKlqC,UAAWmqC,EAC1C,CAEA,SAASC,EAAeC,GACtB,MAAO,MAAM1lB,KAAK0lB,EACpB,CDuCA3B,EAAQ,cAAeI,GACvBJ,EAAQ,iBAAkBI,GAC1BJ,EAAQ,mBAAoBI,GAC5BJ,EAAQ,UAAW,IAAII,EAAmB,WAC1CJ,EAAQ,SAAU,IAAII,EAAmB,WAAY,QAAS,WAAY,SAAU,YACpFJ,EAAQ,YAAa,CAAC,SAAUlxB,IAChCkxB,EAAQ,eAAgBI,GACxBJ,EAAQ,kBAAmBI,GAC3BJ,EAAQ,oBAAqBI,GAC7BJ,EAAQ,aAAcO,GACtBP,EAAQ,cAAeO,GACvBP,EAAQ,YAAaO,GACrBP,EAAQ,eAAgBO,GACxBP,EAAQ,iBAAkB,CAACx1B,EAAOuR,EAAO,SACzCikB,EAAQ,eAAgB,CAACx1B,EAAOuR,EAAO,aACvCikB,EAAQ,eAAgBS,GACxBT,EAAQ,gBAAiBS,GACzBT,EAAQ,UAAWS,GACnBT,EAAQ,SAAU,IAAIS,EAAuB,SAC7CT,EAAQ,oBAAqBU,GAC7BV,EAAQ,qBAAsBU,GAC9BV,EAAQ,qBAAsBU,GAC9BV,EAAQ,sBAAuBU,GAC/BV,EAAQ,aAAcU,GACtBV,EAAQ,UAAWU,GACnBV,EAAQ,aAAcU,GACtBV,EAAQ,cAAeU,GACvBV,EAAQ,cAAeU,GACvBV,EAAQ,eAAgBU,GACxBV,EAAQ,eAAgBU,GACxBV,EAAQ,gBAAiBU,GACzBV,EAAQ,QAASa,GACjBb,EAAQ,MAAOa,GACfb,EAAQ,OAAQ,CAAC,OAAQ,YAAaG,EAAO,OAAQ,SAAU,WAAY,SAAUnqC,EAAM,SAC3FgqC,EAAQ,cAAe,CAAC,SAAU,SAAU,QAAS,SAAU,YAAalxB,IAC5EkxB,EAAQ,aAAc,CAAC,OAAQ,SAAU,SAAU,QAAS,SAAUlxB,IACtEkxB,EAAQ,OAAQ,CAAC,SAAU,kBAAmB,UAAW,mBAAoB,UAAW,UAAW,gBAAiB,UAAWhqC,EAAM,aAAc,UAAW+lB,EAAO,SAAU,sBAC/KikB,EAAQ,YAAa,CAAC,MAAO,SAAUjkB,IACvCikB,EAAQ,aAAc,CAACx1B,EAAO21B,EAAO,aAAc,YAAa,OAAQ,SAAU,WAAY,SAAUnqC,IACxGgqC,EAAQ,YAAa,CAACG,EAAO,WAAY,SACzCH,EAAQ,aAAc,CAAC,QAAS,OAAQ,SACxCA,EAAQ,OAAQ,CAAC,OAAQ,cAAe,WAAY,aACpDA,EAAQ,eAAgB,CAAC,QAAS,UAAW,SAC7CA,EAAQ,WAAY,CAAC,QAAS,SAAU,OAAQ,IAAK,MACrDA,EAAQ,aAAc,CAAC,QAAS,WAAY,WAAY,mBACxDA,EAAQ,QAAS,CAAC,SAAU,uBAAwB,WACpDA,EAAQ,YAAa,CAAC,MAAO,SAC7BA,EAAQ,OAAQ,CAAC,aAAc,cAAe,gBAC9CA,EAAQ,YAAa,CAAC,QAAS,YAAa,WAAY,WAAY,iBAAkB,OAAQ,YAAa,mBAC3GA,EAAQ,OAAQ,CAAC,QAAS,YAAa,OAAQ,OAAQ,SAAU,SACjEA,EAAQ,SAAU,IAAIa,KAAiBH,EAAW,SAAU,WAAY,OAAQ,WAAY,WAC5FV,EAAQ,cAAe,CAAC,WACxBA,EAAQ,OAAQ,CAAC,OAAQ,SACzBA,EAAQ,OAAQ,CAAC,OAAQ,SAEzBA,EAAQ,QAAS,CAAC,UAAW,QAAS,SAAS,GAC/CA,EAAQ,YAAa,CAAC,SAAU,aAAa,GAC7CA,EAAQ,cAAeQ,GAAuB,GAC9CR,EAAQ,YAAaQ,GAAuB,GAC5CR,EAAQ,eAAgB,CAAC,MAAOG,EAAO,mBAAmB,GAC1DH,EAAQ,gBAAiBM,GAAiC,GAC1DN,EAAQ,iBAAkBM,GAAiC,GAC3DN,EAAQ,mBAAoBM,GAAiC,GAC7DN,EAAQ,oBAAqBM,GAAiC,GAC9DN,EAAQ,SAAU,CAAC,IAAK,QAAS,OAAQ,MAAO,OAAQ,YAAa,YAAa,YAAa,OAAQlxB,IAAQ,GAC/GkxB,EAAQ,QAAS,IAAIa,EAAc,WAAW,GAC9Cb,EAAQ,OAAQ,IAAIa,EAAc,OAAQ,SAAU,YAAY,GAChEb,EAAQ,UAAWW,GAAoB,GACvCX,EAAQ,QAASW,GAAoB,GACrCX,EAAQ,MAAO,IAAIY,EAAmC,UAAU,GAChEZ,EAAQ,MAAOY,GAAmC,GAClDZ,EAAQ,OAAQ,CAAC,QAAS,QAAS,OAAQ,SAAU,UAAW,SAAS,GACzEA,EAAQ,SAAU,CAAC,WAAYhqC,EAAM,WAAW,GAChDgqC,EAAQ,OAAQ,CAAC,iBAAkB,aAAc,SAAU,SAAU,UAAW,cAAe,WAAY,SAAU,gBAAiB,YAAa,UAAW,YAAa,oBAAqB,SAAS,GACzMA,EAAQ,QAAS,CAAC,iBAAkB,SAAU,SAAU,YAAY,GACpEA,EAAQ,OAAQ,CAAC,QAAS,UAAW,SAAS,GAC9CA,EAAQ,SAAU,CAAC,MAAO,aAAa,GACvCA,EAAQ,MAAO,CAAC,kBAAmB,SAAU,SAAU,SAAS,GAEhEA,EAAQF,EAAQ,CAAC,YAAa,YAAa,gBAAiB,aAAc,kBAAmB,oBAAoB,G,MCpHpGnJ,EASXnlC,WAAAA,CAAoB6iB,GAClBziB,KAAKmvC,SAAW1sB,EAChBziB,KAAKyvC,eAAiB,IAAIv+B,IAC1BlR,KAAK0vC,OAAS,CAAC,C,CAGTM,eAAAA,CAAiBX,GACvBrvC,KAAKgT,eAAeq8B,IAAavuC,OAAOsJ,eAAepK,KAAMqvC,EAAU,CACrE9oC,YAAY,EACZ8I,cAAc,EACdO,IAAKA,IACI5P,KAAK0vC,OAAOL,IAAa,GAElCx/B,IAAMu/B,IACJllB,EAASre,KAAK7L,KAAMovC,EAAQC,K,CAKlC,WAAWvkB,GACT,IAAK9qB,KAAKyvC,eAAerrC,KAAM,MAAO,GAEtC,MAAM6rC,EAAkB,GAUxB,OATAjwC,KAAKyvC,eAAezuC,QAAQkC,IAC1B,MAAMC,EAAMnD,KAAKkD,GACjB,IAAIssC,EAAAA,EAAAA,IAAOrsC,KAAQb,EAAAA,EAAAA,IAAYa,GAAM,OACrC,IAAI+sC,EAAYJ,EAAc5sC,GAAOA,GAAMitC,EAAAA,EAAAA,IAASjtC,GAChB,IAAhCgtC,EAAUx9B,QAAQ,WAAmD,IAAhCw9B,EAAUx9B,QAAQ,YACzDw9B,EAAY,IAAIA,KAElBD,EAAMruC,KAAK,GAAGsuC,MAAc/sC,QAEvB8sC,EAAMpa,KAAK,I,CAGpB,WAAW/K,CAASkL,GAQlB,GAPAh2B,KAAKuvC,UAAW,EAChBL,EAAUlvC,MAEVA,KAAKyvC,eAAezuC,QAAQovC,IAC1BpwC,KAAKqwC,eAAeD,KAGV,KAARpa,IAAc1zB,EAAAA,EAAAA,IAAY0zB,KAAQwZ,EAAAA,EAAAA,IAAOxZ,GAG3C,OAFAh2B,KAAKuvC,UAAW,OAChB1I,EAAc7mC,MAIhB,MAAMswC,EAAQta,EAAIO,MAAM,KAExB,IAAK,IAAIhO,EAAI,EAAGA,EAAI+nB,EAAMpwC,OAAQqoB,IAAK,CACrC,MAAMgoB,EAAOD,EAAM/nB,GAAG2G,OACtB,GAAa,KAATqhB,EACF,SAIF,MAAOC,KAAaC,GAAWF,EAAKha,MAAM,KACpCpzB,EAAMstC,EAAQ5a,KAAK,MAErBvzB,EAAAA,EAAAA,IAAYa,IAGhBnD,KAAKmpB,YAAYqnB,EAASthB,OAAQ/rB,EAAI+rB,O,CAGxClvB,KAAKuvC,UAAW,EAChB1I,EAAc7mC,K,CAGTmpB,WAAAA,CAAa4mB,EAAsB1lC,GAChB,MAApB0lC,EAAa,GAEf/vC,KAAKgwC,gBAAgBD,GAErBA,GAAejtB,EAAAA,EAAAA,IAAYitB,IAGzBP,EAAAA,EAAAA,IAAOnlC,KAAU/H,EAAAA,EAAAA,IAAY+H,GAC/BrK,KAAKqwC,eAAeN,GAEpB/vC,KAAK+vC,GAAgB1lC,C,CAIlBgmC,cAAAA,CAAgBN,GAErB,GADAA,GAAejtB,EAAAA,EAAAA,IAAYitB,IACtB/vC,KAAKyvC,eAAe78B,IAAIm9B,GAC3B,MAAO,GAGT,MAAM1lC,EAAQrK,KAAK+vC,GAEnB,OADA/vC,KAAK+vC,QAAgBjoC,EACduC,C,CAGFqmC,gBAAAA,CAAkBX,GACvBA,GAAejtB,EAAAA,EAAAA,IAAYitB,GAC3B,MAAM1lC,EAAQrK,KAAK+vC,GACnB,OAAK1lC,GACI,E,EAObslC,EAAU5K,EAAOoJ,GAEjBpkC,EAAAA,GAAMC,IAAI,2BAA6B2mC,IACrC,IAAIxqC,EAAAA,EAAAA,IAAQwqC,GACVhB,EAAU5K,EAAO4L,OACZ,CACL,GAAkC,kBAAvBA,EAAiC,OAE5ChB,EAAU5K,EAAO,CAAC4L,G,+FClMhB,MAAO/Y,UAAiBiN,EAAAA,EAK5BjlC,WAAAA,CAAayK,GACX0D,QAJK,KAAAukB,SAA6B,EAC7B,KAAQ3L,SAAG,QAIhB3mB,KAAK0vC,OAASrlC,C,CAGhB,eAAWilB,CAAaxL,GACtBif,EAAAA,EAAiBf,OAAO,CACtBtnB,OAAQ1a,KACRsK,KAAuC,gBACvCyb,SAAU/lB,KAAK0vC,SAEjB1vC,KAAK0vC,OAAS5rB,EACd9jB,KAAK6mC,cAAc,CACjBlsB,KAAM,GAAG3a,KAAKi3B,UACd5sB,MAAOyZ,G,CAIX,eAAWwL,GACT,OAAOtvB,KAAK0vC,M,CAGd,aAAWxhB,CAAWpK,GACpB9jB,KAAKsvB,YAAcxL,C,CAGrB,aAAWoK,GACT,OAAOluB,KAAK0vC,M,CAGd,QAAWhtC,CAAMohB,GACf9jB,KAAKsvB,YAAcxL,C,CAGrB,QAAWphB,GACT,OAAO1C,KAAK0vC,M,+dCxBhB,MAAMkB,EAAY,IAAIt6B,IAChB2jB,GAASrwB,EAAAA,EAAAA,MAEC,SAAAhC,EAAoBN,EAA2BN,GAC7D+C,EAAAA,GAAM8B,KAAK,oBAAqB+kC,EAAUhhC,IAAI5I,GAAKM,GACnDspC,EAAU/gC,IAAI7I,EAAIM,EACpB,CAEM,SAAUC,EAAiBP,GAC/B,OAAO4pC,EAAUhhC,IAAI5I,EACvB,CAEM,SAAU6pC,EAAoB7pC,GAClC4pC,EAAU97B,OAAO9N,EACnB,CAEM,SAAU8pC,EAAan2B,EAAc9T,KAAsBc,GAC/D,MAAMsC,EAAW2mC,EAAUhhC,IAAI+K,GAE/B,GAAgB,MAAZ1Q,EACF,OAGF,MAAMsG,EAAOxG,EAAAA,GAAM8B,KAAK,eAAgB5B,EAAUpD,GAElD,IAAIV,EAAAA,EAAAA,IAAQoK,GAAO,CACjB,MAAM9P,EAAM8P,EAAK0E,IAAInO,GAAMA,EAAG2J,MAAMxG,EAAUtC,IAC9C,OAAOlH,EAAI,E,CAGb,OAAKS,EAAAA,EAAAA,IAAWqP,GAITA,EAAKE,MAAMxG,EAAUtC,QAJ5B,CAKF,CAEM,SAAUopC,EAAW1qC,GACzB,GAAW,MAAPA,EACF,MAAO,GAET,MAAMsU,EAAO7Z,OAAOC,KAAKsF,GAAK4O,IAAK/R,GAC1BA,EAAM,IAAMmD,EAAInD,IACtB2yB,KAAK,KACR,MAAgB,KAATlb,EAAcA,EAAO,IAAMA,CACpC,CAEgB,SAAAq2B,EAAShqC,EAAYjE,GACnC,MAAM6L,EAAM5H,EAAG0L,QAAQ,KAIrB,MAAO,GAAG9D,GAAO,EAAI5H,EAAGiqC,UAAU,EAAGriC,GAAO5H,IAAK+pC,EAAUhuC,IAE/D,CAEM,SAAUmuC,EAAoBv2B,GAClC,OAAOA,EAAO,IAAM0mB,EAAAA,EACtB,CAEM,SAAU8P,EAAmBx2B,GACjC,OAAOA,EAAO,IAAM2mB,EAAAA,EACtB,CAEM,SAAU8P,EAAmBz2B,GACjC,OAAOA,EAAO,IAAM4mB,EAAAA,EACtB,CAEM,SAAU8P,EAAkB5rC,EAAgB6rC,EAAmB5uC,EAAgC6uC,GAEnG,MAAMvqC,EAAa,OAARsqC,QAAQ,IAARA,EAAAA,EAAY,aAAarX,OAElCuX,EACAC,EACAC,EACAxiC,EACAC,EACAwiC,EACAC,GACE7nC,EAAAA,GAAM8B,KAAK,wBAAyBwC,KACxC,IAkBIwjC,EACAC,EAnBAC,EAAsC,KACtCC,GAAa,EACbC,EAAmC,GAEvC,SAASC,EAAkB7jC,GACzB,MAAM5H,EAAgE4H,EAAK8jC,OAAS9jC,EAAK+jC,WAAa/jC,EAAKgkC,UAC3G1tC,EAAAA,EAAQ8B,OAAS,CACfC,OAAQ2H,EAAKikC,YACb33B,MAAM43B,EAAAA,EAAAA,IAAgB9rC,GACtB4rC,UAAWhkC,EAAKgkC,UAChBG,QAAStB,EAAmBlqC,GAC5BgJ,OAAQmhC,EAAkBnqC,GAC1BkJ,OAAQkhC,EAAkBpqC,KAEvB1E,EAAAA,EAAAA,IAAY+L,EAAKokC,aACpB9tC,EAAAA,EAAQ8B,OAAOgsC,UAAYpkC,EAAKokC,U,CAKpC,MAAM5uC,EAAuB,CAC3B,CAAC2tC,GAA2BzuC,EAA6C,GAAIwH,GAC3EunC,EAAY,IAAIlxC,QAAQqB,IAAa4vC,EAAe5vC,IAEpDuM,EAAAA,EAAK6+B,MAAM3+B,EAAAA,IAEX/J,EAAAA,EAAQ0J,KAAOrO,KACfA,KAAK6D,OAAS0tC,GAAc,CAAC,EAG7B,MAAMmB,EAAgB5xC,OAAOY,OAAO,CAAC,EAAGqB,EAAS,CAAE4vC,eAAgB/U,KAAKH,QAClE4U,EAAYryC,KAAKqyC,UAAYrB,EAAQhqC,EAAI0rC,GAKvB,MAApB1yC,KAAKsyC,cACPtyC,KAAKsyC,YAAcI,GAGrBR,EAAiBlyC,MAIfi/B,EAAAA,GAAmBrE,QAAQd,EAAAA,GAAgBC,KAAMsY,GAGnD,MAAMnkC,EAAQA,KACZvJ,EAAAA,EAAQgH,IAAKuC,MAAOzI,EAAW4sC,EAAW,KACxCN,EAAcl+B,EAAAA,EAAIxG,SAASC,eAAgC+kC,IAE3DhgB,EAAAA,EAAAA,IAAuB,OAAhB0f,EAAsB,0DAC7BjB,EAAYuB,EAAWjR,EAAAA,GAASphC,KAAKsyC,aACrCT,IAEEE,EAAY3X,IAAMp6B,KAClB+xC,EAAY9E,eAAc,EAAM1iC,MAMlCynC,EACFC,EAAiBrwC,KAAKsM,GAEtBA,G,EAGJ,CAACujC,KACC,MAAMY,EAAYryC,KAAKqyC,UAGrBpT,EAAAA,GAAmBrE,QAAQd,EAAAA,GAAgBO,QAASgY,GAGtDvB,EAAYuB,EAAWZ,GACvBO,GAAa,EACbrtC,EAAAA,EAAQgH,IAAKgD,QAAS0jC,EAAW,KAC/BL,GAAa,EACbpB,EAAU97B,OAAOu9B,GACbN,IACFA,EAAY3X,IAAM,KAClB2X,EAAc,MAEZE,EAAiB/xC,SACnB+xC,EAAiBjxC,QAAQ8F,GAAMA,KAC/BmrC,EAAmB,K,EAIzB,CAACP,KACCI,EAAUzvC,KAAK,KAEbyuC,EAAY9wC,KAAKqyC,UAAWhR,EAAAA,KAE5BtD,EAAAA,EAAAA,IAAI,IAAMj5B,EAAAA,EAAY81B,QAAQsW,EAAmBlqC,KACjDhH,KAAKwyC,QAAQI,QAAS,G,EAG1B,CAAC1jC,GAASnM,EAAU,CAAC,GACnB+uC,EAAUzvC,KAAK,KAEbsC,EAAAA,EAAQ0J,KAAOrO,KACfkyC,EAAiBlyC,MAGfi/B,EAAAA,GAAmBrE,QAAQd,EAAAA,GAAgBK,QAASn6B,KAAKqyC,WAG3DvB,EAAY9wC,KAAKqyC,UAAW/Q,EAAAA,GAASv+B,IAErCg7B,EAAAA,EAAAA,IAAI,IAAMj5B,EAAAA,EAAY81B,QAAQuW,EAAkBnqC,M,EAGpD,CAACmI,KAGG8vB,EAAAA,GAAmBrE,QAAQd,EAAAA,GAAgBE,QAASh6B,KAAKqyC,WAGvD1tC,EAAAA,EAAQ0J,OAASrO,OACnB2E,EAAAA,EAAQ0J,KAAO,KACf1J,EAAAA,EAAQ8B,OAAS,MAGnBqqC,EAAY9wC,KAAKqyC,UAAW9Q,EAAAA,IAE5Bz8B,EAAAA,EAAY81B,QAAQwW,EAAkBpqC,G,GAuD1C,OA7CA2qC,EAAW3wC,QAAS6F,IAClB,IAAIgsC,GAAU,EACdhsC,EAAYA,EAAUqD,QAAQ,UAAW,KACvC2oC,GAAU,EACH,KAEThvC,EAAOgD,GAAa,WAClB,MAAMisC,EAAOA,IAAMhC,EAAY9wC,KAAKqyC,UAAWxrC,KAAc68B,WAC7D,IAAImP,EAGF,OAAOC,IAFPhB,EAAUzvC,KAAKywC,EAInB,IAIFlB,EAAuB5wC,QAAQ6F,I,OACzBpB,EAAUoB,KACU,QAAtBlB,EAAAF,EAAUC,iBAAY,IAAAC,OAAA,EAAAA,EAAAkB,KACtBpB,EAAUoB,EAAUqD,QAAQ,MAAO,aACzB,OAAVqnC,QAAU,IAAVA,OAAU,EAAVA,EAAa1qC,EAAUqD,QAAQ,MAAO,eAEtCrG,EAAOgD,GAAa,YAAac,G,MAC/B,MAAM+S,EAAkB,QAAT/U,EAAAgC,EAAK,UAAI,IAAAhC,OAAA,EAAAA,EAAA+U,OACxB,GAAU,OAANA,QAAM,IAANA,OAAM,EAANA,EAAQ1T,GAAI,CACd,MAAMA,EAAK0T,EAAO1T,GACZyb,EAAU5O,EAAAA,EAAIxG,SAASC,eAAetG,GACxCyb,IACF/H,EAAOoqB,QAAUriB,EAAQqiB,Q,CAG7B,OAAOgM,EAAY9wC,KAAKqyC,UAAWxrC,KAAcc,EACnD,KAIJ9D,EAAOkvC,GAAKnJ,EAAAA,IAEPtnC,EAAAA,EAAAA,IAAYI,KACfmB,EAAOnB,KAAOA,GAGhBqH,EAAAA,GAAM8B,KAAK,mBAAoBhI,GAExBA,CACT,C,SAEgBmvC,EAAuBvtC,EAAiCwtC,EAAwBvwC,GAC9F,MAAMsE,EAAkB,OAAbisC,QAAa,IAAbA,EAAAA,EAAiB,kBAAkBhZ,MAC9C,IAAIiZ,EAA2C,KAC/C,MAAOC,EAAUC,GAAYrpC,EAAAA,GAAM8B,KAAK,wBAAyBpG,UAE3D5B,EAAc,CAClB,CAACsvC,K,MACC3kC,EAAAA,EAAK6+B,MAAM3+B,EAAAA,IACX1O,KAAKqzC,aAAgC,QAAlB1tC,EAAA3F,KAAKszC,iBAAa,IAAA3tC,OAAA,EAAAA,EAAAkG,KAAA,QAAIouB,IAEzC,MAAMtf,EAAOq2B,EAAQhqC,EAAI,CAAEA,GAAIhH,KAAKqzC,cAEpC1uC,EAAAA,EAAQgH,IAAKuC,MAAOzI,EAAWkV,EAAM,KACnCu4B,EAAmBr/B,EAAAA,EAAIxG,SAASC,eAAgCqN,IAChE0X,EAAAA,EAAAA,IAA4B,OAArB6gB,EAA2B,0DAClClzC,KAAKqV,eAAiBu7B,EAAUhhC,IAAI+K,GACpCm2B,EAAYn2B,EAAMymB,EAAAA,IAEhB8R,EAAiB9Y,IAAMp6B,KACvBkzC,EAAiBjG,eAAc,I,EAIrC,CAACmG,KACC,MAAMz4B,EAAOq2B,EAAQhqC,EAAI,CAAEA,GAAIhH,KAAKqzC,cAEpC1uC,EAAAA,EAAQgH,IAAKgD,QAASgM,EAAM,KAC1Bi2B,EAAU97B,OAAO6F,GACbu4B,IACFA,EAAiB9Y,IAAM,O,EAI7B7X,QAAS,CACPwwB,GAAInJ,EAAAA,KAYR,OARKtnC,EAAAA,EAAAA,IAAYI,KACfmB,EAAOnB,KAAOA,GAGhB,CAAC8+B,EAAAA,GAASC,EAAAA,GAAkBE,EAAAA,IAAW3gC,QAAQkC,I,MAC7CW,EAAOX,GAAyB,QAAlByC,EAAAF,EAAUvC,UAAQ,IAAAyC,EAAAA,EAAAN,EAAAA,KAG3BxB,CACT,CAEM,SAAU0vC,EAAgCN,GAC9C,MAAMO,EAAkBP,IAAkB1S,EAAAA,IACnC4S,EAAUC,GAAYrpC,EAAAA,GAAM8B,KAAK,wBAAyBpG,UAE3DguC,EAAaD,EACf,CACA,CAACL,K,QACC,MAAMO,GAAyB,QAAX/tC,EAAA3F,KAAK0C,KAAK6lB,SAAC,IAAA5iB,OAAA,EAAAA,EAAEqd,OAAmB,QAAZtX,EAAA1L,KAAKqM,MAAMkc,SAAC,IAAA7c,OAAA,EAAAA,EAAEsX,KACtD,IAAItR,EAAAA,EAAAA,IAASgiC,GAAc,CACzB9G,EAAAA,GAAmB/8B,IAAI6jC,EAAa1zC,MACpC,MAAM63B,EAAKhkB,EAAAA,EAAIxG,SAASC,eAAeomC,GACnC7b,IACFA,EAAGuC,IAAMp6B,K,GAIf,CAACozC,K,QACC,MAAMM,GAAyB,QAAX/tC,EAAA3F,KAAK0C,KAAK6lB,SAAC,IAAA5iB,OAAA,EAAAA,EAAEqd,OAAmB,QAAZtX,EAAA1L,KAAKqM,MAAMkc,SAAC,IAAA7c,OAAA,EAAAA,EAAEsX,KACtD,IAAItR,EAAAA,EAAAA,IAASgiC,GAAc,CACzB9G,EAAAA,GAAmB93B,OAAO4+B,GAC1B,MAAM7b,EAAKhkB,EAAAA,EAAIxG,SAASC,eAAeomC,GACnC7b,IACFA,EAAGuC,IAAM,K,IAKf/0B,EAAAA,GAGEsuC,EAAuC,CAAC,EAK9C,OAAO5pC,EAAAA,GAAM8B,KAAK,iCAAgC/K,OAAAY,OAAA,CAE9CmuC,WAAY,CACVtnB,EAAG,CACDje,KAAMxJ,OACNuJ,MAAO,CACL,CAAoB,OAAE87B,EAAAA,EAAAA,IAAmBrc,EAAAA,IAAoB+V,EAAAA,IAAM5c,OAGvEkiB,EAAG,CACD76B,KAAMyoB,OACN1oB,MAAO,KAGXtH,QACKjC,OAAAY,OAAAZ,OAAAY,OAAA,GAAAiyC,GACH,CAAAC,aAAcJ,IAEhBjxB,QAAS,CACPwwB,GAAInJ,EAAAA,KAEH6J,GACF,CAAED,mBACT,C,4FCxYM,MAAA1uC,EAAciF,EAAAA,GAAM8B,KAAK,iBAAkB9G,EAAAA,E,kFCOjD,MAAM8O,EAAW,CACfwkB,OAAuDhzB,EAAAA,GACvDgI,SAA2DhI,EAAAA,G,gHCQ7D,IAAIwiC,EACAnlB,EAQE,SAAUkoB,EAAS5/B,G,MAEvB0X,IAAAA,GAAoByjB,EAAAA,EAAAA,OAGpB0B,IAAAA,EAAkB99B,EAAAA,GAAM8B,KAAK,oBAE7B,MAAM8a,EAAW3b,EAAK2b,SACtB,IAAIktB,EAAkB,KAEtB,IAAIC,EAAAA,EAAAA,IAAO9oC,GACT,MAAO,CACLgY,IAAKhY,EAAKgY,IACV,CAAgB,KAAEhY,EAAKkjB,UACvB,CAAoB,OAA2B,QAAzBvoB,EAAA+c,EAAgBiE,UAAS,IAAAhhB,OAAA,EAAAA,EAAEsd,OAAQ,KAI7D,MAAMvgB,EAAwB,CAC5B,CAAC,MAAqBikB,EACtB3D,IAAKhY,EAAKgY,KAGRhY,EAAKi7B,MAAQj7B,EAAKgY,MACpBtgB,EAAKujC,IAAMj7B,EAAKi7B,KAGd4B,EAAcn1B,QAAQiU,IAAa,IAChC3b,EAAK+6B,qBACRrjC,EAAwB,MAAG,UAAUikB,IACjCA,IAAakZ,EAAAA,KAASiG,EAAAA,EAAAA,IAAiB96B,KACzCtI,EAAK,MAAsBq9B,EAAAA,KAI3BpZ,IAAakZ,EAAAA,IAAQ70B,EAAK87B,uBAAwBhB,EAAAA,EAAAA,IAAiB96B,KACrEtI,EAAK,MAAsBs9B,EAAAA,KAI/B,MAAM,MAAE3zB,GAAUrB,EAClB,IAAK,MAAMolC,KAAQ/jC,EAAO,CACxB,MAAM0nC,GAAkBjxB,EAAAA,EAAAA,IAAYstB,GAEjCA,EAAKziC,WAAW,UACjByiC,IAAS1Q,EAAAA,IACT0Q,IAASzQ,EAAAA,GACTyQ,IAAS5Q,EAAAA,IACTuU,IAAoB7S,EAAAA,IACpB6S,IAAoB9S,EAAAA,KAEpBv+B,EAAKqxC,GAAmB1nC,EAAM+jC,IAI9BzpB,IAAakZ,EAAAA,IACbkU,IAAoB7S,EAAAA,KACJ,IAAhB70B,EAAM+jC,KAEN1tC,EAAK,MAAsBy+B,EAAAA,IAEzB4S,IAAoB9S,EAAAA,KACtB4S,EAAkBxnC,EAAM+jC,G,CAK5B1tC,EAAK,MAAwBsI,EAAKqkB,WAAW7tB,OAAOwJ,KAASigC,EAAAA,EAAAA,IAAUjgC,IAAOiK,IAAI21B,GAE3D,KAAnB5/B,EAAKo4B,YACP1gC,EAAqB,MAAGsI,EAAKo4B,WAG/B,MAAMtY,EAAU9f,EAAK8f,QACL,KAAZA,GAA+B,gBAAbnE,IACpBjkB,EAAK,MAAmBooB,GAG1B/gB,EAAAA,GAAM8B,KAAK,oBAAqBnJ,EAAMsI,GAEtC,MAAM+X,EAAKrgB,EAAK,MACVsxC,EAAiBtxB,EAAgBK,GACvC,GAAIixB,EAAgB,CAClBtxC,EAAwB,MAAGsxC,EAAe/wB,KAC1C,IAAK,MAAMmtB,KAAQ1tC,EACb0tC,KAAQ4D,IACVtxC,EAAKsxC,EAAe5D,IAAS1tC,EAAK0tC,UAC3B1tC,EAAK0tC,G,CAKM,OAApByD,IACFnxC,EAAK,MAAsBmxC,GAG7B,MAAMI,EAAUlqC,EAAAA,GAAM8B,KAAK,sBAAuBnJ,EAAMsI,EAAMgpC,GAE9D,OAAOC,GAAWvxC,CACpB,C,+0IC7GA,SAASwxC,IACP,MAAO,CACLn0C,MAAO,EACPo0C,OAAQ,EACRC,KAAM,EAEV,CAEA,SAASC,EAAc/0B,EAAoB0W,EAAase,GACtD,MAAMjH,EAAQ/tB,EAASvf,MACjBw0C,EAAMj1B,EAASvf,MAAQstC,EAAQiH,EACrC,IAAK,IAAI/rB,EAAI8kB,EAAO9kB,EAAIgsB,EAAKhsB,IAAK,CAChC,MAAMisB,EAAOxe,EAAIK,OAAO9N,GACX,OAATisB,GACFl1B,EAAS80B,OACT90B,EAAS60B,OAAS,GAElB70B,EAAS60B,Q,CAGf,CAEA,SAASM,EAAcn1B,EAAoB0W,EAAaue,GACtD,MAAMD,EAAMC,EAAMj1B,EAASvf,MAC3B,OAAOs0C,EAAa/0B,EAAU0W,EAAKse,EACrC,CAEA,SAASI,EAAcp1B,GACrB,MAAO,CACLvf,MAAOuf,EAASvf,MAChBq0C,KAAM90B,EAAS80B,KACfD,OAAQ70B,EAAS60B,OAErB,CAEA,MAAMQ,EAAa,KACnB,SAASC,EAAkBJ,GACzB,OAAOG,EAAWtqB,KAAKmqB,EACzB,CAEA,MAAMK,EAAY,IAClB,SAASC,EAAiBN,GACxB,OAAOK,EAAUxqB,KAAKmqB,EACxB,CAEA,SAASO,EAAgBlrB,GACvB,MAAMpV,EAAOoV,EAAQtY,cACrB,QAAIxO,EAAAA,EAAQ01B,KAAMuc,aAAapiC,IAAI6B,EAIrC,CAEA,MAAMwgC,EAAe,cAErB,SAASC,EAAalf,EAAaj2B,GACjC,MAAO,EAAM,CACX,MAAMo1C,EAAUnf,EAAItjB,QAAQ,IAAK3S,GACjC,IAAiB,IAAbo1C,EACF,OAAOA,EAET,MAAMX,EAAOxe,EAAIK,OAAO8e,EAAU,GAClC,GAAa,MAATX,GAAyB,MAATA,GAAgBS,EAAa5qB,KAAKmqB,GACpD,OAAOW,EAETp1C,EAAQo1C,EAAU,C,CAEtB,CAEA,SAASC,EAAWC,EAAgBC,EAAmB7c,GACrD,IAAKmc,EAAiBnc,EAAKpC,OAAOgf,IAAU,OAAO,EAEnD,MAAMf,EAAM7b,EAAKv4B,OAGjB,IAAK,IAAIqoB,EAAI8sB,EAAS,EAAG9sB,EAAI+sB,EAAW/sB,IAAK,CAC3C,MAAMisB,EAAO/b,EAAKpC,OAAO9N,GACzB,IAAKqsB,EAAiBJ,GAAO,CAC3B,GAAIM,EAAgBN,GAAO,OAAO,EAClC,K,EAKJ,IAAK,IAAIjsB,EAAI8sB,EAAS,EAAG9sB,EAAI+rB,EAAK/rB,IAAK,CACrC,MAAMisB,EAAO/b,EAAKpC,OAAO9N,GACzB,IAAKqsB,EAAiBJ,GACpB,OAAIM,EAAgBN,E,CAI1B,C,MAEae,EAOX31C,WAAAA,CAAa64B,GANL,KAAMgL,OAAY,GAElB,KAAQnkB,SAAa40B,IAK3Bl0C,KAAKy4B,KAAOA,C,CAGP+c,IAAAA,GACL,MAAM,KAAE/c,EAAI,SAAEnZ,GAAatf,KACrBs0C,EAAM7b,EAAKv4B,OAEjB,MAAOof,EAASvf,MAAQu0C,EAAK,CAC3B,MAAMjH,EAAQ/tB,EAASvf,MAEvB,GADAC,KAAKy1C,WACDn2B,EAASvf,QAAUstC,EAAO,CAC5B,MAAMpC,EAAYxS,EAAK9qB,WAAW,MAAO0/B,EAAQ,GACjD,GAAIpC,EACFjrC,KAAK01C,kBACA,CACL,MAAM7rB,EAAU7pB,KAAK21C,UACjBZ,EAAelrB,IACjB7pB,KAAK41C,YAAY/rB,E,GAMzB,OAAO7pB,KAAKyjC,M,CAGNgS,QAAAA,GACN,MAAMnrC,EAAO,QACP,KAAEmuB,EAAI,SAAEnZ,GAAatf,KAC3B,IAAIm1C,EAAUD,EAAYzc,EAAMnZ,EAASvf,OACzC,GAAIo1C,IAAY71B,EAASvf,MACvB,QAEe,IAAbo1C,IACFA,EAAU1c,EAAKv4B,QAGjB,MAAMmtC,EAAQqH,EAAap1B,GACrBu2B,EAAUpd,EAAKzpB,MAAMsQ,EAASvf,MAAOo1C,GAC3CV,EAAan1B,EAAUmZ,EAAM0c,GAC7B,MAAMZ,EAAMG,EAAap1B,GACzBtf,KAAKyjC,OAAO7hC,KAAK,CAAE0I,OAAMurC,UAASv2B,SAAU,CAAE+tB,QAAOkH,Q,CAG/CmB,WAAAA,GACN,MAAMprC,EAAO,WACP,KAAEmuB,EAAI,SAAEnZ,GAAatf,KACrBqtC,EAAQqH,EAAap1B,GAC3B+0B,EAAa/0B,EAAUmZ,EAAM,GAC7B,IAAIqd,EAAard,EAAK/lB,QAAQ,SAAO4M,EAASvf,OAC1Cg2C,EAAaD,EAAa,GACV,IAAhBA,IACFA,EAAaC,EAAatd,EAAKv4B,QAGjC,MAAM21C,EAAUpd,EAAKzpB,MAAMsQ,EAASvf,MAAO+1C,GAC3CrB,EAAan1B,EAAUmZ,EAAMsd,GAC7B/1C,KAAKyjC,OAAO7hC,KAAK,CACf0I,OACAurC,UACAv2B,SAAU,CACR+tB,QACAkH,IAAKG,EAAap1B,K,CAKhBq2B,OAAAA,GACN31C,KAAKg2C,eACL,MAAMnsB,EAAU7pB,KAAKi2C,cAIrB,OAHAj2C,KAAKk2C,YACLl2C,KAAKm2C,aAEEtsB,C,CAGDmsB,YAAAA,GACN,MAAM1rC,EAAO,aACP,KAAEmuB,EAAI,SAAEnZ,GAAatf,KAErBo2C,EAAa3d,EAAKpC,OAAO/W,EAASvf,MAAQ,GAC1Cs2C,EAAuB,MAAfD,EACR/I,EAAQqH,EAAap1B,GAC3B+0B,EAAa/0B,EAAUmZ,EAAM4d,EAAQ,EAAI,GACzCr2C,KAAKyjC,OAAO7hC,KAAK,CAAE0I,OAAM+rC,QAAO/2B,SAAU,CAAE+tB,U,CAGtC8I,UAAAA,GACN,MAAM7rC,EAAO,WACP,KAAEmuB,EAAI,SAAEnZ,GAAatf,KAErBs2C,EAAY7d,EAAKpC,OAAO/W,EAASvf,OACjCs2C,EAAsB,MAAdC,EACdjC,EAAa/0B,EAAUmZ,EAAM4d,EAAQ,EAAI,GACzC,MAAM9B,EAAMG,EAAap1B,GACzBtf,KAAKyjC,OAAO7hC,KAAK,CAAE0I,OAAM+rC,QAAO/2B,SAAU,CAAEi1B,Q,CAGtC0B,WAAAA,GACN,MAAM3rC,EAAO,OACP,KAAEmuB,EAAI,SAAEnZ,GAAatf,KACrBs0C,EAAM7b,EAAKv4B,OACjB,IAAImtC,EAAQ/tB,EAASvf,MACrB,MAAOstC,EAAQiH,EAAK,CAClB,MAAME,EAAO/b,EAAKpC,OAAOgX,GACnBkJ,IAAc3B,EAAiBJ,IAAkB,MAATA,GAAyB,MAATA,GAC9D,GAAI+B,EAAW,MACflJ,G,CAGF,IAAIkH,EAAMlH,EAAQ,EAClB,MAAOkH,EAAMD,EAAK,CAChB,MAAME,EAAO/b,EAAKpC,OAAOke,GACnBgC,IAAc3B,EAAiBJ,IAAkB,MAATA,GAAyB,MAATA,GAC9D,IAAK+B,EAAW,MAChBhC,G,CAGFE,EAAan1B,EAAUmZ,EAAM8b,GAC7B,MAAM1qB,EAAU4O,EAAKzpB,MAAMq+B,EAAOkH,GAMlC,OALAv0C,KAAKyjC,OAAO7hC,KAAK,CACf0I,OACAurC,QAAShsB,IAGJA,C,CAGDqsB,SAAAA,GACN,MAAM,KAAEzd,EAAI,SAAEnZ,EAAQ,OAAEmkB,GAAWzjC,KACnC,IAAIq1C,EAAS/1B,EAASvf,MAClBy2C,EAAuB,KACvBlB,EAAYD,EAChB,MAAMoB,EAAkB,GAClBnC,EAAM7b,EAAKv4B,OACjB,MAAOm1C,EAASf,EAAK,CACnB,MAAME,EAAO/b,EAAKpC,OAAOgf,GACzB,GAAImB,EAAO,CACT,MAAME,EAAalC,IAASgC,EACxBE,IACFF,EAAQ,MAEVnB,IACA,Q,CAGF,MAAMsB,EAAoB,MAATnC,GAAyB,MAATA,EACjC,GAAImC,EAAU,CACRtB,IAAWC,GACbmB,EAAM70C,KAAK62B,EAAKzpB,MAAMsmC,EAAWD,IAEnC,K,CAGF,GAAID,EAAUC,EAAQC,EAAW7c,GAAO,CAClC4c,IAAWC,GACbmB,EAAM70C,KAAK62B,EAAKzpB,MAAMsmC,EAAWD,IAEnCC,EAAYD,EAAS,EACrBA,IACA,Q,CAGF,MAAMuB,EAAwB,MAATpC,GAA0B,MAATA,EAClCoC,GACFJ,EAAQhC,EACRa,KAIFA,G,CAGFZ,EAAan1B,EAAUmZ,EAAM4c,GAE7B,MAAMwB,EAAOJ,EAAMv2C,OACboK,EAAO,YACb,IAAK,IAAIie,EAAI,EAAGA,EAAIsuB,EAAMtuB,IAAK,CAC7B,MAAMuuB,EAAOL,EAAMluB,GACbwuB,EAAYD,EAAKjxC,SAAS,KAChC,GAAIkxC,EAAW,CACb,MAAMC,EAAaP,EAAMluB,EAAI,GAC7B,GAAIyuB,GAAcA,EAAWrpC,WAAW,KAAM,CAC5C,GAAIqpC,EAAW92C,OAAS,EAAG,CACzB,MAAM+2C,EAAUH,EAAOE,EACvBvT,EAAO7hC,KAAK,CAAE0I,OAAMurC,QAASoB,IAC7B1uB,GAAK,EACL,Q,CAEF,MAAM2uB,EAAYT,EAAMluB,EAAI,GAE5B,GADAA,GAAK,EACD2uB,EAAW,CACb,MAAMD,EAAUH,EAAO,IAAMI,EAC7BzT,EAAO7hC,KAAK,CAAE0I,OAAMurC,QAASoB,IAC7B1uB,GAAK,EACL,Q,GAIN,GAAIuuB,EAAKrtB,SAAS,KAAM,CACtB,MAAMutB,EAAaP,EAAMluB,EAAI,GAC7B,GAAIyuB,IAAeA,EAAWnxC,SAAS,KAAM,CAC3C,MAAMoxC,EAAUH,EAAOE,EACvBvT,EAAO7hC,KAAK,CAAE0I,OAAMurC,QAASoB,IAC7B1uB,GAAK,EACL,Q,CAGF,MAAM0uB,EAAUH,EAAK9nC,MAAM,GAAI,GAC/By0B,EAAO7hC,KAAK,CAAE0I,OAAMurC,QAASoB,IAC7B,Q,CAGFxT,EAAO7hC,KAAK,CAAE0I,OAAMurC,QAASiB,G,EAIzBlB,WAAAA,CAAa/rB,GACnB,MAAM,KAAE4O,EAAI,SAAEnZ,GAAatf,KACrBm3C,EAActtB,EAAQtY,cACtB+iC,EAAM7b,EAAKv4B,OACjB,MAAOof,EAASvf,MAAQu0C,EAAK,CAC3B,MAAM8C,EAAU3e,EAAK/lB,QAAQ,KAAM4M,EAASvf,OAC5C,IAAiB,IAAbq3C,EAAgB,CAClBp3C,KAAKy1C,WACL,K,CAGFhB,EAAan1B,EAAUmZ,EAAM2e,GAC7B,MAAM3iC,EAAOzU,KAAK21C,UAClB,GAAIwB,IAAgB1iC,EAAKlD,cACvB,K,GC9VF,SAAU8lC,EAASrhB,GACvB,MAAMshB,EAAMthB,EAAIK,OAAO,GACjBke,EAAMve,EAAI91B,OAAS,EACnB02C,EAAuB,MAARU,GAAuB,MAARA,EACpC,OAAIV,GAAgBU,IAAQthB,EAAIK,OAAOke,GAC9Bve,EAAIhnB,MAAM,EAAGulC,GAEfve,CACT,CCHA,MAAMuhB,EAAe,IACfC,EAAgB,IAChBC,EAAiB,IACjBC,EAAc,IACdC,EAAmB,IACnBC,EAA6B,IAC7BC,EAA8B,IAqBtB,MAAOC,EAArBl4C,WAAAA,GACE,KAAMm4C,OAAa,E,CAEnBC,YAAAA,CAAcC,GACZ,MAAMC,EAAY,yCAClB,IAAIzf,EAAOwf,EASX,OANAxf,EAAOA,EAAKvuB,QAAQguC,EAAW,CAACxsB,EAAGysB,KACjC,MAAMhuB,EAAQguB,EAAGjpB,OAEjB,OADAlvB,KAAKo4C,iBAAiBjuB,GACf,KAGFsO,EAAKvJ,M,CAGdkpB,gBAAAA,CAAkBjuB,GAChB,IAAIkuB,EAAKluB,EAAMzX,QAAQ6kC,GAEvB,MAAOc,GAAM,EAAG,CACd,MAAMC,EAAKnuB,EAAMzX,QAAQ8kC,GACnBe,EAAYpuB,EAAMnb,MAAM,EAAGqpC,GAAInpB,OAErC,IAAI2mB,EAAU1rB,EAAMnb,MAAMqpC,EAAK,EAAGC,GAClCzC,EAAUA,EAAQ3rC,QAAQ,UAAW,SAAUwhB,EAAGysB,GAChD,MAAMvV,EAAIuV,EAAGjpB,OAAOhlB,QAAQ,MAAO,OACnC,MAAO,IAAI04B,IACb,GACAiT,EAAUA,EAAQ3rC,QAAQ,KAAM,IAChC2rC,EAAUA,EAAQ3rC,QAAQ,UAAW,KAE/B,KAAKmgB,KAAKwrB,KACdA,GAAW,KAEb0C,EAAUhiB,MAAM,KAAKv1B,QAAQi3C,IAC3B,MAAMO,EAAex4C,KAAKy4C,cAAcR,GACxCj4C,KAAK+3C,OAAOn2C,KAAK,CACfi0C,UACA2C,mBAGJruB,EAAQA,EAAMnb,MAAMspC,EAAK,GACzBD,EAAKluB,EAAMzX,QAAQ6kC,E,EAKvBkB,aAAAA,CAAeR,GACb,MAAMpwC,EAAOowC,EACV/oB,OACAhlB,QAAQ,eAAgB,OACxBA,QAAQ,MAAO,KACfA,QAAQ,6CAA8C,WACtDqsB,MAAM,KACHgiB,EAAY1wC,EAAKoN,IAAI/O,IACzB,MAAMowC,EAAYpwC,EAAKmwB,OAAO,GACxBqiB,EAAsB,CAC1BC,QAASrC,IAAcqB,EACvBiB,iBAAkBtC,IAAcsB,EAChCiB,kBAAmBvC,IAAcuB,EACjCpyB,IAAK,KACLze,GAAI,KACJ8xC,MAAO,GACPrT,MAAO,IAmCT,OAhCAv/B,EAAOA,EAAKgE,QAAQ,SAAU,IAG9BhE,EAAOA,EAAKgE,QAAQ,aAAc,SAAUwhB,EAAGysB,GAC7C,MAAOj1C,EAAKmH,GAAS8tC,EAAG5hB,MAAM,KACxBwiB,GAA2B,IAArBZ,EAAGzlC,QAAQ,KAEjBw0B,EAAO,CACX6R,MACA71C,MACAmH,MAAO0uC,EAAM,KAAO1uC,GAGtB,OADAquC,EAASjT,MAAM7jC,KAAKslC,GACb,EACT,GAEAhhC,EAAOA,EAAKgE,QAAQ,wBAAyB,SAAUwhB,EAAGysB,GAQxD,OAPIA,EAAG,KAAOT,EAEZgB,EAAS1xC,GAAKmxC,EAAGa,OAAO,GACfb,EAAG,KAAOV,GAEnBiB,EAASI,MAAMl3C,KAAKu2C,EAAGa,OAAO,IAEzB,EACT,GAGa,KAAT9yC,IACFwyC,EAASjzB,IAAMvf,GAGVwyC,IAET,OAAOH,C,CAGTU,UAAAA,CAAYpvB,EAAiBgO,EAAuBhwB,GAClD,MAAMpH,EAAMy4C,EAAWl5C,KAAK+3C,QAAQoB,OAAO,CAACnjB,GAAO6f,UAAS2C,gBAAgBjwB,KAC1E,IAAI3Z,EAAM/G,EAAK0gB,GACXmwB,EAAWF,EAAa5pC,GAC5B,MAAMwqC,EAAeZ,EAAa5pC,EAAM,KAExB,OAAZwqC,QAAA,IAAAA,OAAA,EAAAA,EAAcR,oBAAgC,OAAZQ,QAAA,IAAAA,OAAA,EAAAA,EAAcP,sBAClDH,EAAWU,EACXxqC,GAAO,EACP/G,EAAK0gB,IAAM,GAGb,IAAI8wB,EAAUr5C,KAAKs5C,aAAazvB,EAASgO,EAAI6gB,GAE7C,GAAIW,GAAWX,EAASE,iBAAkB,CACxC,IAAInuC,EAAiC8uC,EAAmB1hB,GACxD,MAAOptB,EAAM,CACX,GAAIA,EAAK+uC,WAAax5C,KAAKs5C,aAAa7uC,EAAK+uC,UAAW/uC,EAAM+tC,EAAa5pC,EAAM,IAAK,CACpFyqC,GAAU,EACV,K,CAEF5uC,EAAO8uC,EAAmB9uC,GAC1B4uC,GAAU,C,EAGd,GAAIA,GAAWX,EAASG,kBAAmB,CACzC,MAAMpuC,EAAiC8uC,EAAmB1hB,GAC1D,GAAKptB,GAASA,EAAK+uC,UAEZ,CACL,MAAMC,EAAiBz5C,KAAKs5C,aAAa7uC,EAAK+uC,UAAW/uC,EAAM+tC,EAAa5pC,EAAM,IAC7E6qC,IACHJ,GAAU,E,MAJZA,GAAU,C,CASd,GAAIA,EAAS,CACX,GAAIzqC,IAAQ4pC,EAAat4C,OAAS,EAChC,OAAO81B,EAAM6f,EACJjnC,EAAM4pC,EAAat4C,OAAS,IACrC2H,EAAK0gB,IAAM,E,MAITmwB,EAASC,SAAW/pC,EAAM,IAC5B/G,EAAK0gB,IAAM,EACPvoB,KAAKs5C,aAAazvB,EAASgO,EAAI2gB,EAAa3wC,EAAK0gB,OACnD1gB,EAAK0gB,IAAM,IAKjB,OAAOyN,GACN,IACH,OAAOv1B,C,CAGT64C,YAAAA,CAAczvB,EAAiBgO,EAAuB6gB,GAEpD,GAAIA,EAASjzB,KAAOizB,EAASjzB,MAAQoE,EAAS,OAAO,EAGrD,GAAI6uB,EAAS1xC,IAAM0xC,EAAS1xC,KAAO6wB,EAAG7wB,GAAI,OAAO,EAGjD,GAAI0xC,EAASI,MAAM54C,OAAQ,CACzB,MAAMolC,EAAYzN,EAAGuL,UAAU7M,MAAM,KACrC,IAAK,IAAIhO,EAAI,EAAGA,EAAImwB,EAASI,MAAM54C,OAAQqoB,IAAK,CAC9C,MAAMmxB,EAAMhB,EAASI,MAAMvwB,GAC3B,IAAgC,IAA5B+c,EAAU5yB,QAAQgnC,GACpB,OAAO,C,EAMb,GAAIhB,EAASjT,MAAMvlC,OACjB,IAAK,IAAIqoB,EAAI,EAAGA,EAAImwB,EAASjT,MAAMvlC,OAAQqoB,IAAK,CAC9C,MAAM,IAAEwwB,EAAG,IAAE71C,EAAG,MAAEmH,GAAUquC,EAASjT,MAAMld,GAC3C,GAAIwwB,IAAQlhB,EAAG6N,aAAaxiC,GAC1B,OAAO,EACF,CACL,MAAMgkC,EAAOrP,EAAGwN,aAAaniC,GAC7B,GAAIgkC,IAASmQ,EAAQhtC,GAAS,IAC5B,OAAO,C,EAMf,OAAO,C,EAIX,SAASkvC,EAAoB1hB,GAC3B,MAAM3L,EAAS2L,EAAG+M,cAClB,IAAK1Y,EAAQ,OAAO,KAEpB,MAAMzhB,EAAOotB,EAAGwT,gBAChB,OAAK5gC,EAEiB,IAAlBA,EAAK6nB,SACA7nB,EAEA8uC,EAAmB9uC,GALV,IAOpB,CAKA,SAASyuC,EAAYnB,GACnB,OAAOA,EAAO4B,KAAK,CAACC,EAAIC,KACtB,MAAMC,EAAYC,EAAkBH,EAAGpB,cACjCwB,EAAYD,EAAkBF,EAAGrB,cAEvC,GAAIsB,IAAcE,EAAW,OAAOF,EAAYE,EAEhD,MAAMC,EAAQC,EAAcN,EAAGpB,cACzB2B,EAAQD,EAAcL,EAAGrB,cAE/B,GAAIyB,IAAUE,EAAO,OAAOF,EAAQE,EAEpC,MAAMC,EAAQC,EAAcT,EAAGpB,cACzB8B,EAAQD,EAAcR,EAAGrB,cAE/B,OAAO4B,EAAQE,GAEnB,CAEA,SAASP,EAAmBxB,GAC1B,OAAOA,EAAUY,OAAO,CAACoB,EAAKrgB,IAAQqgB,GAAOrgB,EAAIlzB,GAAK,EAAI,GAAI,EAChE,CAEA,SAASkzC,EAAe3B,GACtB,OAAOA,EAAUY,OAAO,CAACoB,EAAKrgB,IAAQqgB,EAAMrgB,EAAI4e,MAAM54C,OAASg6B,EAAIuL,MAAMvlC,OAAQ,EACnF,CAEA,SAASm6C,EAAe9B,GACtB,OAAOA,EAAUY,OAAO,CAACoB,EAAKrgB,IAAQqgB,GAAOrgB,EAAIzU,IAAM,EAAI,GAAI,EACjE,C,cCnRgB,SAAA+0B,EACdxkB,EACAykB,GAEA,MAAMxlC,EAA+BnU,OAAO2G,OAAO,MAC7CI,EAAsBmuB,EAAIO,MAAM,KACtC,IAAK,IAAIhO,EAAI,EAAGA,EAAI1gB,EAAK3H,OAAQqoB,IAC/BtT,EAAIpN,EAAK0gB,KAAM,EAEjB,OAA0BplB,KAAS8R,EAAI9R,EAAIoO,cAC7C,CAEa,MAAAmpC,EAAsB,CACjCC,IAAK,QACLC,OAAQ,YAGJC,EAAoB/5C,OAAOC,KAAK+oB,EAAAA,IACnC7U,IAAIsT,GAAKA,EAAEhX,eACXskB,KAAK,KAGKilB,EAAiBN,EAAQK,GAGzBE,EAAmBP,EAAQ,qNAG3BQ,EAAkBR,EAAQ,gLCbjCS,EAA6B,CACjCC,GAAI,CAAC,KAAM,KAAM,QACjBC,GAAI,CAAC,MACLC,GAAI,CAAC,MACLC,MAAO,CAAC,SACRC,MAAO,CAAC,SACRC,MAAO,CAAC,SACRC,GAAI,CAAC,SACLC,GAAI,CAAC,UA8BP,SAASC,EAAmB7xB,EAAiB9d,GAC3C,MAAM4vC,EAAmCV,EAA2BpxB,GACpE,GAAI8xB,EAAY,CACd,IAAIC,EAAe7vC,EAAM7L,OAAS,EAClC,MAAO07C,GAAgB,EAAG,CACxB,MAAMC,EAAgB9vC,EAAM6vC,GAAc/xB,QAC1C,GAAIgyB,IAAkBhyB,EACpB,MAEF,GAAI8xB,GAAcA,EAAW91C,SAASg2C,GACpC,OAAO,EAETD,G,EAGJ,OAAO,CACT,CAEA,SAASE,EAAYr2B,GACnB,OAAI1iB,EAAAA,EAAQ01B,KAAMsjB,cACTt2B,EAGLi1B,EAAoBj1B,GACfi1B,EAAoBj1B,GAClBq1B,EAAer1B,GACjBA,EACEu1B,EAAgBv1B,GAClB,OACEs1B,EAAiBt1B,GACnB,OAGF,MACT,CAEA,SAASu2B,EAAYhmB,GACnB,MAAMimB,EAAM,IACNrtC,EAAMonB,EAAItjB,QAAQupC,GACxB,IAAa,IAATrtC,EAAY,MAAO,CAAConB,GACxB,MAAM9yB,EAAM8yB,EAAIhnB,MAAM,EAAGJ,GAAKsgB,OACxB7kB,EAAQ2rB,EAAIhnB,MAAMJ,EAAMqtC,EAAI/7C,QAAQgvB,OAC1C,MAAO,CAAChsB,EAAKmH,EACf,CAEA,SAAS6xC,EACP/vC,EACAkB,EACA8uC,EAIAjwB,GAEA,OAAO/f,EACJ3K,OAAO2qB,GAEa,YAAfA,EAAM7hB,OAEgB,SAAf6hB,EAAM7hB,MACU,KAAlB6hB,EAAM0pB,UAIhB5gC,IAAKkX,IAEJ,GAAmB,SAAfA,EAAM7hB,KAAiB,CACzB,IAAIwZ,EAAOzW,EAASsf,eAAeR,EAAM0pB,SAKzC,OAJI30C,EAAAA,EAAAA,IAAW6B,EAAAA,EAAQ01B,KAAM2jB,iBAC3Bt4B,EAAO/gB,EAAAA,EAAQ01B,KAAM2jB,cAAct4B,EAAMqI,IAErC,OAAND,QAAA,IAAAA,GAAAA,EAAQze,YAAYqW,GACbA,C,CAGT,MAAM+T,EAAwBxqB,EAASX,cAAcovC,EAAW3vB,EAAMtC,UACtEgO,EAAG2hB,UAAYrtB,EAAMtC,QAEf,OAANqC,QAAA,IAAAA,GAAAA,EAAQze,YAAYoqB,GAEf90B,EAAAA,EAAQ01B,KAAMsjB,gBACjBlkB,EAAGuL,UAAY,MAAMjX,EAAMtC,WAG7B,IAAK,IAAItB,EAAI,EAAGA,EAAI4D,EAAMgW,WAAWjiC,OAAQqoB,IAAK,CAChD,MAAM2e,EAAO/a,EAAMgW,WAAW5Z,IACvBrlB,EAAKmH,GAAS2xC,EAAW9U,GAChC,GAAY,UAARhkC,EACF20B,EAAGuL,WAAa,IAAMiU,EAAQhtC,OACzB,IAAe,MAAXnH,EAAI,IAAyB,MAAXA,EAAI,GAC/B,SAEA20B,EAAGhN,aAAa3nB,EAAc,MAATmH,GAAuBgtC,EAAQhtC,G,EAIxD,MAAM,eAAEgyC,EAAc,eAAEC,GAAmBH,EACrCt0C,EAAOy0C,EAAettC,QACtBmb,EAAQkyB,EAAepD,WAAW9sB,EAAMtC,QAASgO,EAAIhwB,GAU3D,OARAgwB,EAAGhN,aAAa,QAASV,EAAQ0N,EAAG1N,MAAMW,SAG1CoxB,EAAO/vB,EAAMhgB,SAAUkB,EAAU,CAC/BgvC,iBACAC,eAAgBz0C,GACfgwB,IAEC32B,EAAAA,EAAAA,IAAW6B,EAAAA,EAAQ01B,KAAM8jB,kBACpBx5C,EAAAA,EAAQ01B,KAAM8jB,iBAAiB1kB,EAAI1L,GAGrC0L,GAEb,CAEgB,SAAA2kB,EAAQ/jB,EAAcprB,GACpC,MAAMgvC,EAAiB,IAAIvE,EAC3Brf,EAAO4jB,EAAerE,aAAavf,GAEnC,MAAMgL,EAAS,IAAI8R,EAAO9c,GAAM+c,OAE1B5nC,EAAgB,CAAEic,QAAS,GAAI1d,SAAU,GAAI7B,KAAM,UAAW63B,WAAY,IAE1E72B,EAAQ,CAAEm4B,SAAiB4R,OAAQ,EAAGtpC,MAAO,CAAC6B,IAGpD,OAFA6uC,EAAMnxC,GAEC4wC,EAAOtuC,EAAKzB,SAAUkB,EAAU,CACrCgvC,iBACAC,eAAgB9rC,MAAM6rC,EAAetE,OAAO73C,QAAQw8C,KAAK,IAE7D,CAEA,SAASD,EAAOnxC,GACd,MAAM,OAAEm4B,EAAM,MAAE13B,GAAUT,EAC1B,IAAI,OAAE+pC,GAAW/pC,EAEjB,MAAMgpC,EAAM7Q,EAAOvjC,OAEnB,IAAIy8C,EAAQ5wC,EAAMA,EAAM7L,OAAS,GAAGiM,SAEpC,MAAOkpC,EAASf,EAAK,CACnB,MAAMhR,EAAQG,EAAO4R,GACrB,GAAmB,cAAf/R,EAAMh5B,KAAsB,CAE9BqyC,EAAM/6C,KAAK0hC,GACX+R,IACA,Q,CAGF,MAAMuH,EAAWnZ,IAAS4R,GAC1BA,IACA,MAAMxrB,EAAU+yB,EAAS/G,QAAStkC,cAClC,GAAI+xB,EAAM+S,MAAO,CACf,IAAIt2C,EAAQgM,EAAM7L,OACd28C,GAAe,EACnB,QAAS98C,GAAS,EAChB,GAAIgM,EAAMhM,GAAO8pB,UAAYA,EAAS,CACpCgzB,GAAe,EACf,K,CAGJ,MAAOxH,EAASf,EAAK,CACnB,MAAMwI,EAAWrZ,EAAO4R,GACxB,GAAsB,YAAlByH,EAASxyC,KAAoB,MACjC+qC,G,CAEF,GAAIwH,EAAc,CAChB9wC,EAAM+C,OAAO/O,GACb,K,CAEA,Q,CAIJ,MAAMg9C,EAAeh6C,EAAAA,EAAQ01B,KAAMukB,gBAAgBpqC,IAAIiX,GACvD,IAAIozB,EAA0BF,EAK9B,GAJIE,IACFA,GAA2BvB,EAAkB7xB,EAAS9d,IAGpDkxC,EAAyB,CAC3B,IAAIrB,EAAe7vC,EAAM7L,OAAS,EAClC,MAAO07C,EAAe,EAAG,CACvB,GAAI/xB,IAAY9d,EAAM6vC,GAAc/xB,QAAS,CAC3C9d,EAAM+C,OAAO8sC,GACb,MAAMsB,EAAgBtB,EAAe,EACrCe,EAAQ5wC,EAAMmxC,GAAe/wC,SAC7B,K,CAEFyvC,GAA8B,C,EAIlC,MAAMzZ,EAAuB,GAC7B,IAAIgb,EACJ,MAAO9H,EAASf,EAAK,CAEnB,GADA6I,EAAY1Z,EAAO4R,GACI,YAAnB8H,EAAU7yC,KAAoB,MAClC63B,EAAWvgC,KAAKu7C,EAAUtH,SAC1BR,G,CAGFA,IACA,MAAMlpC,EAAsB,GACtBsW,EAAmB,CACvBnY,KAAM,UACNuf,QAAS+yB,EAAS/G,QAClB1T,aACAh2B,YAEFwwC,EAAM/6C,KAAK6gB,GAEX,MAAM26B,IAAgBD,EAAW9G,OAAStzC,EAAAA,EAAQ01B,KAAM4kB,aAAazqC,IAAIiX,IACzE,GAAIuzB,EAAa,CACfrxC,EAAMnK,KAAK,CAAEioB,UAAS1d,aACtB,MAAMmxC,EAAoB,CAAE7Z,SAAQ4R,SAAQtpC,SAC5C0wC,EAAMa,GACNjI,EAASiI,EAAWjI,M,EAIxB/pC,EAAM+pC,OAASA,CACjB,CCnQgB,SAAAkI,EAAc96B,EAAmBgW,GAC/C,MAAOhW,EAAQgiB,WACbhiB,EAAQ+L,YAAY/L,EAAQgiB,YAE9B,MAAMt4B,EAAWqwC,EAAO/jB,EAAMhW,EAAQ4pB,eAEtC,IAAK,IAAI9jB,EAAI,EAAGA,EAAIpc,EAASjM,OAAQqoB,IACnC9F,EAAQhV,YAAYtB,EAASoc,GAEjC,CAvBAxlB,EAAAA,EAAQ01B,KAAO,CACbuc,aAAc,IAAI9jC,IAAI,CAAC,QAAS,WAChCmsC,aAAc,IAAInsC,IAAI,CACpB,WAAY,OAAQ,OAAQ,KAAM,MAAO,UACzC,QAAS,KAAM,MAAO,QAAS,SAAU,OACzC,OAAQ,QAAS,SAAU,QAAS,QAEtC8rC,gBAAiB,IAAI9rC,IAAI,CACvB,OAAQ,OAAQ,OAAQ,IAAK,KAAM,KAAM,KAAM,SAC/C,QAAS,KAAM,QAAS,KAAM,KAAM,QAAS,aAE/C6qC,eAAe,GCAb7vC,SAA8Bgd,EAAAA,GAAc7pB,KAAO6M,SAA8Bgd,EAAAA,GAAc3pB,SAE/FslC,EAAAA,EAASmD,OAAO,YAAa,CAC3Bn4B,GAAAA,CAAK4oB,GACH8kB,EAAa1xC,KAAK7L,KAAMA,KAAMy4B,E,EAEhC7oB,GAAAA,GACE,MAAO,E,6LCpBT,MAAO4tC,WAAmB3mB,GAAAA,G,6HCGhC,SAAS4mB,KAsBT,C,qHCtBA,MAAMC,EAAU,IAEH74C,EAAWA,CAAC0F,EAAW6vB,KAClC,MAAMujB,EAAY/f,KAAKH,MACjBh3B,EAAS9B,EAAAA,EAAQ8B,OAEjBm3C,EAAYA,KAChBz7C,WAAW,WACTi4B,EAAM7vB,EAAGsB,KAAKuuB,GAAO7vB,G,EACpB,IAGL,GAAe,OAAX9D,EAAiB,OAAOm3C,IAE5B,MAAMjjC,EAAOlU,EAAO4rC,UAQpB,SAAS3nC,IACP,MAAMqnC,EAAsCl+B,EAAAA,EAAIxG,SAASC,eAAgCqN,IAC1E,OAAXo3B,QAAW,IAAXA,OAAW,EAAXA,EAAahF,eAObgF,EAAY/D,sBAAsBzjC,EAAI6vB,GAE/BwD,KAAKH,MAAQkgB,EAAYD,EAClCE,IAEAz7C,WAAW,IAAMuI,IAAQ,G,CAI7BA,I,oEC5CW,MAAA3H,EAAmB,CAC9BoqC,WAAW,EACX0Q,OAAO,E,0GCCT,MAAMC,EAANl+C,WAAAA,G,YACU,KAAAm+C,SAAW,IAAIznC,G,CAEhB+2B,KAAAA,CAAOrmC,GACPjE,EAAAA,EAAQ86C,OAGb79C,KAAK+9C,SAASluC,IAAI7I,EAAI42B,KAAKH,M,CAGtBhvB,IAAAA,CAAMzH,EAAYy2B,EAAMG,KAAKH,OAClC,IAAK16B,EAAAA,EAAQ86C,MACX,OAEF,MAAMpzC,EAAOzK,KAAK+9C,SAASnuC,IAAI5I,GAC/B,KAAMyD,GAAQ,GAAI,OAElBzK,KAAK+9C,SAASjpC,OAAO9N,GACrB,MAAM+c,EAAO0Z,EAAMhzB,EAEnB7H,QAAQC,IAAI,GAAGmE,wBAAU+c,sCAAeqQ,EAAAA,EAAAA,IAAAp0B,KAAIg+C,EAAA,IAAAC,GAAJpyC,KAAA7L,KAAgByK,qCAAc2pB,EAAAA,EAAAA,IAAAp0B,KAAeg+C,EAAA,IAAAC,GAAApyC,KAAf7L,KAAgBy9B,K,CAGjFygB,SAAAA,CAAWl3C,EAAYm3C,EAAQ,KACpC,GAAKp7C,EAAAA,EAAQ86C,MAIb,OAAOO,EAAAA,EAAAA,GAAS,CAAC3gB,EAAMG,KAAKH,MAAOlzB,KACjCvK,KAAKyO,KAAKzH,EAAIy2B,GACd,OAAAlzB,QAAA,IAAAA,GAAAA,KACC4zC,E,2BAGOp6B,GACV,MAAMs6B,EAAI,IAAIzgB,KAAK7Z,GACnB,MAAO,GAAGs6B,EAAEC,cAAcD,EAAEE,gBAAgBF,EAAEG,gBAAgB,GAAGH,EAAEI,oBAAoBC,SAAS,EAAG,MACrG,EAGW,MAAAlwC,EAAO,IAAIsvC,C,0ECzCX1kB,EAIXx5B,WAAAA,CAAa6U,GAFb,KAAA0kB,MAAQ,IAAI7iB,IAGVtW,KAAKyU,KAAOA,C,CAGd7B,GAAAA,CAAK+rC,GACH,OAAO3+C,KAAKm5B,MAAMvmB,IAAI+rC,E,CAGxB9uC,GAAAA,CAAK8uC,EAAoBvkB,GACnBukB,GAAcvkB,GAChBp6B,KAAKm5B,MAAMtpB,IAAI8uC,EAAYvkB,E,CAI/BxqB,GAAAA,CAAK+uC,GACH,GAAI3+C,KAAK4S,IAAI+rC,GAAa,OAAO3+C,KAAKm5B,MAAMvpB,IAAI+uC,E,CAGlD7pC,OAAQ6pC,GACN3+C,KAAKm5B,MAAMrkB,OAAO6pC,E,mWCLf,MAAM/0C,EAAcA,KACzB,MAAMg1C,EAAsB,GAE5B,IAAK,IAAIr2B,EAAI,GAAIA,GAAK,GAAIA,IACxBq2B,EAAUh9C,KAAK2mB,GAGjB,IAAK,IAAIA,EAAI,GAAIA,GAAK,IAAKA,IACzBq2B,EAAUh9C,KAAK2mB,GAEjB,MAAMs2B,EAAeD,EAAU1+C,OAAS,EAClC2H,EAAO,CAAC,EAAG,GACjB,MAAO,KACL,MAAM6S,EAAS7S,EAAKoN,IAAI/O,GAAQ04C,EAAU14C,IACpCzF,EAAMsyB,OAAO+rB,gBAAgBpkC,GAEnC,IAAIqkC,EAAUl3C,EAAK3H,OAAS,EAE5B2H,EAAKk3C,KAEL,MAAOl3C,EAAKk3C,GAAWF,EAAc,CAGnC,GAFAh3C,EAAKk3C,GAAW,EAChBA,GAAoB,EAChBA,EAAU,EAAG,CACfl3C,EAAKjG,KAAK,GACV,K,CAEFiG,EAAKk3C,I,CAGP,OAAOt+C,IAIL,SAAU8kC,EAAWv6B,GACzB,OAAyB,IAAlBA,EAAKsnB,QACd,CAEM,SAAUwhB,EAAQ9oC,GACtB,OAAyB,IAAlBA,EAAKsnB,QACd,CAEM,SAAU2Y,EAAWjgC,GACzB,OAAOA,EAAK2b,WAAawR,EAAAA,EAC3B,CAEM,SAAU2N,EAAkBjO,GAChC,MAAMp3B,EAAMK,OAAOC,KAAK82B,EAAGxrB,OAAOo+B,KAAK2F,KAC5B,qBAAqB/lB,KAAK+lB,IAASA,EAAKziC,WAAW,WAE9D,OAAO+6B,QAAQjoC,EACjB,CAOgB,SAAAwpC,EAAgBj/B,EAA0BV,G,MACxD,MAAQU,GAAO,OAAAA,QAAA,IAAAA,OAAA,EAAAA,EAAM45B,gBAAiB,KAAO,CAC3C,IAAK55B,GAAQA,EAAK2b,WAAa0Q,EAAAA,IAA8B,gBAAlBrsB,EAAK2b,SAC9C,OAAO,EACF,GAAyB,QAArBhhB,EAAAqF,EAAKk6B,WAAW56B,UAAK,IAAA3E,OAAA,EAAAA,EAAEzF,OAChC,OAAO,C,CAIX,OAAO,CACT,CAEM,SAAUumC,EAAcvjC,GAC5B,OAAQA,GACN,KAAKy8B,EAAAA,EACH,MAAsB,KACxB,KAAKH,EAAAA,GACH,OAAOC,EAAAA,GACT,KAAKC,EAAAA,GACH,MAAsB,KACxB,QACE,OAAOx8B,EAEb,CAEa,MAAA0pC,EAAqB,IAAIt2B,I,SAMtB0xB,EAAQ4H,EAAY3H,EAAoBllC,IAClD7B,EAAAA,EAAAA,IAAW6B,KACbA,EAAU,CACRsH,MAAOtH,IAGXjC,OAAOsJ,eAAewlC,EAAKlqC,UAAWuiC,EAAUnnC,OAAAY,OAAA,CAC9C2N,cAAc,EACd9I,YAAY,GACTxD,GAEP,CAEA,IAAI2f,E,SACYyjB,IAId,OAHKzjB,IACHA,GAAkBs8B,EAAAA,EAAAA,IAAoBl1B,EAAAA,KAEjCpH,CACT,CAEM,SAAU4H,EAAkBjgB,GAChC,OAAOA,EAAQ,IACjB,C,oCCtIM,SAAU40C,EAAUn4C,EAAIo4C,EAAY,IAAKC,GAC7C,IACIC,EADAthB,EAAW,EAEf,OAAO,YAAan2B,GAClB,MAAM03C,EAAUF,GAASn/C,KACnBy9B,EAAMG,KAAKH,MACbA,EAAMK,EAAWohB,GACnBp4C,EAAG2J,MAAMzQ,KAAM2H,GACfm2B,EAAWL,IAEXr7B,aAAag9C,GACbA,EAAaj9C,WAAW,KACtB27B,EAAWL,EACX32B,EAAG2J,MAAM4uC,EAAS13C,IACjBu3C,GAEP,CACF,CAEM,SAAUd,EAAUt3C,EAAIw4C,EAAK,IAAKH,GACtC,IAAII,EAEJ,OAAO,YAAa53C,GAClB,MAAM03C,EAAUF,GAASn/C,KACzBoC,aAAam9C,GACbA,EAAQp9C,WAAW,WACjB2E,EAAG2J,MAAM4uC,EAAS13C,E,EACjB23C,EACL,CACF,C,yRCzBO,MAAM/M,EAAkBA,CAAC5vC,EAAM,KAA0B,MAAlBA,EAAI0zB,OAAO,GAAa1zB,EAAM,IAAMA,EAErE68C,EAAcA,CAAC7kC,EAAO,GAAI0zB,EAAS,KAC9C,IAAIoR,OAAO,IAAMpR,EAAS,gBAAiB,KAAKhkB,KAAK1P,IAASA,IAAS0zB,EAE5DqR,EAAgBA,CAAC/kC,EAAO,GAAI0zB,EAAS,KAChDmR,EAAY7kC,EAAM0zB,GAAU1zB,EAAKs2B,UAAU5C,EAAOnuC,QAAUya,EAEjDglC,EAAgBA,CAAC3pB,EAAM,KAAOA,EAAI9rB,QAAQ,eAAgB,IAE1D01C,EAAcA,CAACjlC,EAAO,GAAIklC,EAAS,KAC9CllC,EAAK9U,SAASg6C,GAAUllC,EAAKs2B,UAAU,EAAGt2B,EAAKza,OAAS2/C,EAAO3/C,QAAUya,EAE9DmlC,EAAcA,CAACnlC,EAAO,GAAIolC,EAAW,GAAIC,EAAkD,CAAC,EAAGC,EAAgB,M,MAC1H,MAAMC,EAAY3N,EAAgBmN,EAAc/kC,EAAMolC,IAChDjY,GAEF,QAFUniC,EAAA7E,OAAOq/C,QAAQH,GAAcvV,KACzC,EAAEvnC,KAASA,IAAQg9C,UACjB,IAAAv6C,OAAA,EAAAA,EAAA,KAAMu6C,EACV,OAAOD,IAAmC,kBAAVnY,EAAqBA,EAAQA,EAAM,KAAOiY,GAG/DK,EAAiBA,CAACC,EAAa,OAAQN,EAAW,OAC7D,MAAMO,EAA0B,SAAfD,EACbnhB,EAAAA,GAASrL,KAAK7kB,MAAM,GAAGunB,MAAM,KAAK,GAClC2I,EAAAA,GAASnL,SACb,OAAOwe,EAAgBmN,EAAcY,EAAUP,I,6F3D7BjD,MAAMQ,EAAsB,KACtBC,EAAmB,GACnBC,EAAe,KACfC,EAAgB,KAETC,EAAc,CACzBC,eAAgBJ,EAChBK,cAAeL,EACfM,aAAcN,EACdO,gBAAiBP,EACjBQ,YAAaR,GAGFviC,EAAY,CACvBA,UAAWuiC,EACXS,mBAAoBT,EACpBU,uBAAwBV,EACxBW,iBAAkBX,EAClBY,kBAAmBZ,GAGf,SAAUa,EAAap5B,GAC3B,MAAO,IAAIA,IACb,CAEA,MAAMrX,EACJ9P,OAAAY,OAAAZ,OAAAY,OAAA,eAAe2/C,EAAY,QAC3B,yBAA0BX,EAC1B,mBAAoB,KACpB,kBAAmB,OAChBC,GACA1iC,GAGCqjC,EAAO,CACXh3C,KAAMk2C,EACNp8C,KAAM,KACNwU,MAAO4nC,GAGHe,EAAOzgD,OAAAY,OAAA,CACX8/C,UAAWhB,EACXiB,SAAUjB,EACVkB,MAAO,KACPC,QAASpB,EACTqB,OAAQpB,EACRqB,SAAUtB,EACVuB,QAASvB,EACTwB,SAAUxB,EACV,iBAAkBA,EAClB,gBAAiBC,EACjB,cAAe,IACfwB,cAAexB,EACfyB,eAAgBzB,EAChB0B,eAAgB1B,EAChB2B,YAAa3B,GACVG,GAGC5qC,EAAW,CACfqsC,QAAS5B,EACT,eAAgB,IAChB5nC,MAAOyoC,EAAY,WACnBgB,YAAahB,EAAY,WACzBiB,gBAAiBjB,EAAY,WAC7BkB,OAAQ7B,EACR,cAAeW,EAAY,aAC3B,YAAaX,GAGTxqC,EAAW,CACfymC,MAAO4D,GAGH1vC,EACJ/P,OAAAY,OAAA,CAAA8gD,WAAY9B,EACZvqC,MAAOqqC,EACPzqB,OAAQ2qB,GACLC,GAGC7vC,EAAMhQ,OAAAY,OAAA,CACV0C,KAAMi9C,EAAY,WAClB/2C,KAAMk2C,EACNiC,MAAO/B,EACPgC,SAAUlC,EACV7hC,QAAS+hC,EACT,YAAaF,EACb,YAAaA,EACb,cAAea,EAAY,gBAC3B,yBAA0BX,EAC1B,mBAAoB,KACpB,kBAAmB,KACnBjsC,KAAM+rC,EACNmC,8BAA+BnC,GAC5BG,GAGCiC,EAAW,CACfv4C,MAAOm2C,EACPkC,SAAUlC,EACVx6B,QAAS06B,EACT9nC,MAAOyoC,EAAY,WACnB5sC,KAAM+rC,GAGFqC,EAAgB,CACpBC,WAAYtC,EACZ/rC,KAAM+rC,GAGFzoC,EAAO,CACX,gBAAiB2oC,EACjBqC,WAAYvC,EACZwC,UAAWxC,EACX/rC,KAAM+rC,GAGFzvC,EAAQ,CACZ1G,MAAOm2C,EACPl2C,KAAM+2C,EAAYb,GAClB98B,SAAUg9B,EACVhkC,YAAa8jC,EACb,oBAAqBA,EACrB,oBAAqBa,EAAY,qBACjCqB,SAAUlC,EACVyC,UAAW,MACX,iBAAkB,IAClBtmC,MAAO+jC,EACP,eAAgBW,EAAY,QAC5B,eAAgBX,EAChBrL,OAAQ,KACR,kBAAmB,KACnB,gBAAiB,KACjBt4B,UAAWyjC,EACX3jC,UAAW2jC,EACX1jC,SAAU0jC,EACV0C,YAAa1C,EACb/rC,KAAM+rC,GAGF2C,EAAKriD,OAAAY,OAAA,CACTkxB,IAAK4tB,EACL/rC,KAAM+rC,GACHG,GAGCroC,EAAS,CACblC,KAAMirC,EAAY,YAClBqB,SAAUlC,EACV78B,MAAO68B,EACP,YAAaA,EACbn2C,MAAOm2C,EACPnT,MAAOmT,EACPjM,IAAKiM,EACL4C,OAAQ/B,EAAY,OACpB,cAAeb,EACf/rC,KAAM+rC,EACNhjC,WAAYgjC,EACZsC,WAAYtC,EACZ6C,iBAAkB7C,GAGdhoC,EAAa,CACjBnO,MAAOm2C,EACP,kBAAmBA,EACnB,kBAAmBA,EACnB,aAAcA,EACd,aAAcA,EACdsC,WAAYtC,EACZ/rC,KAAM+rC,GAGF8C,EAAmB,CACvB7uC,KAAM+rC,GAGF+C,EAAQ,CACZl5C,MAAOm2C,EACPx6B,QAAS06B,EACTgC,SAAUlC,EACV5nC,MAAOyoC,EAAY,WACnB5sC,KAAM+rC,GAGFgD,EAAa,CACjBV,WAAYtC,EACZ/rC,KAAM+rC,GAGF7nC,EAAS,CACb+hB,IAAK,IACLC,IAAK,MACL8oB,KAAM,IACNf,SAAUlC,EACVn2C,MAAO,IACPg4C,YAAahB,EAAY,WACzBiB,gBAAiBjB,EAAY,WAC7B,aAAc,KACd,cAAeA,EAAY,WAC3B,aAAcX,EACdoC,WAAYtC,EACZkD,aAAclD,EACd/rC,KAAM+rC,GAGFmD,EAAS,CACb39B,QAAS06B,EACTgC,SAAUlC,EACVl2C,KAAM+2C,EAAY,UAClBzoC,MAAOyoC,EAAY,WACnByB,WAAYtC,EACZ/rC,KAAM+rC,GAGF3nC,EAAW,CACfxO,MAAOm2C,EACP9jC,YAAa8jC,EACb,oBAAqBA,EACrB,oBAAqBa,EAAY,wBACjCqB,SAAUlC,EACVyC,UAAW,MACX,aAAcvC,EACd/jC,MAAO+jC,EACP,cAAeA,EACfkD,MAAOlD,EACP,iBAAkB,IAClBrL,OAAQ,KACR,kBAAmB,KACnB,gBAAiB,KACjBx4B,UAAW2jC,EACX1jC,SAAU0jC,EACVqD,eAAgBrD,EAChBzjC,UAAWyjC,EACX0C,YAAa1C,EACb/rC,KAAM+rC,GAGFsD,EAAa,CACjB7L,IAAKuI,EACLhiC,SAAU,KACVpH,UAAW,MAGPmF,EAASzb,OAAAY,OAAA,CACb,aAAcg/C,GACXC,GAGCoD,EAAc,CAClB,aAAcrD,GAGVsD,EACJljD,OAAAY,OAAAZ,OAAAY,OAAA,CAAAuiD,UAAW,OACXC,QAASxD,EACT,gBAAiBA,EACjByD,EAAG3D,EACH4D,EAAG5D,EACH6D,QAAS,KACTC,SAAU,IACV5B,SAAUlC,EACVkB,MAAOhB,EACP,YAAa,MACb,YAAa,KACb,cAAe,IACfoC,WAAYtC,EACZ+D,UAAW/D,EACXgE,eAAgBhE,EAChBiE,eAAgBjE,EAChBtjC,MAAOmkC,EAAY,QACnBlkC,OAAQkkC,EAAY,SACjBV,GACA1iC,GAGCnF,EACJhY,OAAAY,OAAAZ,OAAAY,OAAA,YAAYg/C,EACZ,WAAYA,EACZ,kBAAmB,KACnB,kBAAmB,KACnB,aAAcF,EACd,cAAeA,EACf,mBAAoBA,EACpB,wBAAyBE,EACzB,qBAAsBA,EACtBgE,kBAAmBlE,EACnBmE,kBAAmBnE,EACnB1hC,WAAY0hC,GACTG,GACA1iC,GAGC1D,EACJzZ,OAAAY,OAAA,kBAAkBg/C,EAClB,kBAAmBW,EAAY,qBAC/B,yBAA0BA,EAAY,WACtC9gC,SAAUmgC,EACVz9C,QAAS,IACT2hD,SAAU,OACV5uC,SAAU,MACV6uC,SAAUnE,EACVoE,SAAUpE,EACV,kBAAmBW,EAAY,OAC/B,cAAeA,EAAY,OAC3B,yBAA0B,IAC1ByB,WAAYtC,EACZuE,eAAgBvE,EAChBwE,oBAAqBxE,GAClBG,GAGCnmC,EAAa,CACjB,UAAWgmC,GAGP/lC,EAAY,CAChB9X,IAAK69C,EACL,YAAaa,EAAY,YACzB9mB,MAAO,IACP,cAAe8mB,EAAY,mBAC3B,yBAA0BX,EAC1B,mBAAoB,KACpB,kBAAmB,MACnBpjC,YAAakjC,EACbjjC,SAAUijC,EACVyE,aAAczE,GAGV0E,EAAQ,CACZl+C,GAAIw5C,EACJvI,IAAKuI,EACLhgC,KAAMkgC,EACNqB,SAAUrB,EACVyE,OAAQ3E,EACR/rC,KAAM+rC,EACN4E,OAAQ5E,EACRppC,UAAWopC,EACX6E,SAAU7E,EACV8E,UAAW9E,EACX+E,eAAgB/E,EAChBgF,UAAWhF,GAGP5lC,EAAS,CACb,kBAAmBymC,EAAY,QAC/BoE,MAAOpE,EAAY,QACnBqE,SAAUlF,EACVppC,UAAWopC,GAGPxvC,EACJlQ,OAAAY,OAAA,CAAAu2C,IAAKuI,EACLpqC,KAAMirC,EAAY,eAClB,YAAaX,EACbtpC,UAAWopC,EACXhiC,SAAUgiC,GACPG,GAGC1lC,EACJna,OAAAY,OAAA,CAAAu2C,IAAKuI,EACLjgC,SAAUmgC,EACV/iC,MAAO+iC,EACPtjC,YAAaikC,EAAY,YACzB,aAAcA,EAAY,WAC1B,kBAAmBX,EACnB,YAAa,IACb,YAAa,IACbxiC,gBAAiBsiC,EACjBmF,qBAAsBnF,EACtBriC,cAAeqiC,GACZviC,GAGCtC,EACJ7a,OAAAY,OAAA,CAAAu2C,IAAKuI,EACLxqC,SAAUwqC,EACVuB,SAAUtB,EACV,aAAcD,EACd,YAAaA,EACb,eAAgBA,EAChBjgC,SAAUmgC,EACVlgC,KAAMkgC,EACN/iC,MAAO+iC,EACP,eAAgB,IAChB,eAAgBA,EAChBuD,UAAWzD,EACX,gBAAiBC,EACjB,sBAAuBA,EACvB,gBAAiBA,EACjB,uBAAwBA,EACxB,0BAA2BA,EAC3B,aAAcY,EAAY,WAC1B8D,OAAQ3E,EACR,gBAAiBE,EACjB2E,SAAU7E,EACV8E,UAAW9E,EACXgF,UAAWhF,EACX+E,eAAgB/E,EAChBmF,qBAAsBnF,EACtBoF,YAAapF,EACbppC,UAAWopC,GACRviC,GAGC5B,EACJvb,OAAAY,OAAA,aAAa8+C,EACb,iBAAkBE,EAClBtpC,UAAWopC,GACRG,GAGCrkC,EAAK,CACT,UAAWkkC,EACX,eAAgBA,EAChBhiC,SAAUgiC,EACVppC,UAAWopC,EACXqF,UAAWrF,GAGPsF,EAAU,CACd7N,IAAKuI,EACLuF,YAAavF,EACbhiC,SAAUgiC,EACVppC,UAAWopC,GAGPwF,EAAQ,GAGRC,EAAW,CACfxxC,KAAM+rC,GAOF0F,EAAO,CACXzxC,KAAM+rC,GAGF2F,EAAa,CACjB1xC,KAAM+rC,GAGF4F,EAAS,GAEFt8B,EAA6D,CACxElZ,OACA0wC,OACAvrC,WACAG,WACArF,OACAC,SACA8xC,WACAC,gBACA9qC,OACAhH,QACAoyC,QACA7qC,SACAE,aACA8qC,mBACAC,QACAC,aACA7qC,SACAgrC,SACAG,aACAjrC,WACA0D,YACAwnC,cACAC,cACAlrC,aACAyB,SACAC,aACAC,YACAyqC,QACAtqC,SACA5J,QACAiK,aACAU,QACAU,SACAC,KACAwpC,UACAE,QACA1vC,IAAKirC,EACL2E,OACAD,WACAE,aACAC,UAGW7uB,EAAsB,IAAIrmB,IAAI,CACzC,QACA,WACA,SACA,cACA,QACA,SACA,SACA,aAG6B,IAAIA,IAAI,CACrC,QACA,aAG0B,IAAIA,IAAI,CAClC,WACA,OACA,YACA,QACA,WACA,SACA,SACA,QACA,KACA,mBACA,YACA,mBAG0B,IAAIoF,IAAI,CAClC,CAAC,QAAQ,GACT,CAAC,cAAc,GACf,CAAC,cAAc,GACf,CAAC,eAAe,GAChB,CAAC,aAAa,GACd,CAAC,cAAc,GACf,CAAC,SAAS,GACV,CAAC,QAAQ,GACT,CAAC,cAAe,GAChB,CAAC,OAAQ,GACT,CAAC,YAAa,GACd,CAAC,QAAS,GACV,CAAC,OAAQ,GACT,CAAC,cAAe,GAChB,CAAC,SAAU,GACX,CAAC,cAAe,I,wC4D5hBN4S,E,iCAAZ,SAAYA,GACVA,EAAA,eACAA,EAAA,eACAA,EAAA,aACAA,EAAA,WACAA,EAAA,qBACAA,EAAA,mBACD,CAPD,CAAYA,IAAAA,EAOX,KAQSA,EAAc7pB,IAGd6pB,EAAc3pB,QAGd2pB,EAAcpqB,KAGdoqB,EAAcm9B,KAGdn9B,EAAc5pB,GAGd4pB,EAAco9B,K,0EC3BXvhD,EAIXnF,WAAAA,CAAa0oC,G,MACXtoC,KAAKumD,UAA2B,QAAf5gD,EAAI,OAAJ2iC,QAAI,IAAJA,OAAI,EAAJA,EAAMie,iBAAS,IAAA5gD,EAAAA,EAAI,CAAC,C,CAGvCg0B,EAAAA,CAAIjQ,EAAsBhiB,EAAoC23C,GAC5D,IAAIl1C,EAA8Bq8C,EAAMC,EACxC,IAAK/+C,EACH,OAAO1H,KAGPymD,EADuB,kBAAd/8B,EACI,CAACA,GAEDA,EAAU6M,MAAMxxB,EAAO2hD,eAEtC1mD,KAAKumD,YAALvmD,KAAKumD,UAAc,CAAC,GACpB,MAAMI,EAAQ3mD,KAAKumD,UACnB,MAAQp8C,EAAQs8C,EAAWlZ,QAAU,CACnC,MAAM1lC,EAAO8+C,EAAMx8C,GACba,EAAYnD,EAAOA,EAAK2+C,KAAO,CAAC,EACtCx7C,EAAKN,KAAO87C,EAAO,CAAC,EACpBx7C,EAAKq0C,QAAUA,EACfr0C,EAAKtD,SAAWA,EAChBi/C,EAAMx8C,GAAS,CACbq8C,OACA97C,KAAM7C,EAAOA,EAAK6C,KAAOM,E,CAG7B,OAAOhL,I,CAGTsqC,IAAAA,CAAMsc,EAAmBl/C,EAAiC23C,GACxD,MAAM9U,EAAUA,IAAI5iC,KAClBD,EAAS+I,MAAMzQ,KAAM2H,GACrB3H,KAAKg/B,IAAI4nB,EAAQrc,EAAS8U,IAK5B,OAFAr/C,KAAK25B,GAAGitB,EAAQrc,EAAS8U,GAElBr/C,I,CAGTg/B,GAAAA,CAAK4nB,EAAoBl/C,EAAqC23C,GAC5D,IAAIl1C,EAA8Bw8C,EAAmCE,EACrE,KAAMF,EAAQ3mD,KAAKumD,WACjB,OAAOvmD,KAET,KAAM4mD,GAAUl/C,GAAY23C,GAE1B,cADOr/C,KAAKumD,UACLvmD,KAGP6mD,EADoB,kBAAXD,EACC,CAACA,GAEDA,EAASA,EAAOrwB,MAAMxxB,EAAO2hD,eAAiB5lD,OAAOC,KAAK4lD,GAEtE,MAAQx8C,EAAQ08C,EAAQtZ,QAAU,CAChC,IAAIviC,EAAY27C,EAAMx8C,GAEtB,UADOw8C,EAAMx8C,IACRa,IAAUtD,IAAY23C,EACzB,SAEF,MAAMmH,EAAOx7C,EAAKw7C,KAClB,OAAQx7C,EAAOA,EAAKN,QAAU87C,EAAM,CAClC,MAAMj8C,EAAKS,EAAKtD,SACV0yB,EAAMpvB,EAAKq0C,SACZ33C,GAAY6C,IAAO7C,GAAc23C,GAAWjlB,IAAQilB,IACvDr/C,KAAK25B,GAAGxvB,EAAOI,EAAI6vB,E,EAIzB,OAAOp6B,I,CAGT46B,OAAAA,CAASgsB,KAAsBj/C,GAC7B,IAAIwC,EAA8Ba,EAAM27C,EAAmCE,EAC3E,KAAMF,EAAQ3mD,KAAKumD,WACjB,OAAOvmD,KAGP6mD,EADoB,kBAAXD,EACC,CAACA,GAEDA,EAAOrwB,MAAMxxB,EAAO2hD,eAEhC,MAAQv8C,EAAQ08C,EAAQtZ,QACtB,GAAKviC,EAAO27C,EAAMx8C,GAAS,CACzB,MAAMq8C,EAAOx7C,EAAKw7C,KAClB,OAAQx7C,EAAOA,EAAKN,QAAU87C,EAC5Bx7C,EAAKtD,SAAS+I,MAAMzF,EAAKq0C,SAAWr/C,KAAM2H,E,CAIhD,OAAO3H,I,EA7FF+E,EAAA2hD,cAAgB,G,oCCLnB,SAAUh1C,EAAUo1C,GACxB,MAAoB,kBAANA,CAChB,CAEM,SAAUxkD,EAAawkD,GAC3B,MAAoB,qBAANA,CAChB,CAEM,SAAUtX,EAAQsX,GACtB,OAAa,OAANA,CACT,CAEM,SAAUzjD,EAAayjD,GAC3B,OAAa,OAANA,GAA2B,kBAANA,CAC9B,CAEM,SAAU73B,EAAW63B,GACzB,OAAa,IAANA,IAAoB,IAANA,CACvB,CAEM,SAAU5lD,EAAY4lD,GAC1B,MAAoB,oBAANA,CAChB,CAEM,SAAU18B,EAAU08B,GACxB,OAAItiD,OAAOuiD,SAAiBviD,OAAOuiD,SAASD,GACxB,kBAANA,CAChB,C,yMAUa,MAAA3gD,EAAUqK,MAAMrK,O,yEC7BjB6gD,E,qBAAZ,SAAYA,GACVA,EAAAA,EAAA,sBACAA,EAAAA,EAAA,oBACAA,EAAAA,EAAA,2BACD,EAJD,CAAYA,IAAAA,EAIX,KAiED,MAAMC,EAAsC,CAC1Ct7C,IAAK,CACH,WACA,SACA,UAEF0C,KAAM,CACJ,SACA,WACA,UACA,SACA,SACA,CACE,oBACA,gBACA,eACA,WACA,qBACA,eACA,oBACA,iBACA,kBACA,oBAEF,CACE,oBACA,oBAGJ5I,UAAW,CACT,WACA,aAIY,SAAAyhD,EAAU58C,EAAiB68C,GACzC,MAAO,CACL78C,OACA68C,QAASA,GAAW,KAExB,CAEM,MAAOC,UAAyDriD,EAAAA,EAGpEnF,WAAAA,CAAamK,EAA8Bu+B,GACzCv6B,MAAMu6B,GACNtoC,KAAK+J,MAAQA,EACb,IAAK,MAAMs9C,KAAYt9C,EAAO,CAC5B,MAAM,QAAEo9C,GAAYp9C,EAAMs9C,IACtBnmD,EAAAA,EAAAA,IAAWimD,IACbnnD,KAAK25B,GAAG0tB,EAAUF,E,EAKhBG,YAAAA,CAAkDD,EAAa3/C,GACrE,MAAMG,GAAO3G,EAAAA,EAAAA,IAAWwG,GAAY,CAACA,GAAYA,EACjDG,EAAK7G,QAAQuJ,GAAMvK,KAAK25B,GAAG0tB,EAAU98C,G,CAGvCP,GAAAA,CAAyCq9C,EAAa3/C,GACpD,MAAMqC,EAAQ/J,KAAK+J,OACb,KAAEO,EAAI,QAAE68C,GAAYp9C,EAAMs9C,GAC5B/8C,IAAS08C,EAAUO,QACrBvnD,KAAKg/B,IAAIqoB,GACTrnD,KAAK25B,GAAG0tB,GAAUnmD,EAAAA,EAAAA,IAAWwG,GAAYA,EAAWA,EAASA,EAASxH,OAAS,MAE/EinD,GAAWnnD,KAAKg/B,IAAIqoB,EAAUF,GAC9BnnD,KAAKsnD,aAAaD,EAAU3/C,G,CAIhCmE,IAAAA,CAA0Cw7C,KAAgBG,G,MACxD,MAAM92C,EAAO1Q,KAAK+J,MAAMs9C,GACxB,IAAK32C,EAAM,OAEX,MAAM,KAAEpG,GAASoG,EAEXi2C,EAAQ3mD,KAAKumD,UACnB,IAAKI,EAAO,OAEZ,MAAM9+C,EAAO8+C,EAAMU,GAEnB,GAAIx/C,EAAM,CACR,MAAM2+C,EAAO3+C,EAAK2+C,KAClB,IAEI/lD,EAFAuK,EAAanD,EAAK6C,KAClB/C,EAAO6/C,EAGX,MAAOx8C,IAASw7C,EAAM,CAEpB,GADA/lD,EAAmB,QAAbkF,EAAAqF,EAAKtD,gBAAQ,IAAA/B,OAAA,EAAAA,EAAE8K,MAAMzF,EAAKq0C,SAAWr/C,KAAM2H,GAC7C2C,IAAS08C,EAAUS,UAAW,CAChC,MAAM/gD,EAAc,CAACjG,GACrBkH,EAAOjB,C,CAETsE,EAAOA,EAAKN,I,CAEd,OAAOjK,C,EAIXupC,OAAAA,CAASqd,G,MACP,OAAO3e,QAAyB,QAAjB/iC,EAAA3F,KAAKumD,iBAAY,IAAA5gD,OAAA,EAAAA,EAAA0hD,G,EA8EvB,MAAAt9C,EAAQ,IAAIq9C,EAAsB,CAC7C9kC,iBAAkB4kC,EAASF,EAAUO,OAAQG,GAAiBA,GAE9DC,qBAAsBT,EAASF,EAAUO,OAAQ,WAC/C,OAAOvnD,KAAK6L,KAAK,mBAAoBo7C,EACvC,GAEAW,aAAcV,EAASF,EAAUO,OAAQ,CAACt9C,EAAUpD,IAAcoD,EAASpD,IAE3EghD,+BAAgCX,EAASF,EAAUO,OAASG,GAAkBA,GAE9EI,aAAcZ,EAASF,EAAUO,OAAQnc,GAAe,IAAIA,MAE5D2c,eAAgBb,EAASF,EAAUO,OAAQxiD,GAAU,IAAIA,GAEzDijD,eAAgBd,EAASF,EAAUO,OAAQ79B,IAKzC,MAAMu+B,EAAgB,IAAI/2C,IAAI,CAC5B,aACA,YACA,cACA,WACA,mBACA,MACA,YACA,UACA,gBACA,iBACA,qBACA,iBAGF,OAAO+2C,EAAcr1C,IAAI8W,KAG3Bw+B,gBAAiBhB,EAASF,EAAUO,OAAQ,IAAM,CAAC,OAAQ,OAAQ,UAEnEY,kBAAmBjB,EAASF,EAAUO,QAEtCa,oBAAqBlB,EAASF,EAAUO,QAExCc,kBAAmBnB,EAASF,EAAUO,QAEtCe,iBAAkBpB,EAASF,EAAUO,QAErCgB,wBAAyBrB,EAASF,EAAUO,QAE5CiB,WAAYtB,EAASF,EAAUO,QAE/BkB,kBAAmBvB,EAASF,EAAUO,QAEtC/kC,oBAAqB0kC,EAASF,EAAUO,QAExCmB,qBAAsBxB,EAASF,EAAUO,QAEzCoB,oBAAqBzB,EAASF,EAAUO,QAExCqB,WAAY1B,EAASF,EAAUO,QAE/BsB,WAAY3B,EAASF,EAAUO,OAAQ,SAAUuB,GAC/C,OAAOA,CACT,GAEAC,cAAe7B,EAASF,EAAUgC,OAElCC,kBAAmB/B,EAASF,EAAUO,OAAQ,SAAuC53B,GACnF,IAEE3vB,KAAK6L,KAAK,gBAAiB8jB,E,CAC3B,MAAOlkB,GACP7I,QAAQujB,KAAK,qCAA2C,OAAL1a,QAAK,IAALA,OAAK,EAALA,EAAOK,S,CAE9D,GAEAo9C,yBAA0BhC,EAASF,EAAUO,QAE7C4B,gBAAiBjC,EAASF,EAAUgC,OAEpCI,kBAAmBlC,EAASF,EAAUO,OAAQ,CAAC53B,EAAG3kB,KAChDA,EAAKgnB,cAAcrC,KAGrB05B,wBAAyBnC,EAASF,EAAUgC,OAE5CM,sBAAuBpC,EAASF,EAAUO,OAAQ,QAElDgC,oBAAqBrC,EAASF,EAAUgC,OAExCp0C,cAAesyC,EAASF,EAAUgC,OAElCQ,aAActC,EAASF,EAAUgC,OAEjCS,uBAAwBvC,EAASF,EAAUO,QAE3CmC,0BAA2BxC,EAASF,EAAUO,QAE9CoC,eAAgBzC,EAASF,EAAUO,S,qWCjW9B,MAAMliD,EAAiB,CAAC,EAIlBumB,EAAOA,IAAIF,OA6BlB,SAAUykB,EAAUloB,GACxB,OAAOA,EAAE/d,QAAQ,qBAAsB,SAASqH,aAClD,CAEM,SAAUuR,EAAamF,GAC3B,IAAI2hC,EAAQ,GACRC,GAAU,EACd,IAAK,IAAIthC,EAAI,EAAGA,EAAIN,EAAE/nB,OAAQqoB,IACf,MAATN,EAAEM,IACJqhC,GAASC,EAAU5hC,EAAEM,GAAGkP,cAAgBxP,EAAEM,GAC1CshC,GAAU,GAEVA,GAAU,EAGd,OAAOD,CACT,CAMM,SAAUhgC,EAAY3B,GAC1B,OAAOA,EAAEoO,OAAO,GAAGoB,cAAgBxP,EAAEjZ,MAAM,EAC7C,CAEuBlO,OAAO4E,UAAUsN,eAaxB,SAAAqf,EAAQy3B,EAAoBntB,GAC1C,IAAKmtB,EAKD,MAAM,IAAI3pD,MAAMw8B,EAGtB,CAEgB,SAAAxW,EAAM2jC,EAAoBntB,GACpCzwB,CAKN,CAiCA,IAAI69C,EAAY,EAChB,MAAMC,GAAa,IAAIpsB,MAAQC,UAAUjZ,W,SAEzBqlC,IACd,OAAOD,EAAaD,GACtB,CAkBM,SAAU5mC,EAAyBrN,GAQvC,OAPAhV,OAAOC,KAAK+U,GAAY9U,QAAQyT,IAC1BA,KAAQqV,EAAAA,GACVhpB,OAAOY,OAAOooB,EAAAA,GAAmBrV,GAAOqB,EAAWrB,IAEnDqV,EAAAA,GAAmBrV,GAAQqB,EAAWrB,KAGnCqV,EAAAA,EACT,CAEM,SAAUqc,EAAoBzR,GAClC,MAAMw1B,EAAU,CAAC,EACXC,EAAYz1B,EAAO9jB,KACnBw5C,EAAY,CAChB,QAAS,CAAC,EACVC,WAAYF,EACZG,YAAa51B,EAAO1jB,MACpBu5C,WAAY71B,EAAO7jB,KACnB25C,SAAUL,EACVM,UAAWN,EACXO,UAAWP,GA+Bb,OA7BAz1B,EAAc5zB,OAAAY,OAAAZ,OAAAY,OAAA,GAAAgzB,GAAW01B,GACzBtpD,OAAOC,KAAK2zB,GACTilB,KAAK,CAACznB,EAAGy4B,KACR,MAAMC,EAAM,gDACNC,EAAcD,EAAIvgC,KAAK6H,GACvB44B,EAAcF,EAAIvgC,KAAKsgC,GAC7B,OAAIE,GAAeC,EACV54B,EAAIy4B,EAAI,GAAK,EACXE,GACD,EACCC,GAGF54B,GAAKy4B,EAFL,GAEc,IAGxB3pD,QAAQ,CAACkC,EAAK6nD,KACb,MAAM1kD,EAAM,CACV4c,KAAM8P,OAAOg4B,IAEfjqD,OAAOC,KAAK2zB,EAAOxxB,IAChB1B,OAAO0lC,IAAU,QAAQ7c,KAAK6c,KAAW,CAAC,QAAS,QAAQrhC,SAASqhC,IACpEyS,OACA34C,QAAQ,CAACkmC,EAAMnnC,KACdsG,EAAIyc,EAAYokB,IAAS,IAAMnnC,IAEnCmqD,EAAQ/Z,EAASjtC,IAAQmD,IAGtB6jD,CACT,CAUgB,SAAAhnC,EAAiBb,EAAY2oC,GAC3C,MAAM3kD,EAAM2kD,GAAgBjhD,EAAAA,GACtBhJ,EAAOD,OAAOC,KAAKshB,GACzBthB,EAAKC,QAAQkC,IACXmD,EAAI2D,IAAI9G,EAAKmf,EAAWnf,KAE5B,CAEM,SAAU+P,EAAYR,GAC1B,OAAO,WACL7P,QAAQujB,KAAK,8CAAW1T,IAC1B,CACF,CAEgB,SAAAU,EAAqBjQ,EAAamD,GAChD,MAAM4kD,EAAyB,SACzBC,EAAmB,CACvB,aACA,aACA,WACA,aAGF,GAAIA,EAAiBx4C,QAAQxP,IAAQ,EAAG,CACtC,MAAMP,EAAM0D,EAAI1D,IAAM0D,EAAI1D,KAAO,GAC3BwoD,EAAUxoD,EAAI+P,QAAQ,MAAQ,EAC9B04C,EAAWnB,IACjB5jD,EAAI1D,MAAQwoD,EAAU,IAAM,KAAO,GAAGF,KAA0BG,G,CAEpE,C,sBCjPA,MAAM,MAAErhD,GAAUshD,EAAQ,KACpBznD,EAAOynD,EAAAA,MAAAA,EAETthD,EAAMigC,QAAQ,kBAChBjgC,EAAM8B,KAAK,gBAAiBjI,GAG9B0nD,EAAOC,QAAU3nD,EACjB0nD,EAAOC,QAAPD,WAAyBA,EAAOC,O,kDCLhCvlD,WAAUutC,EAAAA,EAAAA,M,kDCAVvtC,WAAUutC,EAAAA,EAAAA,IAA+B,kB","sources":["webpack://taromini/.._src_env.ts","webpack://taromini/.._.._src_interceptor_chain.ts","webpack://taromini/.._.._src_interceptor_index.ts","webpack://taromini/.._.._src_interceptor_interceptors.ts","webpack://taromini/.._src_tools.ts","webpack://taromini/.._src_index.ts","webpack://taromini/.._src_runtime_react-meta.ts","webpack://taromini/.._src_runtime_utils.ts","webpack://taromini/.._src_runtime_hooks.ts","webpack://taromini/.._src_runtime_connect.ts","webpack://taromini/.._src_runtime_connect-native.ts","webpack://taromini/.._src_runtime_index.ts","webpack://taromini/.._.._taro-components_mini_index.js","webpack://taromini/.._src_native-apis.ts","webpack://taromini/.._src_apis-list.ts","webpack://taromini/.._src_apis.ts","webpack://taromini/.._src_components.ts","webpack://taromini/.._src_runtime-utils.ts","webpack://taromini/.._src_runtime.ts","webpack://taromini/.._src_constant.ts","webpack://taromini/.._src_workTags.ts","webpack://taromini/.._src_componentTree.ts","webpack://taromini/.._src_domInput.ts","webpack://taromini/.._src_inputValueTracking.ts","webpack://taromini/.._src_props.ts","webpack://taromini/.._src_reconciler.ts","webpack://taromini/.._src_event.ts","webpack://taromini/.._src_render.ts","webpack://taromini/.._.._.._src_bom_URL.ts","webpack://taromini/.._.._.._src_bom_URLSearchParams.ts","webpack://taromini/.._.._.._src_dom_anchor-element.ts","webpack://taromini/.._.._.._src_dom_transfer.ts","webpack://taromini/.._.._.._src_dom_document.ts","webpack://taromini/.._.._.._src_bom_document.ts","webpack://taromini/.._.._.._src_bom_getComputedStyle.ts","webpack://taromini/.._.._.._src_bom_history.ts","webpack://taromini/.._.._.._src_bom_location.ts","webpack://taromini/.._.._.._src_bom_navigator.ts","webpack://taromini/.._.._.._src_bom_raf.ts","webpack://taromini/.._.._.._src_bom_window.ts","webpack://taromini/.._.._.._src_constants_index.ts","webpack://taromini/.._.._src_current.ts","webpack://taromini/.._.._.._.._src_dom-external_mutation-observer_implements.ts","webpack://taromini/.._.._.._.._src_dom-external_mutation-observer_index.ts","webpack://taromini/.._.._.._src_dom_class-list.ts","webpack://taromini/.._.._.._src_dom_tree.ts","webpack://taromini/.._.._.._src_dom_element.ts","webpack://taromini/.._.._.._src_dom_event-source.ts","webpack://taromini/.._.._.._src_dom_event.ts","webpack://taromini/.._.._.._src_dom_form.ts","webpack://taromini/.._.._.._src_dom_event-target.ts","webpack://taromini/.._.._.._src_dom_node.ts","webpack://taromini/.._.._.._src_dom_root.ts","webpack://taromini/.._.._.._src_dom_style_properties.ts","webpack://taromini/.._.._.._src_dom_style.ts","webpack://taromini/.._.._.._src_dom_text.ts","webpack://taromini/.._.._.._src_dsl_common.ts","webpack://taromini/.._.._.._src_emitter_emitter.ts","webpack://taromini/.._.._src_env.ts","webpack://taromini/.._.._src_hydrate.ts","webpack://taromini/.._.._.._.._src_dom-external_inner-html_scaner.ts","webpack://taromini/.._.._.._.._src_dom-external_inner-html_utils.ts","webpack://taromini/.._.._.._.._src_dom-external_inner-html_style.ts","webpack://taromini/.._.._.._.._src_dom-external_inner-html_tags.ts","webpack://taromini/.._.._.._.._src_dom-external_inner-html_parser.ts","webpack://taromini/.._.._.._.._src_dom-external_inner-html_html.ts","webpack://taromini/.._.._.._src_dom-external_index.ts","webpack://taromini/.._.._.._src_dom_svg.ts","webpack://taromini/.._.._.._src_polyfill_index.ts","webpack://taromini/.._.._src_next-tick.ts","webpack://taromini/.._.._src_options.ts","webpack://taromini/.._.._src_perf.ts","webpack://taromini/.._.._.._src_utils_cache.ts","webpack://taromini/.._.._.._src_utils_index.ts","webpack://taromini/.._.._.._src_utils_lodash.ts","webpack://taromini/.._.._.._src_utils_router.ts","webpack://taromini/.._src_constants.ts","webpack://taromini/.._src_event-emitter.ts","webpack://taromini/.._src_is.ts","webpack://taromini/.._src_runtime-hooks.ts","webpack://taromini/.._src_utils.ts","webpack://taromini/._node_modules_@tarojs_taro_index.js","webpack://taromini/._node_modules_@tarojs_webpack5-runner_dist_template_comp.js","webpack://taromini/._node_modules_@tarojs_webpack5-runner_dist_template_custom-wrapper.js"],"sourcesContent":["export const ENV_TYPE = {\n  ASCF: 'ASCF',\n  WEAPP: 'WEAPP',\n  SWAN: 'SWAN',\n  ALIPAY: 'ALIPAY',\n  TT: 'TT',\n  QQ: 'QQ',\n  JD: 'JD',\n  WEB: 'WEB',\n  RN: 'RN',\n  HARMONY: 'HARMONY',\n  QUICKAPP: 'QUICKAPP',\n  HARMONYHYBRID: 'HARMONYHYBRID',\n}\n\nexport function getEnv () {\n  if (process.env.TARO_ENV === 'weapp') {\n    return ENV_TYPE.WEAPP\n  } else if (process.env.TARO_ENV === 'alipay') {\n    return ENV_TYPE.ALIPAY\n  } else if (process.env.TARO_ENV === 'swan') {\n    return ENV_TYPE.SWAN\n  } else if (process.env.TARO_ENV === 'tt') {\n    return ENV_TYPE.TT\n  } else if (process.env.TARO_ENV === 'jd') {\n    return ENV_TYPE.JD\n  } else if (process.env.TARO_ENV === 'qq') {\n    return ENV_TYPE.QQ\n  } else if (process.env.TARO_ENV === 'harmony-hybrid') {\n    return ENV_TYPE.HARMONYHYBRID\n  } else if (process.env.TARO_ENV === 'h5' || process.env.TARO_PLATFORM === 'web') {\n    return ENV_TYPE.WEB\n  } else if (process.env.TARO_ENV === 'rn') {\n    return ENV_TYPE.RN\n  } else if (process.env.TARO_ENV === 'harmony' || process.env.TARO_PLATFORM === 'harmony') {\n    return ENV_TYPE.HARMONY\n  } else if (process.env.TARO_ENV === 'quickapp') {\n    return ENV_TYPE.QUICKAPP\n  } else if (process.env.TARO_ENV === 'ascf') {\n    return ENV_TYPE.ASCF\n  } else {\n    return process.env.TARO_ENV || 'Unknown'\n  }\n}\n","import { isFunction } from '@tarojs/shared'\n\nexport type TInterceptor = (c: Chain) => Promise<void>\n\nexport interface IRequestParams {\n  timeout?: number\n  method?: string\n  url?: string\n  data?: unknown\n}\n\nexport default class Chain {\n  index: number\n  requestParams: IRequestParams\n  interceptors: TInterceptor[]\n\n  constructor (requestParams?: IRequestParams, interceptors?: TInterceptor[], index?: number) {\n    this.index = index || 0\n    this.requestParams = requestParams || {}\n    this.interceptors = interceptors || []\n  }\n\n  proceed (requestParams: IRequestParams = {}) {\n    this.requestParams = requestParams\n    if (this.index >= this.interceptors.length) {\n      throw new Error('chain 参数错误, 请勿直接修改 request.chain')\n    }\n    const nextInterceptor = this._getNextInterceptor()\n    const nextChain = this._getNextChain()\n    const p = nextInterceptor(nextChain)\n    const res = p.catch(err => Promise.reject(err))\n    Object.keys(p).forEach(k => isFunction(p[k]) && (res[k] = p[k]))\n    return res\n  }\n\n  _getNextInterceptor () {\n    return this.interceptors[this.index]\n  }\n\n  _getNextChain () {\n    return new Chain(this.requestParams, this.interceptors, this.index + 1)\n  }\n}\n","import Chain from './chain'\n\nimport type { IRequestParams, TInterceptor } from './chain'\n\nexport default class Link {\n  taroInterceptor: TInterceptor\n  chain: Chain\n\n  constructor (interceptor: TInterceptor) {\n    this.taroInterceptor = interceptor\n    this.chain = new Chain()\n  }\n\n  request (requestParams: IRequestParams) {\n    const chain = this.chain\n    const taroInterceptor = this.taroInterceptor\n\n    chain.interceptors = chain.interceptors\n      .filter(interceptor => interceptor !== taroInterceptor)\n      .concat(taroInterceptor)\n\n    return chain.proceed({ ...requestParams })\n  }\n\n  addInterceptor (interceptor: TInterceptor) {\n    this.chain.interceptors.push(interceptor)\n  }\n\n  cleanInterceptors () {\n    this.chain = new Chain()\n  }\n}\n\nexport function interceptorify (promisifyApi) {\n  return new Link(function (chain) {\n    return promisifyApi(chain.requestParams)\n  })\n}\n","import { isFunction, isUndefined } from '@tarojs/shared'\n\nimport type Chain from './chain'\n\nexport function timeoutInterceptor (chain: Chain) {\n  const requestParams = chain.requestParams\n  let p: Promise<void>\n  const res = new Promise<void>((resolve, reject) => {\n    const timeout: ReturnType<typeof setTimeout> = setTimeout(() => {\n      clearTimeout(timeout)\n      reject(new Error('网络链接超时,请稍后再试！'))\n    }, (requestParams && requestParams.timeout) || 60000)\n\n    p = chain.proceed(requestParams)\n    p\n      .then(res => {\n        if (!timeout) return\n        clearTimeout(timeout)\n        resolve(res)\n      })\n      .catch(err => {\n        timeout && clearTimeout(timeout)\n        reject(err)\n      })\n  })\n  // @ts-ignore\n  if (!isUndefined(p) && isFunction(p.abort)) res.abort = p.abort\n\n  return res\n}\n\nexport function logInterceptor (chain: Chain) {\n  const requestParams = chain.requestParams\n  const { method, data, url } = requestParams\n\n  // eslint-disable-next-line no-console\n  console.log(`http ${method || 'GET'} --> ${url} data: `, data)\n\n  const p = chain.proceed(requestParams)\n  const res = p\n    .then(res => {\n      // eslint-disable-next-line no-console\n      console.log(`http <-- ${url} result:`, res)\n      return res\n    })\n  // @ts-ignore\n  if (isFunction(p.abort)) res.abort = p.abort\n\n  return res\n}\n","import { isFunction, isObject } from '@tarojs/shared'\n\nexport function Behavior (options) {\n  return options\n}\n\nexport function getPreload (current) {\n  return function (key: any, val: unknown) {\n    current.preloadData = isObject(key)\n      ? key\n      : {\n        [key]: val\n      }\n  }\n}\n\nconst defaultDesignWidth = 750\nconst defaultDesignRatio = {\n  640: 2.34 / 2,\n  750: 1,\n  828: 1.81 / 2\n}\nconst defaultBaseFontSize = 20\nconst defaultUnitPrecision = 5\nconst defaultTargetUnit = 'rpx'\n\nexport function getInitPxTransform (taro) {\n  return function (config) {\n    const {\n      designWidth = defaultDesignWidth,\n      deviceRatio = defaultDesignRatio,\n      baseFontSize = defaultBaseFontSize,\n      targetUnit = defaultTargetUnit,\n      unitPrecision = defaultUnitPrecision,\n    } = config\n    taro.config = taro.config || {}\n    taro.config.designWidth = designWidth\n    taro.config.deviceRatio = deviceRatio\n    taro.config.baseFontSize = baseFontSize\n    taro.config.targetUnit = targetUnit\n    taro.config.unitPrecision = unitPrecision\n  }\n}\n\nexport function getPxTransform (taro) {\n  return function (size) {\n    const config = taro.config || {}\n    const baseFontSize = config.baseFontSize\n    const deviceRatio = config.deviceRatio || defaultDesignRatio\n    const designWidth = ((input = 0) => isFunction(config.designWidth)\n      ? config.designWidth(input)\n      : config.designWidth || defaultDesignWidth)(size)\n    if (!(designWidth in deviceRatio)) {\n      throw new Error(`deviceRatio 配置中不存在 ${designWidth} 的设置！`)\n    }\n    const targetUnit = config.targetUnit || defaultTargetUnit\n    const unitPrecision = config.unitPrecision || defaultUnitPrecision\n    const formatSize = ~~size\n    let rootValue = 1 / deviceRatio[designWidth]\n    switch (targetUnit) {\n      case 'rem':\n        rootValue *= baseFontSize * 2\n        break\n      case 'px':\n        rootValue *= 2\n        break\n    }\n    let val = formatSize / rootValue\n    if (unitPrecision >= 0 && unitPrecision <= 100) {\n      val = Number(val.toFixed(unitPrecision))\n    }\n    return val + targetUnit\n  }\n}\n","/* eslint-disable camelcase */\nimport {\n  Current,\n  eventCenter,\n  Events,\n  getCurrentInstance,\n  nextTick,\n  options\n} from '@tarojs/runtime'\n\nimport { ENV_TYPE, getEnv } from './env'\nimport Link, { interceptorify } from './interceptor'\nimport * as interceptors from './interceptor/interceptors'\nimport {\n  Behavior,\n  getInitPxTransform,\n  getPreload,\n  getPxTransform,\n} from './tools'\n\nconst Taro: Record<string, unknown> = {\n  Behavior,\n  getEnv,\n  ENV_TYPE,\n  Link,\n  interceptors,\n  Current,\n  getCurrentInstance,\n  options,\n  nextTick,\n  eventCenter,\n  Events,\n  getInitPxTransform,\n  interceptorify\n}\n\nTaro.initPxTransform = getInitPxTransform(Taro)\nTaro.preload = getPreload(Current)\nTaro.pxTransform = getPxTransform(Taro)\n\nexport default Taro\n","import { EMPTY_OBJ } from '@tarojs/shared'\n\nimport type React from 'react'\n\ninterface ReactMeta {\n  PageContext: React.Context<string>\n  R: typeof React\n}\n\nexport const reactMeta: ReactMeta = {\n  PageContext: EMPTY_OBJ,\n  R: EMPTY_OBJ,\n}\n","import { Current } from '@tarojs/runtime'\nimport { isArray, isFunction } from '@tarojs/shared'\n\nimport type * as React from 'react'\n\nexport const HOOKS_APP_ID = 'taro-app'\n\nexport function isClassComponent (R: typeof React, component): boolean {\n  const prototype = component.prototype\n\n  // For React Redux\n  if (component.displayName?.includes('Connect')) return false\n\n  return (\n    isFunction(component.render) ||\n    !!prototype?.isReactComponent ||\n    prototype instanceof R.Component // compat for some others react-like library\n  )\n}\n\nexport function ensureIsArray<T> (item: T | T[]): T[] {\n  if (isArray(item)) {\n    return item\n  } else {\n    return item ? [item] : []\n  }\n}\n\n/**\n * set writable, enumerable to true\n */\nexport function setDefaultDescriptor (obj: Record<string, any>) {\n  obj.writable = true\n  obj.enumerable = true\n  return obj\n}\n\n/**\n * 设置入口的路由参数\n * @param options 小程序传入的参数\n */\nexport function setRouterParams (options) {\n  Current.router = {\n    params: options?.query,\n    ...options\n  }\n}\n","import { Current, getPageInstance, injectPageInstance } from '@tarojs/runtime'\nimport { isArray, isFunction } from '@tarojs/shared'\n\nimport { reactMeta } from './react-meta'\nimport { HOOKS_APP_ID } from './utils'\n\nimport type { AppInstance, Instance, PageLifeCycle, PageProps } from '@tarojs/runtime'\nimport type { Func } from '@tarojs/taro/types/compile'\n\nconst createTaroHook = (lifecycle: keyof PageLifeCycle | keyof AppInstance) => {\n  return (fn: Func) => {\n    const { R: React, PageContext } = reactMeta\n    const id = React.useContext(PageContext) || HOOKS_APP_ID\n    const instRef = React.useRef<Instance<PageProps>>()\n\n    // hold fn ref and keep up to date\n    const fnRef = React.useRef(fn)\n    if (fnRef.current !== fn) fnRef.current = fn\n\n    React.useLayoutEffect(() => {\n      let inst = instRef.current = getPageInstance(id)\n      let first = false\n      if (!inst) {\n        first = true\n        instRef.current = Object.create(null)\n        inst = instRef.current!\n      }\n\n      // callback is immutable but inner function is up to date\n      const callback = (...args: any) => fnRef.current(...args)\n\n      if (isFunction(inst[lifecycle])) {\n        (inst[lifecycle]) = [inst[lifecycle], callback]\n      } else {\n        (inst[lifecycle]) = [\n          ...((inst[lifecycle]) || []),\n          callback\n        ]\n      }\n\n      if (first) {\n        injectPageInstance(inst!, id)\n      }\n      return () => {\n        const inst = instRef.current\n        if (!inst) return\n        const list = inst![lifecycle]\n        if (list === callback) {\n          (inst[lifecycle]) = undefined\n        } else if (isArray(list)) {\n          (inst[lifecycle]) = list.filter(item => item !== callback)\n        }\n        instRef.current = undefined\n      }\n    }, [])\n  }\n}\n\n/** LifeCycle */\nexport const useDidHide = createTaroHook('componentDidHide')\nexport const useDidShow = createTaroHook('componentDidShow')\n\n/** App */\nexport const useError = createTaroHook('onError')\nexport const useUnhandledRejection = createTaroHook('onUnhandledRejection')\nexport const useLaunch = createTaroHook('onLaunch')\nexport const usePageNotFound = createTaroHook('onPageNotFound')\n\n/** Page */\nexport const useLoad = createTaroHook('onLoad')\nexport const usePageScroll = createTaroHook('onPageScroll')\nexport const usePullDownRefresh = createTaroHook('onPullDownRefresh')\nexport const usePullIntercept = createTaroHook('onPullIntercept')\nexport const useReachBottom = createTaroHook('onReachBottom')\nexport const useResize = createTaroHook('onResize')\nexport const useUnload = createTaroHook('onUnload')\n\n/** Mini-Program */\nexport const useAddToFavorites = createTaroHook('onAddToFavorites')\nexport const useOptionMenuClick = createTaroHook('onOptionMenuClick')\nexport const useSaveExitState = createTaroHook('onSaveExitState')\nexport const useShareAppMessage = createTaroHook('onShareAppMessage')\nexport const useShareTimeline = createTaroHook('onShareTimeline')\nexport const useTitleClick = createTaroHook('onTitleClick')\n\n/** Router */\nexport const useReady = createTaroHook('onReady')\nexport const useRouter = (dynamic = false) => {\n  const React = reactMeta.R\n  return dynamic ? Current.router : React.useMemo(() => Current.router, [])\n}\nexport const useTabItemTap = createTaroHook('onTabItemTap')\n\nexport const useScope = () => undefined\n","import { CONTAINER, Current, document, getPageInstance, incrementId, injectPageInstance, PAGE_INIT, perf } from '@tarojs/runtime'\nimport { EMPTY_OBJ, ensure, hooks } from '@tarojs/shared'\n\nimport { reactMeta } from './react-meta'\nimport { ensureIsArray, HOOKS_APP_ID, isClassComponent, setDefaultDescriptor, setRouterParams } from './utils'\n\nimport type { AppInstance, Instance, PageLifeCycle, PageProps, ReactAppInstance, ReactPageComponent } from '@tarojs/runtime'\nimport type { AppConfig } from '@tarojs/taro'\nimport type React from 'react'\nimport type TReactDOM from 'react-dom'\nimport type TReactDOMClient from 'react-dom/client'\n\ntype PageComponent = React.CElement<PageProps, React.Component<PageProps, any, any>>\n\nlet h: typeof React.createElement\nlet ReactDOM: typeof TReactDOM & typeof TReactDOMClient\nlet Fragment: typeof React.Fragment\n\nconst pageKeyId = incrementId()\n\nexport function setReconciler (ReactDOM?) {\n  hooks.tap('getLifecycle', function (instance, lifecycle: string) {\n    lifecycle = lifecycle.replace(/^on(Show|Hide)$/, 'componentDid$1')\n    return instance[lifecycle]\n  })\n\n  hooks.tap('modifyMpEvent', function (event) {\n    // Note: ohos 上事件没有设置 type 类型 setter 方法导致报错\n    Object.defineProperty(event, 'type', {\n      value: event.type.replace(/-/g, '')\n    })\n  })\n\n  hooks.tap('batchedEventUpdates', function (cb) {\n    ReactDOM?.unstable_batchedUpdates(cb)\n  })\n\n  hooks.tap('mergePageInstance', function (prev, next) {\n    if (!prev || !next) return\n\n    // 子组件使用 lifecycle hooks 注册了生命周期后，会存在 prev，里面是注册的生命周期回调。\n\n    // prev 使用 Object.create(null) 创建，H5 的 fast-refresh 可能也会导致存在 prev，要排除这些意外产生的 prev\n    if ('constructor' in prev) return\n\n    Object.keys(prev).forEach(item => {\n      const prevList = prev[item]\n      const nextList = ensureIsArray<() => any>(next[item])\n      next[item] = nextList.concat(prevList)\n    })\n  })\n\n  if (process.env.TARO_PLATFORM === 'web') {\n    hooks.tap('createPullDownComponent', (\n      el: React.FunctionComponent<PageProps> | React.ComponentClass<PageProps>,\n      _,\n      R: typeof React,\n      customWrapper\n    ) => {\n      const isReactComponent = isClassComponent(R, el)\n\n      return R.forwardRef((props, ref) => {\n        const newProps: React.ComponentProps<any> = { ...props }\n        const refs = isReactComponent ? { ref: ref } : {\n          forwardedRef: ref,\n          // 兼容 react-redux 7.20.1+\n          reactReduxForwardedRef: ref\n        }\n\n        return h(\n          customWrapper || 'taro-pull-to-refresh-core',\n          null,\n          h(el, {\n            ...newProps,\n            ...refs\n          })\n        )\n      })\n    })\n\n    hooks.tap('getDOMNode', (inst) => {\n      // 由于react 18移除了ReactDOM.findDOMNode方法，修复H5端 Taro.createSelectorQuery设置in(scope)时，报错问题\n      // https://zh-hans.react.dev/reference/react-dom/findDOMNode\n      if (!inst) {\n        return document\n      } else if (inst instanceof HTMLElement) {\n        return inst\n      } else if (inst.$taroPath) {\n        const el = document.getElementById(inst.$taroPath)\n        return el ?? document\n      }\n    })\n  }\n}\n\nexport function connectReactPage (\n  R: typeof React,\n  id: string\n) {\n  return (Page: ReactPageComponent): React.ComponentClass<PageProps> => {\n    // eslint-disable-next-line dot-notation\n    const isReactComponent = isClassComponent(R, Page)\n    const inject = (node?: Instance) => node && injectPageInstance(node, id)\n    const refs = isReactComponent ? { ref: inject } : {\n      forwardedRef: inject,\n      // 兼容 react-redux 7.20.1+\n      reactReduxForwardedRef: inject\n    }\n\n    if (reactMeta.PageContext === EMPTY_OBJ) {\n      reactMeta.PageContext = R.createContext('')\n    }\n\n    return class PageWrapper extends R.Component<PageProps, { hasError: boolean }> {\n      state = {\n        hasError: false\n      }\n\n      static getDerivedStateFromError (error: Error) {\n        Current.app?.onError?.(error.message + error.stack)\n        return { hasError: true }\n      }\n\n      // React 16 uncaught error 会导致整个应用 crash，\n      // 目前把错误缩小到页面\n      componentDidCatch (error: Error, info: React.ErrorInfo) {\n        if (process.env.NODE_ENV !== 'production') {\n          console.warn(error)\n          console.error(info.componentStack)\n        }\n      }\n\n      render () {\n        const children = this.state.hasError\n          ? []\n          : h(reactMeta.PageContext.Provider, { value: id }, h(Page, {\n            ...this.props,\n            ...refs\n          }))\n\n        if (process.env.TARO_PLATFORM === 'web') {\n          return h(\n            'div',\n            { id, className: 'taro_page' },\n            children\n          )\n        } else {\n          return h(\n            'root',\n            { id },\n            children\n          )\n        }\n      }\n    }\n  }\n}\n\n/**\n * 桥接小程序 App 构造器和 React 渲染流程\n * @param App 用户编写的入口组件\n * @param react 框架\n * @param dom 框架渲染器\n * @param config 入口组件配置 app.config.js 的内容\n * @returns 传递给 App 构造器的对象 obj ：App(obj)\n */\nexport function createReactApp (\n  App: React.ComponentClass,\n  react: typeof React,\n  dom,\n  config: AppConfig\n) {\n  if (process.env.NODE_ENV !== 'production') {\n    ensure(!!dom, '构建 React/Preact 项目请把 process.env.FRAMEWORK 设置为 \\'react\\'/\\'preact\\' ')\n  }\n\n  reactMeta.R = react\n  h = react.createElement\n  ReactDOM = dom\n  Fragment = react.Fragment\n  const appInstanceRef = react.createRef<ReactAppInstance>()\n  const isReactComponent = isClassComponent(react, App)\n  let appWrapper: AppWrapper\n  let appWrapperResolver: (value: AppWrapper) => void\n  const appWrapperPromise = new Promise<AppWrapper>(resolve => (appWrapperResolver = resolve))\n\n  setReconciler(ReactDOM)\n\n  function getAppInstance (): ReactAppInstance | null {\n    return appInstanceRef.current\n  }\n\n  function waitAppWrapper (cb: () => void) {\n    /**\n     * 当同个事件触发多次时，waitAppWrapper 会出现同步和异步任务的执行顺序问题，\n     * 导致某些场景下 onShow 会优于 onLaunch 执行\n     */\n    appWrapperPromise.then(() => cb())\n    // appWrapper ? cb() : appWrapperPromise.then(() => cb())\n  }\n\n  function renderReactRoot () {\n    const appId = config?.appId || 'app'\n    let container = document.getElementById(appId)\n    if (container == null) {\n      const appContainer = document.getElementById(CONTAINER)\n      container = document.createElement(appId)\n      container.id = appId\n      appContainer?.appendChild(container)\n    }\n    if ((react.version || '').startsWith('18')) {\n      const root = ReactDOM.createRoot((container as unknown as Element))\n      root.render?.(h(AppWrapper))\n    } else {\n      // eslint-disable-next-line react/no-deprecated\n      ReactDOM.render?.(h(AppWrapper), container)\n    }\n  }\n\n  class AppWrapper extends react.Component {\n    // run createElement() inside the render function to make sure that owner is right\n    private pages: Array<() => PageComponent> = []\n    private elements: Array<PageComponent> = []\n\n    constructor (props) {\n      super(props)\n      appWrapper = this\n      appWrapperResolver(this)\n    }\n\n    public mount (pageComponent: ReactPageComponent, id: string, cb: () => void) {\n      const pageWrapper = connectReactPage(react, id)(pageComponent)\n      const key = id + pageKeyId()\n      const page = () => h(pageWrapper, { key, tid: id })\n      this.pages.push(page)\n      this.forceUpdate((...args) => {\n        perf.stop(PAGE_INIT)\n        return cb(...args)\n      })\n    }\n\n    public unmount (id: string, cb: () => void) {\n      const elements = this.elements\n      const idx = elements.findIndex(item => item.props.tid === id)\n      elements.splice(idx, 1)\n      this.forceUpdate(cb)\n    }\n\n    public render () {\n      const { pages, elements } = this\n\n      while (pages.length > 0) {\n        const page = pages.pop()!\n        elements.push(page())\n      }\n\n      let props: React.ComponentProps<any> | null = null\n\n      if (isReactComponent) {\n        props = { ref: appInstanceRef }\n      }\n\n      return h(\n        App,\n        props,\n        process.env.TARO_PLATFORM === 'web' ? h(Fragment ?? 'div', null, elements.slice()) : elements.slice()\n      )\n    }\n  }\n\n  if (process.env.TARO_PLATFORM !== 'web') {\n    renderReactRoot()\n  }\n\n  const [ONLAUNCH, ONSHOW, ONHIDE] = hooks.call('getMiniLifecycleImpl')!.app\n\n  const appObj: AppInstance = Object.create({\n    render (cb: () => void) {\n      appWrapper.forceUpdate(cb)\n    },\n\n    mount (component: ReactPageComponent, id: string, cb: () => void) {\n      if (appWrapper) {\n        appWrapper.mount(component, id, cb)\n      } else {\n        appWrapperPromise.then(appWrapper => appWrapper.mount(component, id, cb))\n      }\n    },\n\n    unmount (id: string, cb: () => void) {\n      if (appWrapper) {\n        appWrapper.unmount(id, cb)\n      } else {\n        appWrapperPromise.then(appWrapper => appWrapper.unmount(id, cb))\n      }\n    }\n  }, {\n    config: setDefaultDescriptor({\n      configurable: true,\n      value: config\n    }),\n\n    [ONLAUNCH]: setDefaultDescriptor({\n      value (options) {\n        setRouterParams(options)\n\n        if (process.env.TARO_PLATFORM === 'web') {\n          // 由于 H5 路由初始化的时候会清除 app 下的 dom 元素，所以需要在路由初始化后执行 render\n          renderReactRoot()\n        }\n\n        const onLaunch = () => {\n          // 用户编写的入口组件实例\n          const app = getAppInstance()\n          this.$app = app\n\n          if (app) {\n            // 把 App Class 上挂载的额外属性同步到全局 app 对象中\n            if (app.taroGlobalData) {\n              const globalData = app.taroGlobalData\n              const keys = Object.keys(globalData)\n              const descriptors = Object.getOwnPropertyDescriptors(globalData)\n              keys.forEach(key => {\n                Object.defineProperty(this, key, {\n                  configurable: true,\n                  enumerable: true,\n                  get () {\n                    return globalData[key]\n                  },\n                  set (value) {\n                    globalData[key] = value\n                  }\n                })\n              })\n              Object.defineProperties(this, descriptors)\n            }\n\n            app.onLaunch?.(options)\n          }\n          triggerAppHook('onLaunch', options)\n        }\n\n        waitAppWrapper(onLaunch)\n      }\n    }),\n\n    [ONSHOW]: setDefaultDescriptor({\n      value (options) {\n        setRouterParams(options)\n\n        const onShow = () => {\n          /**\n          * trigger lifecycle\n          */\n          const app = getAppInstance()\n          // class component, componentDidShow\n          app?.componentDidShow?.(options)\n          // functional component, useDidShow\n          triggerAppHook('onShow', options)\n        }\n\n        waitAppWrapper(onShow)\n      }\n    }),\n\n    [ONHIDE]: setDefaultDescriptor({\n      value () {\n        const onHide = () => {\n          /**\n           * trigger lifecycle\n           */\n          const app = getAppInstance()\n          // class component, componentDidHide\n          app?.componentDidHide?.()\n          // functional component, useDidHide\n          triggerAppHook('onHide')\n        }\n\n        waitAppWrapper(onHide)\n      }\n    }),\n\n    onError: setDefaultDescriptor({\n      value (error: string) {\n        const onError = () => {\n          const app = getAppInstance()\n          app?.onError?.(error)\n          triggerAppHook('onError', error)\n          if (process.env.NODE_ENV !== 'production' && error?.includes('Minified React error')) {\n            console.warn('React 出现报错，请打开编译配置 mini.debugReact 查看报错详情：https://docs.taro.zone/docs/config-detail#minidebugreact')\n          }\n        }\n\n        waitAppWrapper(onError)\n      }\n    }),\n\n    onUnhandledRejection: setDefaultDescriptor({\n      value (res: unknown) {\n        const onUnhandledRejection = () => {\n          const app = getAppInstance()\n          app?.onUnhandledRejection?.(res)\n          triggerAppHook('onUnhandledRejection', res)\n        }\n\n        waitAppWrapper(onUnhandledRejection)\n      }\n    }),\n\n    onPageNotFound: setDefaultDescriptor({\n      value (res: unknown) {\n        const onPageNotFound = () => {\n          const app = getAppInstance()\n          app?.onPageNotFound?.(res)\n          triggerAppHook('onPageNotFound', res)\n        }\n\n        waitAppWrapper(onPageNotFound)\n      }\n    })\n  })\n\n  function triggerAppHook (lifecycle: keyof PageLifeCycle | keyof AppInstance, ...option) {\n    const instance = getPageInstance(HOOKS_APP_ID)\n    if (instance) {\n      const app = getAppInstance()\n      const func = hooks.call('getLifecycle', instance, lifecycle)\n      if (Array.isArray(func)) {\n        func.forEach(cb => cb.apply(app, option))\n      }\n    }\n  }\n\n  Current.app = appObj\n  return appObj\n}\n","import {\n  addLeadingSlash, CONTEXT_ACTIONS, Current, document, eventCenter,\n  eventHandler, getOnHideEventKey, getOnReadyEventKey, getOnShowEventKey, getPageInstance, getPath,\n  incrementId, injectPageInstance, ON_HIDE, ON_READY, ON_SHOW,\n  removePageInstance, requestAnimationFrame, safeExecute, window\n} from '@tarojs/runtime'\nimport { EMPTY_OBJ, ensure, hooks, isUndefined } from '@tarojs/shared'\n\nimport { setReconciler } from './connect'\nimport { reactMeta } from './react-meta'\nimport { isClassComponent } from './utils'\n\nimport type { Instance, TaroRootElement } from '@tarojs/runtime' // eslint-disable-line import/no-duplicates\nimport type { MpInstance } from '@tarojs/runtime/dist/runtime.esm' // eslint-disable-line import/no-duplicates\nimport type { AppInstance, PageInstance } from '@tarojs/taro'\nimport type { Func } from '@tarojs/taro/types/compile'\nimport type React from 'react'\n\ndeclare const getCurrentPages: () => PageInstance[]\n\nconst getNativeCompId = incrementId()\nlet h: typeof React.createElement\nlet ReactDOM\nlet nativeComponentApp: AppInstance\ninterface InitNativeComponentEntryParams {\n  R: typeof React\n  ReactDOM: typeof ReactDOM\n  cb?: Func\n  // 是否使用默认的 DOM 入口 - app；默认为true，false的时候，会创建一个新的dom并且把它挂载在 app 下面\n  isDefaultEntryDom?: boolean\n}\n\nfunction initNativeComponentEntry (params: InitNativeComponentEntryParams) {\n  const { R, ReactDOM, cb, isDefaultEntryDom = true } = params\n  interface IEntryState {\n    components: {\n      compId: string\n      element: React.ReactElement\n    }[]\n  }\n\n  interface IWrapperProps {\n    compId: string\n    getCtx: () => any\n    renderComponent: (ctx: any) => React.ReactElement\n  }\n\n  class NativeComponentWrapper extends R.Component<IWrapperProps, Record<any, any>> {\n    root = R.createRef<TaroRootElement>()\n    ctx = this.props.getCtx()\n\n    componentDidMount () {\n      this.ctx.component = this\n      const rootElement = this.root.current!\n      rootElement.ctx = this.ctx\n      rootElement.performUpdate(true)\n    }\n\n    render () {\n      return (\n        h(\n          'root',\n          {\n            ref: this.root,\n            id: this.props.compId\n          },\n          this.props.renderComponent(this.ctx)\n        )\n      )\n    }\n  }\n\n  class Entry extends R.Component<Record<any, any>, IEntryState> {\n    state: IEntryState = {\n      components: []\n    }\n\n    componentDidMount () {\n      if (isDefaultEntryDom) {\n        Current.app = this\n      } else {\n        nativeComponentApp = this\n      }\n      cb && cb()\n    }\n\n    mount (Component, compId, getCtx, cb?) {\n      const isReactComponent = isClassComponent(R, Component)\n      const inject = (node?: Instance) => node && injectPageInstance(node, compId)\n      const refs = isReactComponent ? { ref: inject } : {\n        forwardedRef: inject,\n        reactReduxForwardedRef: inject\n      }\n      if (reactMeta.PageContext === EMPTY_OBJ) {\n        reactMeta.PageContext = R.createContext('')\n      }\n      const item = {\n        compId,\n        element: h(NativeComponentWrapper, {\n          key: compId,\n          compId,\n          getCtx,\n          renderComponent (ctx) {\n            return h(\n              reactMeta.PageContext.Provider,\n              { value: compId },\n              h(\n                Component,\n                {\n                  ...(ctx.data ||= {}).props,\n                  ...refs,\n                  $scope: ctx\n                }\n              )\n            )\n          }\n        })\n      }\n      this.setState({\n        components: [...this.state.components, item]\n      }, () => cb && cb())\n    }\n\n    unmount (compId, cb?) {\n      const components = this.state.components\n      const index = components.findIndex(item => item.compId === compId)\n      const next = [...components.slice(0, index), ...components.slice(index + 1)]\n      this.setState({\n        components: next\n      }, () => {\n        removePageInstance(compId)\n        cb && cb()\n      })\n    }\n\n    render () {\n      const components = this.state.components\n\n      return (\n        components.map(({ element }) => element)\n      )\n    }\n  }\n\n  setReconciler(ReactDOM)\n\n  let app = document.getElementById('app')\n  if (!isDefaultEntryDom && !nativeComponentApp) {\n    // create\n    const nativeApp = document.createElement('nativeComponent')\n    // insert\n    app?.parentNode?.appendChild(nativeApp)\n    app = nativeApp\n  }\n  // eslint-disable-next-line react/no-deprecated\n  ReactDOM.render(\n    h(Entry, {}),\n    app\n  )\n}\n\nexport function createNativePageConfig (Component, pageName: string, data: Record<string, unknown>, react: typeof React, reactDOM: typeof ReactDOM, pageConfig) {\n  reactMeta.R = react\n  h = react.createElement\n  ReactDOM = reactDOM\n  setReconciler(ReactDOM)\n  const [\n    ONLOAD,\n    ONUNLOAD,\n    ONREADY,\n    ONSHOW,\n    ONHIDE,\n    LIFECYCLES,\n    SIDE_EFFECT_LIFECYCLES\n  ] = hooks.call('getMiniLifecycleImpl')!.page\n  let unmounting = false\n  let prepareMountList: (() => void)[] = []\n  let pageElement: TaroRootElement | null = null\n  let loadResolver: (...args: unknown[]) => void\n  let hasLoaded: Promise<void>\n  const id = pageName ?? `taro_page_${getNativeCompId()}`\n  function setCurrentRouter (page: MpInstance) {\n    const router = page.route || page.__route__ || page.$taroPath\n    Current.router = {\n      params: page.$taroParams!,\n      path: addLeadingSlash(router),\n      $taroPath: page.$taroPath,\n      onReady: getOnReadyEventKey(id),\n      onShow: getOnShowEventKey(id),\n      onHide: getOnHideEventKey(id)\n    }\n    if (!isUndefined(page.exitState)) {\n      Current.router.exitState = page.exitState\n    }\n  }\n\n  const pageObj: Record<string, any> = {\n    options: pageConfig,\n    [ONLOAD] (this: MpInstance, options: Readonly<Record<string, unknown>> = {}, cb?: TaroGeneral.TFunc) {\n      hasLoaded = new Promise(resolve => { loadResolver = resolve })\n      Current.page = this as any\n      this.config = pageConfig || {}\n      // this.$taroPath 是页面唯一标识\n      const uniqueOptions = Object.assign({}, options, { $taroTimestamp: Date.now() })\n      const $taroPath = this.$taroPath = getPath(id, uniqueOptions)\n\n      // this.$taroParams 作为暴露给开发者的页面参数对象，可以被随意修改\n      if (this.$taroParams == null) {\n        this.$taroParams = uniqueOptions\n      }\n\n      setCurrentRouter(this)\n      window.trigger(CONTEXT_ACTIONS.INIT, $taroPath)\n\n      const mountCallback = () => {\n        pageElement = document.getElementById($taroPath)\n        ensure(pageElement !== null, '没有找到页面实例。')\n        safeExecute($taroPath, ONLOAD, this.$taroParams)\n        loadResolver()\n        pageElement.ctx = this\n        pageElement.performUpdate(true, cb)\n      }\n\n      const mount = () => {\n        if (!Current.app) {\n          initNativeComponentEntry({\n            R: react,\n            ReactDOM,\n            cb: () => {\n              Current.app!.mount!(Component, $taroPath, () => this, mountCallback)\n            }\n          })\n        } else {\n          Current.app!.mount!(Component, $taroPath, () => this, mountCallback)\n        }\n      }\n\n      if (unmounting) {\n        prepareMountList.push(mount)\n      } else {\n        mount()\n      }\n    },\n    [ONUNLOAD] () {\n      const $taroPath = this.$taroPath\n      // 销毁当前页面的上下文信息\n      window.trigger(CONTEXT_ACTIONS.DESTORY, $taroPath)\n      // 触发onUnload生命周期\n      safeExecute($taroPath, ONUNLOAD)\n      resetCurrent()\n      unmounting = true\n      Current.app!.unmount!($taroPath, () => {\n        unmounting = false\n        removePageInstance($taroPath)\n        if (pageElement) {\n          pageElement.ctx = null\n          pageElement = null\n        }\n        if (prepareMountList.length) {\n          prepareMountList.forEach(fn => fn())\n          prepareMountList = []\n        }\n      })\n    },\n    [ONREADY] () {\n      hasLoaded.then(() => {\n        // 触发生命周期\n        safeExecute(this.$taroPath, ON_READY)\n        // 通过事件触发子组件的生命周期\n        requestAnimationFrame(() => eventCenter.trigger(getOnReadyEventKey(id)))\n        this.onReady.called = true\n      })\n    },\n    [ONSHOW] (options = {}) {\n      hasLoaded.then(() => {\n        // 设置 Current 的 page 和 router\n        Current.page = this as any\n        setCurrentRouter(this)\n        // 恢复上下文信息\n        window.trigger(CONTEXT_ACTIONS.RECOVER, this.$taroPath)\n        // 触发生命周期\n        safeExecute(this.$taroPath, ON_SHOW, options)\n        // 通过事件触发子组件的生命周期\n        requestAnimationFrame(() => eventCenter.trigger(getOnShowEventKey(id)))\n      })\n    },\n    [ONHIDE] () {\n      // 缓存当前页面上下文信息\n      window.trigger(CONTEXT_ACTIONS.RESTORE, this.$taroPath)\n      // 设置 Current 的 page 和 router\n      if (Current.page === this) {\n        Current.page = null\n        Current.router = null\n      }\n      // 触发生命周期\n      safeExecute(this.$taroPath, ON_HIDE)\n      // 通过事件触发子组件的生命周期\n      eventCenter.trigger(getOnHideEventKey(id))\n    },\n  }\n\n  function resetCurrent () {\n    // 小程序插件页面卸载之后返回到宿主页面时，需重置Current页面和路由。否则引发插件组件二次加载异常 fix:#11991\n    Current.page = null\n    Current.router = null\n  }\n\n  LIFECYCLES.forEach((lifecycle) => {\n    pageObj[lifecycle] = function () {\n      return safeExecute(this.$taroPath, lifecycle, ...arguments)\n    }\n  })\n\n  // onShareAppMessage 和 onShareTimeline 一样，会影响小程序右上方按钮的选项，因此不能默认注册。\n  SIDE_EFFECT_LIFECYCLES.forEach(lifecycle => {\n    if (Component[lifecycle] ||\n      Component.prototype?.[lifecycle] ||\n      Component[lifecycle.replace(/^on/, 'enable')]\n    ) {\n      pageObj[lifecycle] = function (...args) {\n        const target = args[0]?.target\n        if (target?.id) {\n          const id = target.id\n          const element = document.getElementById(id)\n          if (element) {\n            target.dataset = element.dataset\n          }\n        }\n        return safeExecute(this.$taroPath, lifecycle, ...args)\n      }\n    }\n  })\n\n  pageObj.eh = eventHandler\n\n  if (!isUndefined(data)) {\n    pageObj.data = data\n  }\n\n  hooks.call('modifyPageObject', pageObj)\n\n  return pageObj\n}\n\nexport function createH5NativeComponentConfig (\n  Component,\n  react: typeof React,\n  reactDOM: typeof ReactDOM,\n) {\n  reactMeta.R = react\n  h = react.createElement\n  ReactDOM = reactDOM\n  setReconciler(ReactDOM)\n\n  return Component\n}\n\nexport function createNativeComponentConfig (Component, react: typeof React, reactDOM, componentConfig) {\n  reactMeta.R = react\n  h = react.createElement\n  ReactDOM = reactDOM\n  setReconciler(ReactDOM)\n  const { isNewBlended } = componentConfig\n\n  const componentObj: Record<string, any> = {\n    options: componentConfig,\n    properties: {\n      props: {\n        type: null,\n        value: null,\n        observer (_newVal, oldVal) {\n          if (process.env.TARO_ENV === 'swan') {\n            // 百度模版传递 props 时 函数参数会被忽略，这里需要根据 id 获取 TaroElement 中的 props 赋值到 ctx.data 中\n            const inst: any = document.getElementById(this.id)\n            if (this.component?.ctx?.data && inst) {\n              this.component.ctx.data.props = inst?.props?.props\n            }\n          }\n          oldVal && this.component?.forceUpdate()\n        }\n      }\n    },\n    created () {\n      if (process.env.TARO_ENV === 'swan') {\n        const inst: any = document.getElementById(this.id)\n        // 百度小程序 真机上 props中的函数会被转为Object 调用报错 导致后续组件无法渲染 这里先取TaroElement上的props，在properties中会重新赋值\n        if (this.data?.props && inst) {\n          this.data.props = inst.props?.props || {}\n        }\n      }\n      const app = (isNewBlended ? nativeComponentApp : Current.app)\n      if (!app) {\n        initNativeComponentEntry({\n          R: react,\n          ReactDOM,\n          isDefaultEntryDom: !isNewBlended\n        })\n      }\n    },\n    attached () {\n      const compId = this.compId = getNativeCompId()\n      setCurrent(compId)\n      this.config = componentConfig\n      const app = (isNewBlended ? nativeComponentApp : Current.app)\n      app!.mount!(Component, compId, () => this, () => {\n        const instance = getPageInstance(compId)\n\n        if (instance && instance.node) {\n          const el = document.getElementById(instance.node.uid)\n\n          if (el) {\n            el.ctx = this\n          }\n        }\n      })\n    },\n    ready () {\n      safeExecute(this.compId, 'onReady')\n    },\n    detached () {\n      resetCurrent()\n      const app = (isNewBlended ? nativeComponentApp : Current.app)\n      app!.unmount!(this.compId)\n    },\n    pageLifetimes: {\n      show (options) {\n        safeExecute(this.compId, 'onShow', options)\n      },\n      hide () {\n        safeExecute(this.compId, 'onHide')\n      }\n    },\n    methods: {\n      eh: eventHandler,\n      onLoad (options) {\n        safeExecute(this.compId, 'onLoad', options)\n      },\n      onUnload () {\n        safeExecute(this.compId, 'onUnload')\n      }\n    }\n  }\n\n  function resetCurrent () {\n    // 小程序插件页面卸载之后返回到宿主页面时，需重置Current页面和路由。否则引发插件组件二次加载异常 fix:#11991\n    Current.page = null\n    Current.router = null\n  }\n\n  // onShareAppMessage 和 onShareTimeline 一样，会影响小程序右上方按钮的选项，因此不能默认注册。\n  if (\n    Component.onShareAppMessage ||\n    Component.prototype?.onShareAppMessage ||\n    Component.enableShareAppMessage\n  ) {\n    componentObj.methods.onShareAppMessage = function (options) {\n      const target = options?.target\n      if (target) {\n        const id = target.id\n        const element = document.getElementById(id)\n        if (element) {\n          target!.dataset = element.dataset\n        }\n      }\n      return safeExecute(this.compId, 'onShareAppMessage', options)\n    }\n  }\n  if (\n    Component.onShareTimeline ||\n    Component.prototype?.onShareTimeline ||\n    Component.enableShareTimeline\n  ) {\n    componentObj.methods.onShareTimeline = function () {\n      return safeExecute(this.compId, 'onShareTimeline')\n    }\n  }\n\n  if (process.env.TARO_ENV === 'alipay') {\n    /**\n     * 支付宝需要修改生命周期 同时宿主需要开启component2\n     * 如果不开启 props对象中的函数参数会被忽略 导致无法调用\n     * @see https://opendocs.alipay.com/mini/03dbc3#compileOptions\n     * @returns\n     */\n    componentObj.onInit = componentObj.created\n    componentObj.didMount = componentObj.attached\n    componentObj.didUpdate = function () {\n      this.data.props = this.props.props\n      this?.component?.forceUpdate?.()\n    }\n    componentObj.didUnmount = componentObj.detached\n  }\n  return componentObj\n}\n\nfunction setCurrent (compId: string) {\n  if (!getCurrentPages || typeof getCurrentPages !== 'function') return\n\n  const pages = getCurrentPages()\n  const currentPage = pages[pages.length - 1]\n  if (Current.page === currentPage) return\n\n  Current.page = currentPage\n\n  const route = (currentPage as any).route || (currentPage as any).__route__\n  const router = {\n    params: currentPage.options || {},\n    path: addLeadingSlash(route),\n    $taroPath: compId,\n    onReady: '',\n    onHide: '',\n    onShow: ''\n  }\n  Current.router = router\n\n  if (!currentPage.options) {\n    // 例如在微信小程序中，页面 options 的设置时机比组件 attached 慢\n    Object.defineProperty(currentPage, 'options', {\n      enumerable: true,\n      configurable: true,\n      get () {\n        return this._optionsValue\n      },\n      set (value) {\n        router.params = value\n        this._optionsValue = value\n      }\n    })\n  }\n}\n","import { hooks } from '@tarojs/shared'\n\nimport * as taroHooks from './hooks'\n\nhooks.tap('initNativeApi', function (taro) {\n  for (const hook in taroHooks) {\n    taro[hook] = taroHooks[hook]\n  }\n})\n\nif (process.env.FRAMEWORK === 'preact' && process.env.TARO_PLATFORM === 'mini') {\n  const options = require('preact').options\n  const oldVNodeHook = options.vnode\n  const oldDiffedHook = options.diffed\n  options.vnode = vnode => {\n    const { type, props } = vnode\n    let normalizedProps = props\n\n    // only normalize props on Element nodes\n    if (typeof type === 'string') {\n      normalizedProps = {}\n\n      for (let i in props) {\n        const value = props[i]\n\n        if (/^on/.test(i)) {\n          i = i.toLowerCase()\n        }\n\n        if (type === 'map' && i === 'onregionchange') {\n          // map 组件的 regionchange 事件非常特殊，详情：https://github.com/NervJS/taro/issues/5766\n          normalizedProps.onbegin = value\n          normalizedProps.onend = value\n          continue\n        }\n\n        normalizedProps[i] = value\n      }\n\n      vnode.props = normalizedProps\n    }\n\n    if (oldVNodeHook) oldVNodeHook(vnode)\n  }\n  options.diffed = function (newVNode) {\n    const domProp = Object.keys(newVNode).find(k => (newVNode[k]?.setAttribute))\n    const dom = domProp ? newVNode[domProp] : null\n    const newVNodeProps = newVNode.props\n    if (dom) { /** ElementNode */\n      for (const propName in newVNodeProps) {\n        const propValue = newVNodeProps[propName]\n        if (propValue === false && dom.props?.[propName] === undefined) {\n          // 值为 false 的属性在 Preact 的 diff 中被 removeAttribute 了，这里手动 setAttribute\n          // fix https://github.com/NervJS/taro/issues/11197\n          dom.setAttribute(propName, propValue)\n        }\n      }\n    }\n    if (oldDiffedHook) oldDiffedHook(newVNode)\n  }\n\n  hooks.tap('modifyMpEvent', e => {\n    const type = e.type\n    if (type === 'tap') {\n      e.type = 'click'\n    } else if (type === 'focus') {\n      // 兼容 preact/compat/src/render.js options.vnode 的处理逻辑\n      e.type = 'focusin'\n    } else if (type === 'blur') {\n      e.type = 'focusout'\n    }\n  })\n  // hooks.modifyDispatchEventImpls?.push(e => {\n  // })\n}\n\nexport * from './connect'\nexport * from './connect-native'\nexport * from './hooks'\n","export const View = 'view'\nexport const Icon = 'icon'\nexport const Progress = 'progress'\nexport const RichText = 'rich-text'\nexport const Text = 'text'\nexport const Button = 'button'\nexport const Checkbox = 'checkbox'\nexport const CheckboxGroup = 'checkbox-group'\nexport const Form = 'form'\nexport const Input = 'input'\nexport const Label = 'label'\nexport const Picker = 'picker'\nexport const PickerView = 'picker-view'\nexport const PickerViewColumn = 'picker-view-column'\nexport const Radio = 'radio'\nexport const RadioGroup = 'radio-group'\nexport const Slider = 'slider'\nexport const Switch = 'switch'\nexport const CoverImage = 'cover-image'\nexport const Textarea = 'textarea'\nexport const CoverView = 'cover-view'\nexport const MovableArea = 'movable-area'\nexport const MovableView = 'movable-view'\nexport const ScrollView = 'scroll-view'\nexport const Swiper = 'swiper'\nexport const SwiperItem = 'swiper-item'\nexport const Navigator = 'navigator'\nexport const Audio = 'audio'\nexport const Camera = 'camera'\nexport const Image = 'image'\nexport const LivePlayer = 'live-player'\nexport const Video = 'video'\nexport const Canvas = 'canvas'\nexport const Ad = 'ad'\nexport const WebView = 'web-view'\nexport const Block = 'block'\nexport const Map = 'map'\nexport const Slot = 'slot'\nexport const NativeSlot = 'native-slot'\nexport const CustomWrapper = 'custom-wrapper'\n","import { isFunction, isString } from './is'\nimport { nonsupport, setUniqueKeyToRoute } from './utils'\n\ndeclare const getCurrentPages: () => any\ndeclare const getApp: () => any\ndeclare const requirePlugin: () => void\n\ntype IObject = Record<string, any>\n\ninterface IProcessApisIOptions {\n  noPromiseApis?: Set<string>\n  needPromiseApis?: Set<string>\n  handleSyncApis?: (key: string, global: IObject, args: any[]) => any\n  transformMeta?: (key: string, options: IObject) => { key: string, options: IObject }\n  modifyApis?: (apis: Set<string>) => void\n  modifyAsyncResult?: (key: string, res) => void\n  isOnlyPromisify?: boolean\n  [propName: string]: any\n}\n\nexport interface IApiDiff {\n  [key: string]: {\n    /** API重命名 */\n    alias?: string\n    options?: {\n      /** API参数键名修改 */\n      change?: {\n        old: string\n        new: string\n      }[]\n      /** API参数值修改 */\n      set?: {\n        key: string\n        value: ((options: Record<string, any>) => unknown) | unknown\n      }[]\n    }\n  }\n}\n\nconst needPromiseApis = new Set<string>([\n  'addPhoneContact',\n  'authorize',\n  'canvasGetImageData',\n  'canvasPutImageData',\n  'canvasToTempFilePath',\n  'checkSession',\n  'chooseAddress',\n  'chooseImage',\n  'chooseInvoiceTitle',\n  'chooseLocation',\n  'chooseVideo',\n  'clearStorage',\n  'closeBLEConnection',\n  'closeBluetoothAdapter',\n  'closeSocket',\n  'compressImage',\n  'connectSocket',\n  'createBLEConnection',\n  'downloadFile',\n  'exitMiniProgram',\n  'getAvailableAudioSources',\n  'getBLEDeviceCharacteristics',\n  'getBLEDeviceServices',\n  'getBatteryInfo',\n  'getBeacons',\n  'getBluetoothAdapterState',\n  'getBluetoothDevices',\n  'getClipboardData',\n  'getConnectedBluetoothDevices',\n  'getConnectedWifi',\n  'getExtConfig',\n  'getFileInfo',\n  'getImageInfo',\n  'getLocation',\n  'getNetworkType',\n  'getSavedFileInfo',\n  'getSavedFileList',\n  'getScreenBrightness',\n  'getSetting',\n  'getStorage',\n  'getStorageInfo',\n  'getSystemInfo',\n  'getUserInfo',\n  'getWifiList',\n  'hideHomeButton',\n  'hideShareMenu',\n  'hideTabBar',\n  'hideTabBarRedDot',\n  'loadFontFace',\n  'login',\n  'makePhoneCall',\n  'navigateBack',\n  'navigateBackMiniProgram',\n  'navigateTo',\n  'navigateToBookshelf',\n  'navigateToMiniProgram',\n  'notifyBLECharacteristicValueChange',\n  'hideKeyboard',\n  'hideLoading',\n  'hideNavigationBarLoading',\n  'hideToast',\n  'openBluetoothAdapter',\n  'openDocument',\n  'openLocation',\n  'openSetting',\n  'pageScrollTo',\n  'previewImage',\n  'queryBookshelf',\n  'reLaunch',\n  'readBLECharacteristicValue',\n  'redirectTo',\n  'removeSavedFile',\n  'removeStorage',\n  'removeTabBarBadge',\n  'requestSubscribeMessage',\n  'saveFile',\n  'saveImageToPhotosAlbum',\n  'saveVideoToPhotosAlbum',\n  'scanCode',\n  'sendSocketMessage',\n  'setBackgroundColor',\n  'setBackgroundTextStyle',\n  'setClipboardData',\n  'setEnableDebug',\n  'setInnerAudioOption',\n  'setKeepScreenOn',\n  'setNavigationBarColor',\n  'setNavigationBarTitle',\n  'setScreenBrightness',\n  'setStorage',\n  'setTabBarBadge',\n  'setTabBarItem',\n  'setTabBarStyle',\n  'showActionSheet',\n  'showFavoriteGuide',\n  'showLoading',\n  'showModal',\n  'showShareMenu',\n  'showTabBar',\n  'showTabBarRedDot',\n  'showToast',\n  'startBeaconDiscovery',\n  'startBluetoothDevicesDiscovery',\n  'startDeviceMotionListening',\n  'startPullDownRefresh',\n  'stopBeaconDiscovery',\n  'stopBluetoothDevicesDiscovery',\n  'stopCompass',\n  'startCompass',\n  'startAccelerometer',\n  'stopAccelerometer',\n  'showNavigationBarLoading',\n  'stopDeviceMotionListening',\n  'stopPullDownRefresh',\n  'switchTab',\n  'uploadFile',\n  'vibrateLong',\n  'vibrateShort',\n  'writeBLECharacteristicValue'\n])\n\nfunction getCanIUseWebp (taro) {\n  return function () {\n    const res = taro.getSystemInfoSync?.()\n\n    if (!res) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.error('不支持 API canIUseWebp')\n      }\n      return false\n    }\n\n    const { platform } = res\n\n    const platformLower = platform.toLowerCase()\n    if (platformLower === 'android' || platformLower === 'devtools') {\n      return true\n    }\n    return false\n  }\n}\n\nfunction getNormalRequest (global) {\n  return function request (options) {\n    options = options\n      ? (\n        isString(options)\n          ? { url: options }\n          : options\n      )\n      : {}\n\n    const originSuccess = options.success\n    const originFail = options.fail\n    const originComplete = options.complete\n    let requestTask\n    const p: any = new Promise((resolve, reject) => {\n      options.success = res => {\n        originSuccess && originSuccess(res)\n        resolve(res)\n      }\n      options.fail = res => {\n        originFail && originFail(res)\n        reject(res)\n      }\n\n      options.complete = res => {\n        originComplete && originComplete(res)\n      }\n\n      requestTask = global.request(options)\n    })\n\n    equipTaskMethodsIntoPromise(requestTask, p)\n\n    p.abort = (cb) => {\n      cb && cb()\n      if (requestTask) {\n        requestTask.abort()\n      }\n      return p\n    }\n    return p\n  }\n}\n\nfunction processApis (taro, global, config: IProcessApisIOptions = {}) {\n  const patchNeedPromiseApis = config.needPromiseApis || []\n  const _needPromiseApis = new Set<string>([...patchNeedPromiseApis, ...needPromiseApis])\n  const preserved = [\n    'getEnv',\n    'interceptors',\n    'Current',\n    'getCurrentInstance',\n    'options',\n    'nextTick',\n    'eventCenter',\n    'Events',\n    'preload',\n    'webpackJsonp'\n  ]\n\n  const apis = new Set(\n    !config.isOnlyPromisify\n      ? Object.keys(global).filter(api => preserved.indexOf(api) === -1)\n      : patchNeedPromiseApis\n  )\n\n  if (config.modifyApis) {\n    config.modifyApis(apis)\n  }\n\n  apis.forEach(key => {\n    if (_needPromiseApis.has(key)) {\n      const originKey = key\n      taro[originKey] = (options: Record<string, any> | string = {}, ...args) => {\n        let key = originKey\n\n        // 第一个参数 options 为字符串，单独处理\n        if (typeof options === 'string') {\n          if (args.length) {\n            return global[key](options, ...args)\n          }\n          return global[key](options)\n        }\n\n        // 改变 key 或 option 字段，如需要把支付宝标准的字段对齐微信标准的字段\n        if (config.transformMeta) {\n          const transformResult = config.transformMeta(key, options)\n          key = transformResult.key\n          ; (options as Record<string, any>) = transformResult.options\n          // 新 key 可能不存在\n          if (!global.hasOwnProperty(key)) {\n            return nonsupport(key)()\n          }\n        }\n\n        let task: any = null\n        const obj: Record<string, any> = Object.assign({}, options)\n\n        // 为页面跳转相关的 API 设置一个随机数作为路由参数。为了给 runtime 区分页面。\n        setUniqueKeyToRoute(key, options)\n\n        // Promise 化\n        const p: any = new Promise((resolve, reject) => {\n          obj.success = res => {\n            config.modifyAsyncResult?.(key, res)\n            options.success?.(res)\n            if (key === 'connectSocket') {\n              resolve(\n                Promise.resolve().then(() => task ? Object.assign(task, res) : res)\n              )\n            } else {\n              resolve(res)\n            }\n          }\n          obj.fail = res => {\n            options.fail?.(res)\n            reject(res)\n          }\n          obj.complete = res => {\n            options.complete?.(res)\n          }\n          if (args.length) {\n            task = global[key](obj, ...args)\n          } else {\n            task = global[key](obj)\n          }\n        })\n\n        // 给 promise 对象挂载属性\n        if (['uploadFile', 'downloadFile'].includes(key)) {\n          equipTaskMethodsIntoPromise(task, p)\n          p.progress = cb => {\n            task?.onProgressUpdate(cb)\n            return p\n          }\n          p.abort = cb => {\n            cb?.()\n            task?.abort()\n            return p\n          }\n        }\n        return p\n      }\n    } else {\n      let platformKey = key\n\n      // 改变 key 或 option 字段，如需要把支付宝标准的字段对齐微信标准的字段\n      if (config.transformMeta) {\n        platformKey = config.transformMeta(key, {}).key\n      }\n\n      // API 不存在\n      if (!global.hasOwnProperty(platformKey)) {\n        taro[key] = nonsupport(key)\n        return\n      }\n      if (isFunction(global[key])) {\n        taro[key] = (...args) => {\n          if (config.handleSyncApis) {\n            return config.handleSyncApis(key, global, args)\n          } else {\n            return global[platformKey].apply(global, args)\n          }\n        }\n      } else {\n        taro[key] = global[platformKey]\n      }\n    }\n  })\n\n  !config.isOnlyPromisify && equipCommonApis(taro, global, config)\n}\n\n/**\n * 挂载常用 API\n * @param taro Taro 对象\n * @param global 小程序全局对象，如微信的 wx，支付宝的 my\n */\nfunction equipCommonApis (taro, global, apis: Record<string, any> = {}) {\n  taro.canIUseWebp = getCanIUseWebp(taro)\n  taro.getCurrentPages = getCurrentPages || nonsupport('getCurrentPages')\n  taro.getApp = getApp || nonsupport('getApp')\n  taro.env = global.env || {}\n\n  try {\n    taro.requirePlugin = requirePlugin || nonsupport('requirePlugin')\n  } catch (error) {\n    taro.requirePlugin = nonsupport('requirePlugin')\n  }\n\n  // request & interceptors\n  const request = apis.request || getNormalRequest(global)\n  function taroInterceptor (chain) {\n    return request(chain.requestParams)\n  }\n  const link = new taro.Link(taroInterceptor)\n  taro.request = link.request.bind(link)\n  taro.addInterceptor = link.addInterceptor.bind(link)\n  taro.cleanInterceptors = link.cleanInterceptors.bind(link)\n  taro.miniGlobal = taro.options.miniGlobal = global\n  taro.getAppInfo = function () {\n    return {\n      platform: process.env.TARO_PLATFORM || 'MiniProgram',\n      taroVersion: process.env.TARO_VERSION || 'unknown',\n      designWidth: taro.config.designWidth\n    }\n  }\n  taro.createSelectorQuery = delayRef(taro, global, 'createSelectorQuery', 'exec')\n  taro.createIntersectionObserver = delayRef(taro, global, 'createIntersectionObserver', 'observe')\n}\n\n/**\n * 将Task对象中的方法挂载到promise对象中，适配小程序api原生返回结果\n * @param task Task对象 {RequestTask | DownloadTask | UploadTask}\n * @param promise Promise\n */\nfunction equipTaskMethodsIntoPromise (task, promise) {\n  if (!task || !promise) return\n  const taskMethods = ['abort', 'onHeadersReceived', 'offHeadersReceived', 'onProgressUpdate', 'offProgressUpdate', 'onChunkReceived', 'offChunkReceived']\n  task && taskMethods.forEach(method => {\n    if (method in task) {\n      promise[method] = task[method].bind(task)\n    }\n  })\n}\n\nfunction delayRef (taro, global, name: string, method: string) {\n  return function (...args) {\n    const res = global[name](...args)\n    const raw = res[method].bind(res)\n    res[method] = function (...methodArgs) {\n      taro.nextTick(() => raw(...methodArgs))\n    }\n    return res\n  }\n}\n\nexport {\n  processApis\n}\n",null,null,null,null,null,"export const supportedInputTypes: { [key: string]: boolean } = {\n  color: true,\n  date: true,\n  datetime: true,\n  'datetime-local': true,\n  email: true,\n  month: true,\n  number: true,\n  password: true,\n  range: true,\n  search: true,\n  tel: true,\n  text: true,\n  time: true,\n  url: true,\n  week: true,\n}\n\nconst SyncLane = 1\nconst InputContinuousLane = 4\nconst DefaultLane = 16\nconst DiscreteEventPriority = SyncLane\nconst ContinuousEventPriority = InputContinuousLane\nconst DefaultEventPriority = DefaultLane\n\nexport function getEventPriority (domEventName) {\n  switch (domEventName) {\n    case 'cancel':\n    case 'click':\n    case 'close':\n    case 'contextmenu':\n    case 'copy':\n    case 'cut':\n    case 'dragend':\n    case 'dragstart':\n    case 'drop':\n    case 'input':\n    case 'paste':\n    case 'pause':\n    case 'play':\n    case 'pointercancel':\n    case 'pointerdown':\n    case 'pointerup':\n    case 'reset':\n    case 'resize':\n    case 'submit':\n    case 'touchcancel':\n    case 'touchend':\n    case 'touchstart':\n    case 'change':\n    case 'blur':\n    case 'focus':\n    case 'select':\n    case 'selectstart':\n      return DiscreteEventPriority\n    case 'drag':\n    case 'dragenter':\n    case 'dragexit':\n    case 'dragleave':\n    case 'dragover':\n    case 'pointermove':\n    case 'pointerout':\n    case 'pointerover':\n    case 'scroll':\n    case 'toggle':\n    case 'touchmove':\n    case 'pointerenter':\n    case 'pointerleave':\n      return ContinuousEventPriority\n    default:\n      return DefaultEventPriority\n  }\n}\n\nconst randomKey = Math.random()\n  .toString(36)\n  .slice(2)\n\nexport const internalPropsKey = '__reactProps$' + randomKey\nexport const internalInstanceKey = '__reactFiber$' + randomKey\nexport const internalContainerInstanceKey = '__reactContainer$' + randomKey\n// const internalEventHandlersKey = '__reactEvents$' + randomKey\n// const internalEventHandlerListenersKey = '__reactListeners$' + randomKey\n// const internalEventHandlesSetKey = '__reactHandles$' + randomKey\n","export type WorkTag =\n  | 0\n  | 1\n  | 2\n  | 3\n  | 4\n  | 5\n  | 6\n  | 7\n  | 8\n  | 9\n  | 10\n  | 11\n  | 12\n  | 13\n  | 14\n  | 15\n  | 16\n  | 17\n  | 18\n  | 19\n  | 20\n  | 21\n  | 22\n  | 23\n  | 24\n  | 25\n\nexport const FunctionComponent = 0\nexport const ClassComponent = 1\nexport const IndeterminateComponent = 2 // Before we know whether it is function or class\nexport const HostRoot = 3 // Root of a host tree. Could be nested inside another node.\nexport const HostPortal = 4 // A subtree. Could be an entry point to a different renderer.\nexport const HostComponent = 5\nexport const HostText = 6\nexport const Fragment = 7\nexport const Mode = 8\nexport const ContextConsumer = 9\nexport const ContextProvider = 10\nexport const ForwardRef = 11\nexport const Profiler = 12\nexport const SuspenseComponent = 13\nexport const MemoComponent = 14\nexport const SimpleMemoComponent = 15\nexport const LazyComponent = 16\nexport const IncompleteClassComponent = 17\nexport const DehydratedFragment = 18\nexport const SuspenseListComponent = 19\nexport const ScopeComponent = 21\nexport const OffscreenComponent = 22\nexport const LegacyHiddenComponent = 23\nexport const CacheComponent = 24\nexport const TracingMarkerComponent = 25\n","/**\n * 给 TaroElement 绑定 react fiber、react props 等属性\n * 提供 fiber -> element、element -> fiber、element -> props 的方法\n*/\nimport { internalContainerInstanceKey, internalInstanceKey, internalPropsKey } from './constant'\nimport { HostComponent, HostRoot, HostText, SuspenseComponent } from './workTags'\n\nimport type { TaroElement, TaroText } from '@tarojs/runtime'\nimport type { Fiber } from 'react-reconciler'\nimport type { Props } from './props'\n\nexport function precacheFiberNode (hostInst: Fiber, node: TaroElement | TaroText): void {\n  node[internalInstanceKey] = hostInst\n}\n\nexport function markContainerAsRoot (hostRoot: Fiber, node: TaroElement | TaroText): void {\n  node[internalContainerInstanceKey] = hostRoot\n}\n\nexport function unmarkContainerAsRoot (node: TaroElement | TaroText): void {\n  node[internalContainerInstanceKey] = null\n}\n\nexport function isContainerMarkedAsRoot (node: TaroElement | TaroText): boolean {\n  return !!node[internalContainerInstanceKey]\n}\n\n/**\n * Given a DOM node, return the ReactDOMComponent or ReactDOMTextComponent\n * instance, or null if the node was not rendered by this React.\n */\nexport function getInstanceFromNode (node: TaroElement | TaroText): Fiber | null {\n  const inst = node[internalInstanceKey] || node[internalContainerInstanceKey]\n\n  if (inst) {\n    if (\n      inst.tag === HostComponent ||\n      inst.tag === HostText ||\n      inst.tag === SuspenseComponent ||\n      inst.tag === HostRoot\n    ) {\n      return inst\n    } else {\n      return null\n    }\n  }\n  return null\n}\n\n/**\n * Given a ReactDOMComponent or ReactDOMTextComponent, return the corresponding\n * DOM node.\n */\nexport function getNodeFromInstance (inst: Fiber) {\n  if (inst.tag === HostComponent || inst.tag === HostText) {\n    // In Fiber this, is just the state node right now. We assume it will be\n    // a host component or host text.\n    return inst.stateNode\n  }\n}\n\nexport function getFiberCurrentPropsFromNode (node: TaroElement | TaroText): Props {\n  return node[internalPropsKey] || null\n}\n\nexport function updateFiberProps (\n  node: TaroElement | TaroText,\n  props: Props,\n): void {\n  node[internalPropsKey] = props\n\n  if (process.env.TARO_PLATFORM === 'harmony') {\n    // @ts-ignore\n    node.updateTextNode()\n  }\n}\n","import { supportedInputTypes } from './constant'\nimport { Props } from './props'\n\nimport type { FormElement, TaroElement } from '@tarojs/runtime'\nimport type { RestoreType } from './event'\n\n// 从 props 中，更新 input 组件的 value 值\nfunction updateInputWrapper (element: TaroElement, oldValue: RestoreType, props: Props) {\n  const node = element\n  const checked = props.checked\n\n  if (checked != null) {\n    console.warn('updateCheck 未实现', node)\n    return\n  }\n\n  updateWrapper(element, oldValue, props)\n  updateNamedCousins(element, props)\n}\n\n// react 中原本处理 type=radio 的逻辑，这里留个空，暂时不处理\nfunction updateNamedCousins (rootNode, props) {\n  const name = props.name\n\n  if (props.type === 'radio' && name != null) {\n    console.warn('radio updateNamedCousins 未实现', rootNode, props)\n  }\n}\n\nexport function getToStringValue (value: any) {\n  const isEmptyType = typeof value === 'function' || typeof value === 'symbol'\n\n  return isEmptyType ? '' : value\n}\n\nexport function toString (value): string {\n  return '' + value\n}\n\nexport function updateWrapper (element: TaroElement, oldValue: RestoreType, props: Props) {\n  const node = element as FormElement\n  const value = getToStringValue(props.value)\n  const type = props.type as string\n\n  setNodeValue(node, oldValue, value, type)\n}\n\n// oldValue 为 event.detail.value，value 为 fiber.props.value\n// 如果 oldValue 和 value 不相等，代表受控组件需要更新\n// 更新的原则为，fiber.props.value 永远为用户所需要的值，因此 node.value = toString(value)\nexport function setNodeValue (node: FormElement, oldValue: RestoreType, value, type = 'string') {\n  if (value != null) {\n    if (type === 'number') {\n      if (\n        (value === 0 && node.value === '')\n        // We explicitly want to coerce to number here if possible.\n        // eslint-disable-next-line\n        || oldValue != value\n      ) {\n        node.value = toString(value)\n      }\n    } else if (oldValue !== toString(value)) {\n      node.value = toString(value)\n    }\n  } else if (type === 'submit' || type === 'reset') {\n    // Submit/reset inputs need the attribute removed completely to avoid\n    // blank-text buttons.\n    node.removeAttribute('value')\n  }\n}\n\n// 判断当前 TaroElement 是否为 supportedInputTypes input 或 textarea\nexport function isTextInputElement (elem: TaroElement): boolean {\n  const nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase()\n\n  if (nodeName === 'input') {\n    const type = (elem as FormElement).type\n\n    return !type || !!supportedInputTypes[type]\n  }\n\n  if (nodeName === 'textarea') {\n    return true\n  }\n\n  return false\n}\n\nexport const ReactDOMTextareaRestoreControlledState = updateWrapper\nexport const ReactDOMInputRestoreControlledState = updateInputWrapper\n","import type { FormElement } from '@tarojs/runtime'\n\nfunction isCheckable (elem: FormElement) {\n  const type = elem.type\n  const nodeName = elem.nodeName\n\n  return (\n    nodeName &&\n    nodeName.toLowerCase() === 'input' &&\n    (type === 'checkbox' || type === 'radio')\n  )\n}\n\nfunction getTracker (node) {\n  return node._valueTracker\n}\n\nfunction detachTracker (node) {\n  node._valueTracker = null\n}\n\n// 之所以单独创建一个 tacker，是为了统一监听不同 type 的 input 值\n// 比如 type=checkbox 或者 type=radio，就需要监听 checked，而不是 value\n// 虽然目前还未实现 checkbox 和 radio 的 finishEventHandle，但后续不好说，所以先统一和 react 一样的写法\n// 需要特别注意的是，tracker 初始化时的值为 node 的初始值，但后续会变更为事件的 detail.value 值\nfunction trackValueOnNode (node: any) {\n  const valueField = isCheckable(node) ? 'checked' : 'value'\n  const descriptor = Object.getOwnPropertyDescriptor(\n    node.constructor.prototype,\n    valueField,\n  )\n\n  let currentValue = '' + node[valueField]\n\n  if (\n    node.hasOwnProperty(valueField) ||\n    typeof descriptor === 'undefined' ||\n    typeof descriptor.get !== 'function' ||\n    typeof descriptor.set !== 'function'\n  ) {\n    return\n  }\n\n  const { get, set } = descriptor\n\n  Object.defineProperty(node, valueField, {\n    configurable: true,\n    enumerable: descriptor.enumerable,\n    get: function () {\n      return get.call(this)\n    },\n    set: function (value) {\n      currentValue = '' + value\n      set.call(this, value)\n    },\n  })\n\n  const tracker = {\n    getValue () {\n      return currentValue\n    },\n    setValue (value) {\n      currentValue = '' + value\n    },\n    stopTracking () {\n      detachTracker(node)\n      delete node[valueField]\n    },\n  }\n  return tracker\n}\n\nexport function track (node) {\n  if (getTracker(node)) {\n    return\n  }\n\n  node._valueTracker = trackValueOnNode(node)\n}\n\nexport function updateValueIfChanged (node, nextValue: string) {\n  if (!node) {\n    return false\n  }\n\n  const tracker = getTracker(node)\n\n  if (!tracker) {\n    return true\n  }\n\n  const lastValue = tracker.getValue()\n\n  if (nextValue !== lastValue) {\n    tracker.setValue(nextValue)\n    return true\n  }\n  return false\n}\n\nexport function stopTracking (node) {\n  const tracker = getTracker(node)\n  if (tracker) {\n    tracker.stopTracking()\n  }\n}\n","import { convertNumber2PX, FormElement } from '@tarojs/runtime'\nimport { capitalize, internalComponents, isFunction, isNumber, isObject, isString, PLATFORM_TYPE, toCamelCase } from '@tarojs/shared'\n\nimport type { Style, TaroElement } from '@tarojs/runtime'\n\n// 拓展TaroElement的属性\n\nexport type Props = Record<string, unknown>\n\nconst IS_NON_DIMENSIONAL = /aspect|acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i\n\nfunction isEventName (s: string) {\n  return s[0] === 'o' && s[1] === 'n'\n}\n\nfunction isEqual (obj1, obj2) {\n  // 首先检查引用是否相同\n  if (obj1 === obj2) {\n    return true\n  }\n\n  // 如果两者中有一个不是对象，或者为 null，直接返回 false\n  if (typeof obj1 !== 'object' || obj1 === null || typeof obj2 !== 'object' || obj2 === null) {\n    return false\n  }\n\n  // 获取两个对象键的数组\n  const keys1 = Object.keys(obj1)\n  const keys2 = Object.keys(obj2)\n\n  // 如果键的数量不相同，对象显然不相等\n  if (keys1.length !== keys2.length) {\n    return false\n  }\n\n  // 遍历对象的每个键，比较两个对象同一键的值\n  for (let i = 0; i < keys1.length; i++) {\n    const key = keys1[i]\n    if (obj1[key] !== obj2[key]) {\n      return false\n    }\n  }\n\n  // 如果所有键的值都相等，返回 true\n  return true\n}\n\nexport function updateProps (dom: TaroElement, oldProps: Props, newProps: Props) {\n  const updatePayload = getUpdatePayload(dom, oldProps, newProps)\n  if (updatePayload) {\n    updatePropsByPayload(dom, oldProps, updatePayload)\n  }\n}\n\nexport function updatePropsByPayload (dom: TaroElement, oldProps: Props, updatePayload: any[]) {\n  const handlers: (() => void)[] = []\n  let fixedHandler: (() => void) | null = null\n  for (let i = 0; i < updatePayload.length; i += 2) {\n    // key, value 成对出现\n    const key = updatePayload[i]\n    const newProp = updatePayload[i + 1]\n    const oldProp = oldProps[key]\n    if (process.env.TARO_PLATFORM === PLATFORM_TYPE.HARMONY) {\n      if (key === '__fixed') {\n        // hack: __fixed最先识别\n        fixedHandler = () => setProperty(dom, key, newProp, oldProp)\n        continue\n      }\n      // 鸿蒙样式前置插入，防止覆盖style\n      if (key === '__hmStyle') {\n        handlers.splice(0, 0, () => setHarmonyStyle(dom, newProp, oldProp))\n      } else {\n        handlers.push(() => setProperty(dom, key, newProp, oldProp))\n      }\n    } else {\n      setProperty(dom, key, newProp, oldProp)\n    }\n  }\n  if (process.env.TARO_PLATFORM === PLATFORM_TYPE.HARMONY) {\n    fixedHandler && fixedHandler()\n    for (let i = 0; i < handlers.length; i++) {\n      handlers[i]()\n    }\n  }\n}\n\nexport function getUpdatePayload (dom: TaroElement, oldProps: Props, newProps: Props) {\n  let i: string\n  let updatePayload: any[] | null = null\n\n  for (i in oldProps) {\n    if (!(i in newProps)) {\n      (updatePayload = updatePayload || []).push(i, null)\n    }\n  }\n  const isFormElement = dom instanceof FormElement\n  for (i in newProps) {\n    if (oldProps[i] !== newProps[i] || (isFormElement && i === 'value')) {\n      // 如果都是 style，且 style 里面的值相等，则无需记录到 payload 中\n      if (i === 'style' && isObject(oldProps[i]) && isObject(newProps[i]) && isEqual(oldProps[i], newProps[i])) continue\n\n      (updatePayload = updatePayload || []).push(i, newProps[i])\n    }\n  }\n\n  return updatePayload\n}\n\n// function eventProxy (e: CommonEvent) {\n//   const el = document.getElementById(e.currentTarget.id)\n//   const handlers = el!.__handlers[e.type]\n//   handlers[0](e)\n// }\n\nfunction setEvent (dom: TaroElement, name: string, value: unknown, oldValue?: unknown) {\n  const isCapture = name.endsWith('Capture')\n  let eventName = name.toLowerCase().slice(2)\n  if (isCapture) {\n    eventName = eventName.slice(0, -7)\n  }\n\n  const compName = capitalize(toCamelCase(dom.tagName.toLowerCase()))\n\n  if (eventName === 'click' && process.env.TARO_PLATFORM !== PLATFORM_TYPE.HARMONY && compName in internalComponents) {\n    eventName = 'tap'\n  }\n\n  if (isFunction(value)) {\n    if (oldValue) {\n      dom.removeEventListener(eventName, oldValue as any, process.env.TARO_PLATFORM !== PLATFORM_TYPE.HARMONY ? false : undefined)\n      dom.addEventListener(eventName, value, process.env.TARO_PLATFORM !== PLATFORM_TYPE.HARMONY ? { isCapture, sideEffect: false } : undefined)\n    } else {\n      dom.addEventListener(eventName, value, process.env.TARO_PLATFORM !== PLATFORM_TYPE.HARMONY ? isCapture : undefined)\n    }\n  } else {\n    dom.removeEventListener(eventName, oldValue as any)\n  }\n}\n\nfunction setStyle (style: Style, key: string, value: unknown) {\n  if (key[0] === '-' && process.env.TARO_PLATFORM !== PLATFORM_TYPE.HARMONY) {\n    // css variables need not further judgment\n    style.setProperty(key, (value as string).toString())\n    return\n  }\n\n  style[key] =\n    isNumber(value) && IS_NON_DIMENSIONAL.test(key) === false\n      ? (process.env.TARO_PLATFORM === PLATFORM_TYPE.HARMONY ? value + 'px' : convertNumber2PX(value))\n      : value === null\n        ? ''\n        : value\n}\n\ntype StyleValue = Record<string, string | number>\ninterface DangerouslySetInnerHTML {\n  __html?: string\n}\n\n// 鸿蒙样式特殊处理，需要在插入顺序中前置插入，防止覆盖了style\nfunction setHarmonyStyle(dom: TaroElement, value: unknown, oldValue?: unknown) {\n  // @ts-ignore\n  const style = dom._st.hmStyle // __hmStyle是已经被处理过的鸿蒙样式，可以直接塞进hmStyle对象内\n  if (isObject<StyleValue>(oldValue)) {\n    for (const i in oldValue) {\n      if (!(value && i in (value as StyleValue))) {\n        // 鸿蒙伪类特殊处理\n        if (process.env.TARO_PLATFORM === PLATFORM_TYPE.HARMONY) {\n          if (i === '::after' || i === '::before') {\n            setPseudo(dom, i, null)\n          } else if (['::first-child', '::last-child', '::empty'].includes(i) || `${i}`.indexOf('::nth-child') === 0) {\n            // @ts-ignore\n            dom.set_pseudo_class(i, null)\n          } else {\n            if (i === 'position' && oldValue[i] === 'fixed') {\n              // @ts-ignore\n              dom.setLayer(0)\n            } else if (i === 'animationName') {\n              // @ts-ignore\n              dom.setAnimation(false)\n            }\n            style[i] = ''\n          }\n        } else {\n          style[i] = ''\n        }\n      }\n    }\n  }\n  if (isObject<StyleValue>(value)) {\n    for (const i in value) {\n      if (!oldValue || !isEqual(value[i], (oldValue as StyleValue)[i])) {\n        // 鸿蒙伪类特殊处理\n        if (process.env.TARO_PLATFORM === PLATFORM_TYPE.HARMONY) {\n          if (i === '::after' || i === '::before') {\n            setPseudo(dom, i, value[i] as unknown as StyleValue)\n          } else if (['::first-child', '::last-child', '::empty'].includes(i) || i.startsWith('::nth-child')) {\n            // @ts-ignore\n            dom.set_pseudo_class(i, value[i])\n          } else {\n            if (i === 'position') {\n              if (value[i] === 'fixed' || (value[i] !== 'fixed' && oldValue?.[i])) {\n                // @ts-ignore\n                dom.setLayer(value[i] === 'fixed' ? 1 : 0)\n              }\n            } else if (i === 'animationName') {\n              // @ts-ignore\n              dom.setAnimation(true)\n            }\n            style[i] = value[i]\n          }\n        } else {\n          style[i] = value[i]\n        }\n      }\n    }\n  }\n\n  dom.setAttribute('__hmStyle', value)\n}\nfunction setProperty (dom: TaroElement, name: string, value: unknown, oldValue?: unknown) {\n  name = name === 'className' ? 'class' : name\n\n  if (\n    name === 'key' ||\n    name === 'children' ||\n    name === 'ref'\n  ) {\n    // skip\n  } else if (name === 'style') {\n    if (/harmony.*cpp/.test(process.env.TARO_ENV || '')) {\n      return dom.setAttribute('_style4cpp', value)\n    }\n    const style = dom.style\n    if (isString(value)) {\n      style.cssText = value\n    } else {\n      if (isString(oldValue)) {\n        style.cssText = ''\n        oldValue = null\n      }\n\n      if (isObject<StyleValue>(oldValue)) {\n        for (const i in oldValue) {\n          if (!(value && i in (value as StyleValue))) {\n            // Harmony特殊处理\n            if (process.env.TARO_PLATFORM === PLATFORM_TYPE.HARMONY && i === 'position' && oldValue[i] === 'fixed') {\n              // @ts-ignore\n              dom.setLayer(0)\n            }\n            setStyle(style, i, '')\n          }\n        }\n      }\n\n      if (isObject<StyleValue>(value)) {\n        for (const i in value) {\n          if (!oldValue || !isEqual(value[i], (oldValue as StyleValue)[i])) {\n            // Harmony特殊处理\n            if (process.env.TARO_PLATFORM === PLATFORM_TYPE.HARMONY && i === 'position') {\n              if (value[i] === 'fixed' || (value[i] !== 'fixed' && oldValue?.[i])) {\n                // @ts-ignore\n                dom.setLayer(value[i] === 'fixed' ? 1 : 0)\n              }\n            }\n            setStyle(style, i, value[i])\n          }\n        }\n      }\n    }\n  } else if (isEventName(name)) {\n    setEvent(dom, name, value, oldValue)\n  } else if (name === 'dangerouslySetInnerHTML') {\n    const newHtml = (value as DangerouslySetInnerHTML)?.__html ?? ''\n    const oldHtml = (oldValue as DangerouslySetInnerHTML)?.__html ?? ''\n    if (newHtml || oldHtml) {\n      if (oldHtml !== newHtml) {\n        dom.innerHTML = newHtml\n      }\n    }\n  } else if (!isFunction(value)) {\n    if (value == null) {\n      dom.removeAttribute(name)\n    } else {\n      dom.setAttribute(name, value as string)\n    }\n  }\n}\n\n// 设置鸿蒙伪类属性(特殊设置)\nfunction setPseudo(dom: TaroElement, name: '::after' | '::before', value: StyleValue | null) {\n  if (name === '::after') {\n    // @ts-ignore\n    dom.set_pseudo_after(value)\n  } else if (name === '::before') {\n    // @ts-ignore\n    dom.set_pseudo_before(value)\n  }\n}\n","/* eslint-disable @typescript-eslint/indent */\nimport { document, FormElement } from '@tarojs/runtime'\nimport { isBoolean, isUndefined, noop } from '@tarojs/shared'\nimport Reconciler from 'react-reconciler'\nimport { DefaultEventPriority } from 'react-reconciler/constants'\n\nimport { precacheFiberNode, updateFiberProps } from './componentTree'\nimport { track } from './inputValueTracking'\nimport { getUpdatePayload, Props, updateProps, updatePropsByPayload } from './props'\n\nimport type { TaroElement, TaroText } from '@tarojs/runtime'\nimport type { Fiber, HostConfig } from 'react-reconciler'\n\nconst hostConfig: HostConfig<\n  string, // Type\n  Props, // Props\n  TaroElement, // Container\n  TaroElement, // Instance\n  TaroText, // TextInstance\n  TaroElement, // SuspenseInstance\n  TaroElement, // HydratableInstance\n  TaroElement, // PublicInstance\n  Record<string, any>, // HostContext\n  string[], // UpdatePayload\n  unknown, // ChildSet\n  unknown, // TimeoutHandle\n  unknown // NoTimeout\n> & {\n  supportsMicrotasks: boolean // 待官方类型文件修复后删除\n} = {\n  // below keys order by {React ReactFiberHostConfig.custom.js}, convenient for comparing each other.\n\n  // -------------------\n  // required by @types/react-reconciler\n  // -------------------\n  getPublicInstance (inst: TaroElement) {\n    return inst\n  },\n  getRootHostContext () {\n    return {}\n  },\n  getChildHostContext (parentHostContext) {\n    return parentHostContext\n  },\n  prepareForCommit (..._: any[]) {\n    return null\n  },\n  resetAfterCommit: noop,\n  createInstance (type, props: Props, _rootContainerInstance: any, _hostContext: any, internalInstanceHandle: Fiber) {\n    const element = document.createElement(type)\n\n    precacheFiberNode(internalInstanceHandle, element)\n    updateFiberProps(element, props)\n\n    return element\n  },\n  appendInitialChild (parent, child) {\n    parent.appendChild(child)\n  },\n  finalizeInitialChildren (dom, type: string, props: any) {\n    let newProps = props\n    if (dom instanceof FormElement) {\n      const [defaultName, defaultKey] = ['switch', 'checkbox', 'radio'].includes(type) ? ['checked', 'defaultChecked'] : ['value', 'defaultValue']\n      if (props.hasOwnProperty(defaultKey)) {\n        newProps = { ...newProps, [defaultName]: props[defaultKey] }\n        delete newProps[defaultKey]\n      }\n    }\n\n    updateProps(dom, {}, newProps) // 提前执行更新属性操作，Taro 在 Page 初始化后会立即从 dom 读取必要信息\n\n    if (type === 'input' || type === 'textarea') {\n      track(dom)\n    }\n\n    return false\n  },\n  prepareUpdate (instance, _, oldProps, newProps) {\n    return getUpdatePayload(instance, oldProps, newProps)\n  },\n  shouldSetTextContent () {\n    return false\n  },\n  createTextInstance (text: string, _rootContainerInstance: any, _hostContext: any, internalInstanceHandle: Fiber) {\n    const textNode = document.createTextNode(text)\n\n    precacheFiberNode(internalInstanceHandle, textNode)\n\n    return textNode\n  },\n  scheduleTimeout: setTimeout,\n  cancelTimeout: clearTimeout,\n  noTimeout: -1,\n  isPrimaryRenderer: true,\n  warnsIfNotActing: true,\n  supportsMutation: true,\n  supportsPersistence: false,\n  supportsHydration: false,\n  getInstanceFromNode: () => null,\n  beforeActiveInstanceBlur: noop,\n  afterActiveInstanceBlur: noop,\n  preparePortalMount: noop,\n  prepareScopeUpdate: noop,\n  getInstanceFromScope: () => null,\n  getCurrentEventPriority () {\n    return DefaultEventPriority\n  },\n  detachDeletedInstance: noop,\n\n  // -------------------\n  //      Microtasks\n  //     (optional)\n  // -------------------\n  supportsMicrotasks: true,\n  scheduleMicrotask: isUndefined(Promise)\n    ? setTimeout\n    : (callback) =>\n        Promise.resolve(null)\n          .then(callback)\n          .catch(function (error) {\n            setTimeout(() => {\n              throw error\n            })\n          }),\n\n  // -------------------\n  //      Mutation\n  //     (required if supportsMutation is true)\n  // -------------------\n  appendChild (parent, child) {\n    parent.appendChild(child)\n  },\n  appendChildToContainer (parent, child) {\n    parent.appendChild(child)\n  },\n  commitTextUpdate (textInst, _, newText) {\n    textInst.nodeValue = newText\n  },\n  commitMount: noop,\n  commitUpdate (dom, updatePayload, _, oldProps, newProps) {\n    if (!updatePayload) return\n    // payload 只包含 children 的时候，不应该再继续触发后续的属性比较和更新的逻辑了\n    if (updatePayload.length === 2 && updatePayload.includes('children')) return\n\n    updatePropsByPayload(dom, oldProps, updatePayload)\n    updateFiberProps(dom, newProps)\n  },\n  insertBefore (parent, child, refChild) {\n    parent.insertBefore(child, refChild)\n  },\n  insertInContainerBefore (parent, child, refChild) {\n    parent.insertBefore(child, refChild)\n  },\n  removeChild (parent, child) {\n    parent.removeChild(child)\n  },\n  removeChildFromContainer (parent, child) {\n    parent.removeChild(child)\n  },\n  resetTextContent: noop,\n  hideInstance (instance) {\n    const style = instance.style\n    style.setProperty('display', 'none')\n  },\n  hideTextInstance (textInstance) {\n    textInstance.nodeValue = ''\n  },\n  unhideInstance (instance, props) {\n    const styleProp = props.style as { display?: any }\n    let display = styleProp?.hasOwnProperty('display') ? styleProp.display : null\n    display = display == null || isBoolean(display) || display === '' ? '' : ('' + display).trim()\n    // eslint-disable-next-line dot-notation\n    instance.style['display'] = display\n  },\n  unhideTextInstance (textInstance, text) {\n    textInstance.nodeValue = text\n  },\n  clearContainer (element) {\n    if (element.childNodes.length > 0) {\n      element.textContent = ''\n    }\n  }\n}\n\nconst TaroReconciler = Reconciler(hostConfig)\n\nif (process.env.NODE_ENV !== 'production') {\n  const foundDevTools = TaroReconciler.injectIntoDevTools({\n    bundleType: 1,\n    version: '18.0.0',\n    rendererPackageName: 'taro-react'\n  })\n  if (!foundDevTools) {\n    // eslint-disable-next-line no-console\n    console.info(\n      '%cDownload the React DevTools ' +\n        'for a better development experience: ' +\n        'https://reactjs.org/link/react-devtools',\n      'font-weight:bold'\n    )\n  }\n}\n\nexport { TaroReconciler }\n","import { getFiberCurrentPropsFromNode, getInstanceFromNode, getNodeFromInstance } from './componentTree'\nimport { isTextInputElement, ReactDOMInputRestoreControlledState, ReactDOMTextareaRestoreControlledState, toString } from './domInput'\nimport { updateValueIfChanged } from './inputValueTracking'\nimport { TaroReconciler } from './reconciler'\n\nimport type { TaroElement, TaroEvent } from '@tarojs/runtime'\nimport type { Fiber } from 'react-reconciler'\nimport type { Props } from './props'\n\nexport type RestoreType = string | number | boolean | any[]\n\ninterface RestoreItem {\n  target: TaroElement\n  value: RestoreType\n}\n\nlet restoreQueue: RestoreItem[] | null = null\n\n// 对比 TaroElement tracker 下的 value 和事件下的 value，判断 element 的值是否存在更改\nexport function getTargetInstForInputOrChangeEvent (e: TaroEvent, node: TaroElement) {\n  const targetInst = getInstanceFromNode(node)\n  const domEventName = e.type\n\n  if (!targetInst || !isTextInputElement(node)) return\n\n  if (domEventName === 'input' || domEventName === 'change') {\n    const nextValue = toString(e.mpEvent?.detail?.value)\n\n    return getInstIfValueChanged(targetInst, nextValue)\n  }\n}\n\nfunction getInstIfValueChanged (targetInst: Fiber, nextValue: string) {\n  const targetNode = getNodeFromInstance(targetInst)\n\n  if (!targetNode) return false\n\n  if (updateValueIfChanged(targetNode, nextValue)) {\n    return targetInst\n  }\n}\n\n// 把 target 塞入更新队列中\nexport function enqueueStateRestore (target: RestoreItem): void {\n  if (restoreQueue) {\n    restoreQueue.push(target)\n  } else {\n    restoreQueue = [target]\n  }\n}\n\n// 判断是否需要恢复 target（input、textarea） 的状态\nexport function needsStateRestore (): boolean {\n  return restoreQueue !== null\n}\n\nexport function finishEventHandler () {\n  const controlledComponentsHavePendingUpdates = needsStateRestore()\n\n  if (controlledComponentsHavePendingUpdates) {\n    TaroReconciler.flushSync()\n    restoreStateIfNeeded()\n  }\n}\n\n// 遍历 restoreQueue、restoreTarget，恢复其状态\nexport function restoreStateIfNeeded () {\n  if (!restoreQueue) {\n    return\n  }\n\n  const queuedTargets = restoreQueue\n  restoreQueue = null\n\n  for (let i = 0; i < queuedTargets.length; i++) {\n    restoreStateOfTarget(queuedTargets[i])\n  }\n}\n\nfunction restoreImpl (\n  domElement: TaroElement,\n  tag: string,\n  oldValue: string | number | boolean | any[],\n  props: Props,\n): void {\n  switch (tag) {\n    case 'input':\n      ReactDOMInputRestoreControlledState(domElement, oldValue, props)\n      break\n    case 'textarea':\n      ReactDOMTextareaRestoreControlledState(domElement, oldValue, props)\n      break\n  }\n}\n\nfunction restoreStateOfTarget (item: RestoreItem) {\n  const internalInstance = getInstanceFromNode(item.target)\n\n  if (!internalInstance) return\n\n  const { stateNode, type } = internalInstance\n\n  if (stateNode) {\n    const props = getFiberCurrentPropsFromNode(stateNode)\n\n    restoreImpl(stateNode, type, item.value, props)\n  }\n}\n","import { hooks } from '@tarojs/shared'\n\nimport { markContainerAsRoot } from './componentTree'\nimport { getEventPriority } from './constant'\nimport { enqueueStateRestore, getTargetInstForInputOrChangeEvent, RestoreType } from './event'\nimport { TaroReconciler } from './reconciler'\n\nimport type { TaroElement, TaroEvent } from '@tarojs/runtime'\nimport type { ReactNode } from 'react'\nimport type { OpaqueRoot } from 'react-reconciler'\n\nexport const ContainerMap: WeakMap<TaroElement, Root> = new WeakMap()\n\ntype Renderer = typeof TaroReconciler\n\ntype CreateRootOptions = {\n  unstable_strictMode?: boolean\n  unstable_concurrentUpdatesByDefault?: boolean\n  unstable_transitionCallbacks?: any\n  identifierPrefix?: string\n  onRecoverableError?: (error: any) => void\n}\n\nexport type Callback = () => void | null | undefined\n\nclass Root {\n  private renderer: Renderer\n  public internalRoot: OpaqueRoot\n\n  public constructor (renderer: Renderer, domContainer: TaroElement, options?: CreateRootOptions) {\n    this.renderer = renderer\n    this.initInternalRoot(renderer, domContainer, options)\n  }\n\n  private initInternalRoot (renderer: Renderer, domContainer: TaroElement, options?: CreateRootOptions) {\n    // Since react-reconciler v0.27, createContainer need more parameters\n    // @see:https://github.com/facebook/react/blob/0b974418c9a56f6c560298560265dcf4b65784bc/packages/react-reconciler/src/ReactFiberReconciler.js#L248\n    const containerInfo = domContainer\n    if (options) {\n      const tag = 1 // ConcurrentRoot\n      const concurrentUpdatesByDefaultOverride = false\n      let isStrictMode = false\n      let identifierPrefix = ''\n      let onRecoverableError = (error: any) => console.error(error)\n      let transitionCallbacks = null\n      if (options.unstable_strictMode === true) {\n        isStrictMode = true\n      }\n      if (options.identifierPrefix !== undefined) {\n        identifierPrefix = options.identifierPrefix\n      }\n      if (options.onRecoverableError !== undefined) {\n        onRecoverableError = options.onRecoverableError\n      }\n      if (options.unstable_transitionCallbacks !== undefined) {\n        transitionCallbacks = options.unstable_transitionCallbacks\n      }\n\n      this.internalRoot = renderer.createContainer(\n        containerInfo,\n        tag,\n        null, // hydrationCallbacks\n        isStrictMode,\n        concurrentUpdatesByDefaultOverride,\n        identifierPrefix,\n        onRecoverableError,\n        transitionCallbacks\n      )\n    } else {\n      const tag = 0 // LegacyRoot\n      this.internalRoot = renderer.createContainer(\n        containerInfo,\n        tag,\n        null, // hydrationCallbacks\n        false, // isStrictMode\n        false, // concurrentUpdatesByDefaultOverride,\n        '', // identifierPrefix\n        () => {}, // onRecoverableError, this isn't reachable because onRecoverableError isn't called in the legacy API.\n        null // transitionCallbacks\n      )\n    }\n  }\n\n  public render (children: ReactNode, cb: Callback) {\n    const { renderer, internalRoot } = this\n    renderer.updateContainer(children, internalRoot, null, cb)\n    return renderer.getPublicRootInstance(internalRoot)\n  }\n\n  public unmount (cb: Callback) {\n    this.renderer.updateContainer(null, this.internalRoot, null, cb)\n  }\n}\n\nexport function render (element: ReactNode, domContainer: TaroElement, cb: Callback) {\n  const oldRoot = ContainerMap.get(domContainer)\n  if (oldRoot != null) {\n    return oldRoot.render(element, cb)\n  }\n\n  const root = new Root(TaroReconciler, domContainer)\n  ContainerMap.set(domContainer, root)\n  return root.render(element, cb)\n}\n\nexport function createRoot (domContainer: TaroElement, options: CreateRootOptions = {}) {\n  const oldRoot = ContainerMap.get(domContainer)\n  if (oldRoot != null) {\n    return oldRoot\n  }\n  // options should be an object\n  const root = new Root(TaroReconciler, domContainer, options)\n  ContainerMap.set(domContainer, root)\n\n  markContainerAsRoot(root?.internalRoot?.current, domContainer)\n\n  hooks.tap('dispatchTaroEvent', (e: TaroEvent, node: TaroElement) => {\n    const eventPriority = getEventPriority(e.type)\n\n    TaroReconciler.runWithPriority(eventPriority, () => {\n      node.dispatchEvent(e)\n    })\n  })\n\n  // 对比 event.detail.value 和 node.tracker.value，判断 value 值是否有变动，存在变动则塞入队列中\n  hooks.tap('modifyTaroEvent', (e: TaroEvent, node: TaroElement) => {\n    const inst = getTargetInstForInputOrChangeEvent(e, node)\n\n    if (!inst) return\n\n    // 这里塞入的是 event.detail.value，也就是事件的值，在受控组件中，你可以理解为需要被变更的值\n    // 后续会在 finishEventHandler 中，使用最新的 fiber.props.value 来与其比较\n    // 如果不一致，则表示需要更新，会执行 node.value = fiber.props.value 的更新操作\n    const nextValue = e.mpEvent?.detail?.value as unknown as RestoreType\n    enqueueStateRestore({ target: node, value: nextValue })\n  })\n\n  return root\n}\n","import { isString, isUndefined } from '@tarojs/shared'\n\nimport env from '../env'\nimport { URLSearchParams } from './URLSearchParams'\n\nclass TaroURL {\n  static createObjectURL () {\n    throw new Error('Oops, not support URL.createObjectURL() in miniprogram.')\n  }\n\n  static revokeObjectURL () {\n    throw new Error('Oops, not support URL.revokeObjectURL() in miniprogram.')\n  }\n\n  /* private property */\n  #hash = ''\n  #hostname = ''\n  #pathname = ''\n  #port = ''\n  #protocol = ''\n  #search: URLSearchParams\n\n  constructor (url: string, base?: string) {\n    if (!isString(url)) url = String(url)\n\n    const parseResult = parseUrlBase(url, base)\n    const { hash, hostname, pathname, port, protocol, search } = parseResult\n\n    this.#hash = hash\n    this.#hostname = hostname\n    this.#pathname = pathname || '/'\n    this.#port = port\n    this.#protocol = protocol\n    this.#search = new URLSearchParams(search)\n  }\n\n  /* public property */\n  get protocol () {\n    return this.#protocol\n  }\n\n  set protocol (val: string) {\n    isString(val) && (this.#protocol = val.trim())\n  }\n\n  get host () {\n    return this.hostname + (this.port ? ':' + this.port : '')\n  }\n\n  set host (val: string) {\n    if (val && isString(val)) {\n      val = val.trim()\n      const { hostname, port } = parseUrl(`//${val}`)\n      this.hostname = hostname\n      this.port = port\n    }\n  }\n\n  get hostname () {\n    return this.#hostname\n  }\n\n  set hostname (val: string) {\n    val && isString(val) && (this.#hostname = val.trim())\n  }\n\n  get port () {\n    return this.#port\n  }\n\n  set port (val: string) {\n    isString(val) && (this.#port = val.trim())\n  }\n\n  get pathname () {\n    return this.#pathname\n  }\n\n  set pathname (val: string) {\n    if (isString(val)) {\n      val = val.trim()\n      const HEAD_REG = /^(\\/|\\.\\/|\\.\\.\\/)/\n      let temp = val\n      while (HEAD_REG.test(temp)) {\n        temp = temp.replace(HEAD_REG, '')\n      }\n      if (temp) this.#pathname = '/' + temp\n      else this.#pathname = '/'\n    }\n  }\n\n  get search () {\n    const val = this.#search.toString()\n    return (val.length === 0 || val.startsWith('?')) ? val : `?${val}`\n  }\n\n  set search (val: string) {\n    if (isString(val)) {\n      val = val.trim()\n      this.#search = new URLSearchParams(val)\n    }\n  }\n\n  get hash () {\n    return this.#hash\n  }\n\n  set hash (val: string) {\n    if (isString(val)) {\n      val = val.trim()\n      if (val) this.#hash = val.startsWith('#') ? val : `#${val}`\n      else this.#hash = ''\n    }\n  }\n\n  get href () {\n    return `${this.protocol}//${this.host}${this.pathname}${this.search}${this.hash}`\n  }\n\n  set href (val: string) {\n    if (val && isString(val)) {\n      val = val.trim()\n      const { protocol, hostname, port, hash, search, pathname } = parseUrl(val)\n      this.protocol = protocol\n      this.hostname = hostname\n      this.pathname = pathname\n      this.port = port\n      this.hash = hash\n      this.search = search\n    }\n  }\n\n  get origin () {\n    return `${this.protocol}//${this.host}`\n  }\n\n  set origin (val: string) {\n    if (val && isString(val)) {\n      val = val.trim()\n      const { protocol, hostname, port } = parseUrl(val)\n      this.protocol = protocol\n      this.hostname = hostname\n      this.port = port\n    }\n  }\n\n  get searchParams () {\n    return this.#search\n  }\n\n  // public method\n  toString () {\n    return this.href\n  }\n\n  toJSON () {\n    return this.toString()\n  }\n\n  // convenient for deconstructor\n  _toRaw () {\n    return {\n      protocol: this.protocol,\n      port: this.port,\n      host: this.host,\n      hostname: this.hostname,\n      pathname: this.pathname,\n      hash: this.hash,\n      search: this.search,\n      origin: this.origin,\n      href: this.href,\n    }\n  }\n}\n\nexport type { TaroURL }\n\n// Note: 小程序端 vite 打包成 commonjs，const URL = xxx 会报错，所以把 URL 改为 TaroURLProvider\nexport const TaroURLProvider: typeof TaroURL = process.env.TARO_PLATFORM === 'web' ? env.window.URL : TaroURL\n\nexport function parseUrl (url = '') {\n  const result = {\n    href: '',\n    origin: '',\n    protocol: '',\n    hostname: '',\n    host: '',\n    port: '',\n    pathname: '',\n    search: '',\n    hash: ''\n  }\n  if (!url || !isString(url)) return result\n\n  url = url.trim()\n  const PATTERN = /^(([^:/?#]+):)?\\/\\/(([^/?#]+):(.+)@)?([^/?#:]*)(:(\\d+))?([^?#]*)(\\?([^#]*))?(#(.*))?/\n  const matches = url.match(PATTERN)\n\n  if (!matches) return result\n\n  // TODO: username & password ?\n  result.protocol = matches[1] || 'https:'\n  result.hostname = matches[6] || 'taro.com'\n  result.port = matches[8] || ''\n  result.pathname = matches[9] || '/'\n  result.search = matches[10] || ''\n  result.hash = matches[12] || ''\n  result.href = url\n  result.origin = result.protocol + '//' + result.hostname + (result.port ? `:${result.port}` : '')\n  result.host = result.hostname + (result.port ? `:${result.port}` : '')\n\n  return result\n}\n\nfunction parseUrlBase (url: string, base?: string) {\n  const VALID_URL = /^(https?:)\\/\\//i\n\n  let fullUrl = ''\n  let parsedBase: ReturnType<typeof parseUrl> | null = null\n\n  if (!isUndefined(base)) {\n    base = String(base).trim()\n    if (!VALID_URL.test(base)) throw new TypeError(`Failed to construct 'URL': Invalid base URL`)\n    parsedBase = parseUrl(base)\n  }\n\n  url = String(url).trim()\n\n  if (VALID_URL.test(url)) {\n    fullUrl = url\n  } else if (parsedBase) {\n    if (url) {\n      if (url.startsWith('//')) {\n        fullUrl = parsedBase.protocol + url\n      } else {\n        fullUrl = parsedBase.origin + (url.startsWith('/') ? url : `/${url}`)\n      }\n    } else {\n      fullUrl = parsedBase.href\n    }\n  } else {\n    throw new TypeError(`Failed to construct 'URL': Invalid URL`)\n  }\n\n  return parseUrl(fullUrl)\n}\n","import { isArray } from '@tarojs/shared'\n\nimport env from '../env'\n\nconst findReg = /[!'()~]|%20|%00/g\nconst plusReg = /\\+/g\nconst replaceCharMap = {\n  '!': '%21',\n  \"'\": '%27',\n  '(': '%28',\n  ')': '%29',\n  '~': '%7E',\n  '%20': '+',\n  '%00': '\\x00',\n}\n\nfunction replacer (match: string) {\n  return replaceCharMap[match]\n}\n\nfunction appendTo (dict: Record<string, string[]>, name: string, value: string) {\n  const res = isArray(value) ? value.join(',') : value\n  if (name in dict) dict[name].push(res)\n  else dict[name] = [res]\n}\n\nfunction addEach (value: string, key: string) {\n  appendTo(this, key, value)\n}\n\nfunction decode (str: string) {\n  return decodeURIComponent(str.replace(plusReg, ' '))\n}\n\nfunction encode (str: string) {\n  return encodeURIComponent(str).replace(findReg, replacer)\n}\n\nexport const URLSearchParams = process.env.TARO_PLATFORM === 'web' ? env.window.URLSearchParams : class {\n  #dict = Object.create(null)\n\n  constructor (query) {\n    query ??= ''\n\n    const dict = this.#dict\n\n    if (typeof query === 'string') {\n      if (query.charAt(0) === '?') {\n        query = query.slice(1)\n      }\n      for (let pairs = query.split('&'), i = 0, length = pairs.length; i < length; i++) {\n        const value = pairs[i]\n        const index = value.indexOf('=')\n\n        // 针对不规范的 url 参数做容错处理，如：word=你%好\n        try {\n          if (index > -1) {\n            appendTo(dict, decode(value.slice(0, index)), decode(value.slice(index + 1)))\n          } else if (value.length) {\n            appendTo(dict, decode(value), '')\n          }\n        } catch (err) {\n          if (process.env.NODE_ENV !== 'production') {\n            console.warn(`[Taro warn] URL 参数 ${value} decode 异常`)\n          }\n        }\n      }\n    } else {\n      if (isArray(query)) {\n        for (let i = 0, length = query.length; i < length; i++) {\n          const value = query[i]\n          appendTo(dict, value[0], value[1])\n        }\n      } else if (query.forEach) {\n        query.forEach(addEach, dict)\n      } else {\n        for (const key in query) {\n          appendTo(dict, key, query[key])\n        }\n      }\n    }\n  }\n\n  append (name: string, value: string) {\n    appendTo(this.#dict, name, value)\n  }\n\n  delete (name: string) {\n    delete this.#dict[name]\n  }\n\n  get (name: string) {\n    const dict = this.#dict\n    return name in dict ? dict[name][0] : null\n  }\n\n  getAll (name: string) {\n    const dict = this.#dict\n    return name in dict ? dict[name].slice(0) : []\n  }\n\n  has (name: string) {\n    return name in this.#dict\n  }\n\n  keys () {\n    return Object.keys(this.#dict)\n  }\n\n  set (name: string, value: string) {\n    this.#dict[name] = ['' + value]\n  }\n\n  forEach (callback, thisArg) {\n    const dict = this.#dict\n    Object.getOwnPropertyNames(dict).forEach(function (name) {\n      dict[name].forEach(function (value: string) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  toJSON () {\n    return {}\n  }\n\n  toString () {\n    const dict = this.#dict\n    const query: any[] = []\n    for (const key in dict) {\n      const name = encode(key)\n      for (let i = 0, value = dict[key]; i < value.length; i++) {\n        query.push(name + '=' + encode(value[i]))\n      }\n    }\n    return query.join('&')\n  }\n}\n","import { parseUrl } from '../bom/URL'\nimport { TaroElement } from './element'\n\nconst enum AnchorElementAttrs {\n  HREF = 'href',\n  PROTOCOL = 'protocol',\n  HOST = 'host',\n  SEARCH = 'search',\n  HASH = 'hash',\n  HOSTNAME = 'hostname',\n  PORT = 'port',\n  PATHNAME = 'pathname'\n}\n\nexport class AnchorElement extends TaroElement {\n  public get href () {\n    return this.props[AnchorElementAttrs.HREF] ?? ''\n  }\n\n  public set href (val: string) {\n    this.setAttribute(AnchorElementAttrs.HREF, val)\n  }\n\n  get protocol () {\n    return this.props[AnchorElementAttrs.PROTOCOL] ?? ''\n  }\n\n  get host () {\n    return this.props[AnchorElementAttrs.HOST] ?? ''\n  }\n\n  get search () {\n    return this.props[AnchorElementAttrs.SEARCH] ?? ''\n  }\n\n  get hash () {\n    return this.props[AnchorElementAttrs.HASH] ?? ''\n  }\n\n  get hostname () {\n    return this.props[AnchorElementAttrs.HOSTNAME] ?? ''\n  }\n\n  get port () {\n    return this.props[AnchorElementAttrs.PORT] ?? ''\n  }\n\n  get pathname () {\n    return this.props[AnchorElementAttrs.PATHNAME] ?? ''\n  }\n\n  public setAttribute (qualifiedName: string, value: any): void {\n    if (qualifiedName === AnchorElementAttrs.HREF) {\n      const willSetAttr = parseUrl(value)\n      for (const k in willSetAttr) {\n        super.setAttribute(k, willSetAttr[k])\n      }\n    } else {\n      super.setAttribute(qualifiedName, value)\n    }\n  }\n}\n","import { TaroElement } from './element'\n\nexport class TransferElement extends TaroElement {\n  public isTransferElement = true\n\n  constructor (public dataName: string) {\n    super()\n  }\n\n  public get _path () {\n    return this.dataName\n  }\n}\n","import { controlledComponent, isUndefined, toCamelCase } from '@tarojs/shared'\n\nimport {\n  A,\n  COMMENT,\n  DOCUMENT_ELEMENT_NAME,\n  ROOT_STR\n} from '../constants'\nimport { TaroElement } from '../dom/element'\nimport { createEvent } from '../dom/event'\nimport { eventSource } from '../dom/event-source'\nimport { FormElement } from '../dom/form'\nimport { NodeType } from '../dom/node_types'\nimport { TaroRootElement } from '../dom/root'\nimport { TaroText } from '../dom/text'\nimport env from '../env'\nimport { AnchorElement } from './anchor-element'\nimport { TransferElement } from './transfer'\n\nexport class TaroDocument extends TaroElement {\n  public documentElement: TaroElement\n  public head: TaroElement\n  public body: TaroElement\n  public createEvent = createEvent\n  cookie?: string\n\n  public constructor () {\n    super()\n    this.nodeType = NodeType.DOCUMENT_NODE\n    this.nodeName = DOCUMENT_ELEMENT_NAME\n  }\n\n  public createElement (type: string): TaroElement | TaroRootElement | FormElement {\n    const nodeName = type.toLowerCase()\n\n    let element: TaroElement\n    switch (true) {\n      case nodeName === ROOT_STR:\n        element = new TaroRootElement()\n        return element\n      case controlledComponent.has(nodeName):\n        element = new FormElement()\n        break\n      case nodeName === A:\n        element = new AnchorElement()\n        break\n      case nodeName === 'page-meta':\n      case nodeName === 'navigation-bar':\n        element = new TransferElement(toCamelCase(nodeName))\n        break\n      default:\n        element = new TaroElement()\n        break\n    }\n\n    element.nodeName = nodeName\n    element.tagName = type.toUpperCase()\n\n    return element\n  }\n\n  // an ugly fake createElementNS to deal with @vue/runtime-dom's\n  // support mounting app to svg container since vue@3.0.8\n  public createElementNS (_svgNS: string, type: string): TaroElement | TaroRootElement | FormElement {\n    return this.createElement(type)\n  }\n\n  public createTextNode (text: string): TaroText {\n    return new TaroText(text)\n  }\n\n  public getElementById<T extends TaroElement> (id: string | undefined | null): T | null {\n    const el = eventSource.get(id)\n    return isUndefined(el) ? null : el as T\n  }\n\n  public querySelector<T extends TaroElement> (query: string): T | null {\n    // 为了 Vue3 的乞丐版实现\n    if (/^#/.test(query)) {\n      return this.getElementById<T>(query.slice(1))\n    }\n    return null\n  }\n\n  public querySelectorAll () {\n    // fake hack\n    return []\n  }\n\n  // @TODO: @PERF: 在 hydrate 移除掉空的 node\n  public createComment (): TaroText {\n    const textnode = new TaroText('')\n    textnode.nodeName = COMMENT\n    return textnode\n  }\n\n  get defaultView () {\n    return env.window\n  }\n}\n","import {\n  APP,\n  BODY,\n  CONTAINER,\n  HEAD,\n  HTML\n} from '../constants'\nimport { TaroDocument } from '../dom/document'\nimport env from '../env'\n\nfunction createDocument (): TaroDocument {\n  /**\n     * <document>\n     *   <html>\n     *     <head></head>\n     *     <body>\n     *       <container>\n     *         <app id=\"app\" />\n     *       </container>\n     *     </body>\n     *   </html>\n     * </document>\n     */\n  const doc = new TaroDocument()\n  const documentCreateElement = doc.createElement.bind(doc)\n  const html = documentCreateElement(HTML)\n  const head = documentCreateElement(HEAD)\n  const body = documentCreateElement(BODY)\n  const app = documentCreateElement(APP)\n  app.id = APP\n  const container = documentCreateElement(CONTAINER) // 多包一层主要为了兼容 vue\n\n  doc.appendChild(html)\n  html.appendChild(head)\n  html.appendChild(body)\n  body.appendChild(container)\n  container.appendChild(app)\n\n  doc.documentElement = html\n  doc.head = head\n  doc.body = body\n\n  return doc\n}\n\n// Note: 小程序端 vite 打包成 commonjs，const document = xxx 会报错，所以把 document 改为 taroDocumentProvider\nexport const taroDocumentProvider: TaroDocument = process.env.TARO_PLATFORM === 'web' ? env.document : (env.document = createDocument())\n","import env from '../env'\n\nimport type { TaroElement } from '../dom/element'\nimport type { Style } from '../dom/style'\n\nexport type TGetComputedStyle = typeof window.getComputedStyle | ((el: TaroElement) => Style)\n\n// Note: 小程序端 vite 打包成 commonjs，const getComputedStyle = xxx 会报错，所以把 GetComputedStyle 改为 taroGetComputedStyleProvider\nexport const taroGetComputedStyleProvider: TGetComputedStyle = process.env.TARO_PLATFORM === 'web' ? env.window.getComputedStyle : function (element: TaroElement): Style {\n  return element.style\n}\n","import { isNumber, isString } from '@tarojs/shared'\n\nimport { CONTEXT_ACTIONS } from '../constants'\nimport { Events } from '../emitter/emitter'\nimport env from '../env'\nimport { RuntimeCache } from '../utils/cache'\n\nimport type { TaroLocation } from './location'\n\nexport interface HistoryState {\n  state: Record<string, any> | null\n  title: string\n  url: string\n}\n\ntype Options = {\n  window: any\n}\ntype HistoryContext = {\n  location: TaroLocation\n  stack: HistoryState[]\n  cur: number\n}\nconst cache = new RuntimeCache<HistoryContext>('history')\n\nclass TaroHistory extends Events {\n  /* private property */\n  #location: TaroLocation\n  #stack: HistoryState[] = []\n  #cur = 0\n\n  #window: any\n\n  constructor (location: TaroLocation, options: Options) {\n    super()\n\n    this.#window = options.window\n    this.#location = location\n\n    this.#location.on('__record_history__', (href: string) => {\n      this.#cur++\n      this.#stack = this.#stack.slice(0, this.#cur)\n      this.#stack.push({\n        state: null,\n        title: '',\n        url: href\n      })\n    }, null)\n\n    this.#location.on('__reset_history__', (href: string) => {\n      this.#reset(href)\n    }, null)\n\n    // 切换上下文行为\n\n    this.on(CONTEXT_ACTIONS.INIT, () => {\n      this.#reset()\n    }, null)\n\n    this.on(CONTEXT_ACTIONS.RESTORE, (pageId: string) => {\n      cache.set(pageId, {\n        location: this.#location,\n        stack: this.#stack.slice(),\n        cur: this.#cur\n      })\n    }, null)\n\n    this.on(CONTEXT_ACTIONS.RECOVER, (pageId: string) => {\n      if (cache.has(pageId)) {\n        const ctx = cache.get(pageId)!\n        this.#location = ctx.location\n        this.#stack = ctx.stack\n        this.#cur = ctx.cur\n      }\n    }, null)\n\n    this.on(CONTEXT_ACTIONS.DESTORY, (pageId: string) => {\n      cache.delete(pageId)\n    }, null)\n\n    this.#reset()\n  }\n\n  #reset (href = '') {\n    this.#stack = [\n      {\n        state: null,\n        title: '',\n        url: href || this.#location.href\n      }\n    ]\n    this.#cur = 0\n  }\n\n  /* public property */\n  get length () {\n    return this.#stack.length\n  }\n\n  get state () {\n    return this.#stack[this.#cur].state\n  }\n\n  /* public method */\n  go (delta: number) {\n    if (!isNumber(delta) || isNaN(delta)) return\n\n    let targetIdx = this.#cur + delta\n    targetIdx = Math.min(Math.max(targetIdx, 0), this.length - 1)\n\n    this.#cur = targetIdx\n\n    this.#location.trigger('__set_href_without_history__', this.#stack[this.#cur].url)\n    this.#window.trigger('popstate', this.#stack[this.#cur])\n  }\n\n  back () {\n    this.go(-1)\n  }\n\n  forward () {\n    this.go(1)\n  }\n\n  pushState (state: any, title: string, url: string) {\n    if (!url || !isString(url)) return\n    this.#stack = this.#stack.slice(0, this.#cur + 1)\n    this.#stack.push({\n      state,\n      title,\n      url\n    })\n    this.#cur = this.length - 1\n\n    this.#location.trigger('__set_href_without_history__', url)\n  }\n\n  replaceState (state: any, title: string, url: string) {\n    if (!url || !isString(url)) return\n    this.#stack[this.#cur] = {\n      state,\n      title,\n      url\n    }\n\n    this.#location.trigger('__set_href_without_history__', url)\n  }\n\n  // For debug\n  get cache () {\n    return cache\n  }\n}\n\nexport type { TaroHistory }\nexport const History: typeof TaroHistory = process.env.TARO_PLATFORM === 'web' ? env.window.History : TaroHistory\n","import { isNumber, isString, warn } from '@tarojs/shared'\n\nimport { CONTEXT_ACTIONS } from '../constants'\nimport { getCurrentInstance } from '../current'\nimport { Events } from '../emitter/emitter'\nimport env from '../env'\nimport { RuntimeCache } from '../utils/cache'\nimport { TaroURLProvider } from './URL'\n\ntype PreValue = ReturnType<typeof TaroURLProvider.prototype._toRaw>\n\ntype Options = {\n  window: any\n}\ntype LocationContext = {\n  lastHref: string\n}\n\nconst INIT_URL = 'https://taro.com'\nconst cache = new RuntimeCache<LocationContext>('location')\n\nclass TaroLocation extends Events {\n  /* private property */\n  #url = new TaroURLProvider(INIT_URL)\n  #noCheckUrl = false\n  #window: any\n\n  constructor (options: Options) {\n    super()\n\n    this.#window = options.window\n\n    this.#reset()\n\n    this.on(\n      '__set_href_without_history__',\n      (href: string) => {\n        this.#noCheckUrl = true\n\n        const lastHash = this.#url.hash\n        this.#url.href = generateFullUrl(href)\n\n        if (lastHash !== this.#url.hash) {\n          this.#window.trigger('hashchange')\n        }\n\n        this.#noCheckUrl = false\n      },\n      null\n    )\n\n    // 切换上下文行为\n    this.on(\n      CONTEXT_ACTIONS.INIT,\n      () => {\n        this.#reset()\n      },\n      null\n    )\n\n    this.on(\n      CONTEXT_ACTIONS.RESTORE,\n      (pageId: string) => {\n        cache.set(pageId, {\n          lastHref: this.href,\n        })\n      },\n      null\n    )\n\n    this.on(\n      CONTEXT_ACTIONS.RECOVER,\n      (pageId: string) => {\n        // 数据恢复时，不需要执行跳转\n        if (cache.has(pageId)) {\n          const ctx = cache.get(pageId)!\n          this.#noCheckUrl = true\n          this.#url.href = ctx.lastHref\n          this.#noCheckUrl = false\n        }\n      },\n      null\n    )\n\n    this.on(\n      CONTEXT_ACTIONS.DESTORY,\n      (pageId: string) => {\n        cache.delete(pageId)\n      },\n      null\n    )\n  }\n\n  /* private method */\n  #reset () {\n    const Current = getCurrentInstance()\n    const router = Current.router\n    if (router) {\n      const { path, params } = router\n      const searchArr = Object.keys(params).map((key) => {\n        return `${key}=${params[key]}`\n      })\n      const searchStr = searchArr.length > 0 ? '?' + searchArr.join('&') : ''\n      const url = `${INIT_URL}${path.startsWith('/') ? path : '/' + path}${searchStr}`\n\n      this.#url = new TaroURLProvider(url)\n\n      this.trigger('__reset_history__', this.href)\n    }\n  }\n\n  #getPreValue (): PreValue {\n    return this.#url._toRaw()\n  }\n\n  #rollBack (href: string) {\n    this.#url.href = href\n  }\n\n  #recordHistory () {\n    this.trigger('__record_history__', this.href)\n  }\n\n  /**\n   * 校验url的变化，是否需要更新history\n   */\n  #checkUrlChange (preValue: PreValue): boolean {\n    if (this.#noCheckUrl) {\n      return false\n    }\n\n    const { protocol, hostname, port, pathname, search, hash } = this.#url._toRaw()\n\n    // 跨域三要素不允许修改\n    if (protocol !== preValue.protocol || hostname !== preValue.hostname || port !== preValue.port) {\n      this.#rollBack(preValue.href)\n      return false\n    }\n\n    // pathname\n    if (pathname !== preValue.pathname) {\n      return true\n    }\n\n    // search\n    if (search !== preValue.search) {\n      return true\n    }\n\n    // hashchange\n    if (hash !== preValue.hash) {\n      this.#window.trigger('hashchange')\n      return true\n    }\n\n    this.#rollBack(preValue.href)\n    return false\n  }\n\n  /* public property */\n  get protocol () {\n    return this.#url.protocol\n  }\n\n  set protocol (val: string) {\n    const REG = /^(http|https):$/i\n    if (!val || !isString(val) || !REG.test(val.trim())) return\n\n    val = val.trim()\n    const preValue = this.#getPreValue()\n    this.#url.protocol = val\n\n    if (this.#checkUrlChange(preValue)) this.#recordHistory()\n  }\n\n  get host () {\n    return this.#url.host\n  }\n\n  set host (val: string) {\n    if (!val || !isString(val)) return\n    val = val.trim()\n\n    const preValue = this.#getPreValue()\n    this.#url.host = val\n\n    if (this.#checkUrlChange(preValue)) this.#recordHistory()\n  }\n\n  get hostname () {\n    return this.#url.hostname\n  }\n\n  set hostname (val: string) {\n    if (!val || !isString(val)) return\n    val = val.trim()\n\n    const preValue = this.#getPreValue()\n    this.#url.hostname = val\n\n    if (this.#checkUrlChange(preValue)) this.#recordHistory()\n  }\n\n  get port () {\n    return this.#url.port\n  }\n\n  set port (val: string) {\n    const xVal = Number((val = val.trim()))\n    if (!isNumber(xVal) || xVal <= 0) return\n\n    const preValue = this.#getPreValue()\n    this.#url.port = val\n\n    if (this.#checkUrlChange(preValue)) this.#recordHistory()\n  }\n\n  get pathname () {\n    return this.#url.pathname\n  }\n\n  set pathname (val: string) {\n    if (!val || !isString(val)) return\n    val = val.trim()\n\n    const preValue = this.#getPreValue()\n    this.#url.pathname = val\n\n    if (this.#checkUrlChange(preValue)) this.#recordHistory()\n  }\n\n  get search () {\n    return this.#url.search\n  }\n\n  set search (val: string) {\n    if (!val || !isString(val)) return\n    val = val.trim()\n    val = val.startsWith('?') ? val : `?${val}`\n\n    const preValue = this.#getPreValue()\n    this.#url.search = val\n\n    if (this.#checkUrlChange(preValue)) this.#recordHistory()\n  }\n\n  get hash () {\n    return this.#url.hash\n  }\n\n  // 小程序的navigateTo存在截断hash字符串的问题\n  set hash (val: string) {\n    if (!val || !isString(val)) return\n    val = val.trim()\n    val = val.startsWith('#') ? val : `#${val}`\n\n    const preValue = this.#getPreValue()\n    this.#url.hash = val\n\n    if (this.#checkUrlChange(preValue)) this.#recordHistory()\n  }\n\n  get href () {\n    return this.#url.href\n  }\n\n  set href (val: string) {\n    const REG = /^(http:|https:)?\\/\\/.+/\n    if (!val || !isString(val) || !REG.test((val = val.trim()))) return\n\n    const preValue = this.#getPreValue()\n    this.#url.href = val\n\n    if (this.#checkUrlChange(preValue)) this.#recordHistory()\n  }\n\n  get origin () {\n    return this.#url.origin\n  }\n\n  set origin (val: string) {\n    const REG = /^(http:|https:)?\\/\\/.+/\n    if (!val || !isString(val) || !REG.test((val = val.trim()))) return\n\n    const preValue = this.#getPreValue()\n    this.#url.origin = val\n\n    if (this.#checkUrlChange(preValue)) this.#recordHistory()\n  }\n\n  /* public method */\n  assign () {\n    warn(true, '小程序环境中调用location.assign()无效.')\n  }\n\n  reload () {\n    warn(true, '小程序环境中调用location.reload()无效.')\n  }\n\n  replace (url: string) {\n    this.trigger('__set_href_without_history__', url)\n  }\n\n  toString () {\n    return this.href\n  }\n\n  // For debug\n  get cache () {\n    return cache\n  }\n}\n\nexport type { TaroLocation }\nexport const Location: typeof TaroLocation = process.env.TARO_PLATFORM === 'web' ? env.window.Location : TaroLocation\n\nfunction generateFullUrl (val = '') {\n  const origin = INIT_URL\n  if (/^[/?#]/.test(val)) {\n    return origin + val\n  }\n  return val\n}\n","import env from '../env'\n\nconst machine = 'Macintosh'\nconst arch = 'Intel Mac OS X 10_14_5'\nconst engine = 'AppleWebKit/534.36 (KHTML, like Gecko) NodeJS/v4.1.0 Chrome/76.0.3809.132 Safari/534.36'\n\nconst msg = '(' + machine + '; ' + arch + ') ' + engine\n\nexport const nav: typeof window.navigator = process.env.TARO_PLATFORM === 'web' ? env.window.navigator : {\n  appCodeName: 'Mozilla',\n  appName: 'Netscape',\n  appVersion: '5.0 ' + msg,\n  cookieEnabled: true,\n  mimeTypes: [],\n  onLine: true,\n  platform: 'MacIntel',\n  plugins: [],\n  product: 'Taro',\n  productSub: '20030107',\n  userAgent: 'Mozilla/5.0 ' + msg,\n  vendor: 'Joyent',\n  vendorSub: ''\n}\n","// https://github.com/myrne/performance-now\nexport let now: () => number\n\n(function () {\n  let loadTime\n  if ((typeof performance !== 'undefined' && performance !== null) && performance.now) {\n    now = () => performance.now()\n  } else if (Date.now) {\n    loadTime = Date.now()\n    now = () => Date.now() - loadTime\n  } else {\n    loadTime = new Date().getTime()\n    now = () => new Date().getTime() - loadTime\n  }\n})()\n\nlet lastTime = 0\n\n// https://gist.github.com/paulirish/1579671\n// https://gist.github.com/jalbam/5fe05443270fa6d8136238ec72accbc0\nconst _raf = process.env.TARO_PLATFORM === 'web' ? requestAnimationFrame : function (callback) {\n  const _now = now()\n  const nextTime = Math.max(lastTime + 16, _now) // First time will execute it immediately but barely noticeable and performance is gained.\n  return setTimeout(function () { callback(lastTime = nextTime) }, nextTime - _now)\n}\n\nconst _caf = process.env.TARO_PLATFORM === 'web'\n  ? cancelAnimationFrame\n  : function (seed) {\n    // fix https://github.com/NervJS/taro/issues/7749\n    clearTimeout(seed)\n  }\n\nexport {\n  _caf as caf,\n  _raf as raf\n}\n","import { isString } from '@tarojs/shared'\n\nimport { CONTEXT_ACTIONS } from '../constants'\nimport { Events } from '../emitter/emitter'\nimport env from '../env'\nimport { taroGetComputedStyleProvider } from './getComputedStyle'\nimport { History } from './history'\nimport { Location } from './location'\nimport { nav as navigator } from './navigator'\nimport { caf, raf } from './raf'\n\nimport type { TaroHistory } from './history'\nimport type { TaroLocation } from './location'\n\nclass TaroWindow extends Events {\n  navigator = navigator\n  requestAnimationFrame = raf\n  cancelAnimationFrame = caf\n  getComputedStyle = taroGetComputedStyleProvider\n  Date: DateConstructor\n\n  location: TaroLocation\n  history: TaroHistory\n  XMLHttpRequest?: Partial<XMLHttpRequest>\n\n  constructor () {\n    super()\n\n    const globalProperties = [\n      ...Object.getOwnPropertyNames(global || {}),\n      ...Object.getOwnPropertySymbols(global || {})\n    ]\n\n    globalProperties.forEach(property => {\n      if (property === 'atob' || property === 'document') return\n      if (!Object.prototype.hasOwnProperty.call(this, property)) {\n        // 防止小程序环境下，window 上的某些 get 属性在赋值时报错\n        try {\n          this[property] = global[property]\n        } catch (e) {\n          if (process.env.NODE_ENV !== 'production') {\n            console.warn(`[Taro warn] window.${String(property)} 在赋值到 window 时报错`)\n          }\n        }\n      }\n    })\n\n    this.Date ||= Date\n\n    // 应用启动时，提供给需要读取历史信息的库使用\n    this.location = new Location({ window: this }) as any\n    // @ts-ignore\n    this.history = new History(this.location, { window: this })\n\n    this.initEvent()\n  }\n\n  initEvent () {\n    const _location = this.location\n    const _history = this.history\n\n    this.on(CONTEXT_ACTIONS.INIT, (pageId: string) => {\n      // 页面onload，为该页面建立新的上下文信息\n      _location.trigger(CONTEXT_ACTIONS.INIT, pageId)\n    }, null)\n\n    this.on(CONTEXT_ACTIONS.RECOVER, (pageId: string) => {\n      // 页面onshow，恢复当前页面的上下文信息\n      _location.trigger(CONTEXT_ACTIONS.RECOVER, pageId)\n      _history.trigger(CONTEXT_ACTIONS.RECOVER, pageId)\n    }, null)\n\n    this.on(CONTEXT_ACTIONS.RESTORE, (pageId: string) => {\n      // 页面onhide，缓存当前页面的上下文信息\n      _location.trigger(CONTEXT_ACTIONS.RESTORE, pageId)\n      _history.trigger(CONTEXT_ACTIONS.RESTORE, pageId)\n    }, null)\n\n    this.on(CONTEXT_ACTIONS.DESTORY, (pageId: string) => {\n      // 页面onunload，清除当前页面的上下文信息\n      _location.trigger(CONTEXT_ACTIONS.DESTORY, pageId)\n      _history.trigger(CONTEXT_ACTIONS.DESTORY, pageId)\n    }, null)\n  }\n\n  get document () {\n    return env.document\n  }\n\n  addEventListener (event: string, callback: (arg: any) => void) {\n    if (!isString(event)) return\n    this.on(event, callback, null)\n  }\n\n  removeEventListener (event: string, callback: (arg: any) => void) {\n    if (!isString(event)) return\n    this.off(event, callback, null)\n  }\n\n  setTimeout (...args: Parameters<typeof setTimeout>) {\n    return setTimeout(...args)\n  }\n\n  clearTimeout (...args: Parameters<typeof clearTimeout>) {\n    return clearTimeout(...args)\n  }\n}\n\nexport type { TaroWindow }\n\n// Note: 小程序端 vite 打包成 commonjs，const window = xxx 会报错，所以把 window 改为 taroWindowProvider，location 和 history 同理\nexport const taroWindowProvider: TaroWindow = process.env.TARO_PLATFORM === 'web' ? env.window : (env.window = new TaroWindow())\nexport const taroLocationProvider = taroWindowProvider.location\nexport const taroHistoryProvider = taroWindowProvider.history\n","export const PROPERTY_THRESHOLD = 2046\nexport const TARO_RUNTIME = 'Taro runtime'\nexport const HOOKS_APP_ID = 'taro-app'\nexport const SET_DATA = '小程序 setData'\nexport const PAGE_INIT = '页面初始化'\nexport const ROOT_STR = 'root'\nexport const HTML = 'html'\nexport const HEAD = 'head'\nexport const BODY = 'body'\nexport const APP = 'app'\nexport const CONTAINER = 'container'\nexport const DOCUMENT_ELEMENT_NAME = '#document'\nexport const DOCUMENT_FRAGMENT = 'document-fragment'\nexport const ID = 'id'\nexport const UID = 'uid'\nexport const CLASS = 'class'\nexport const STYLE = 'style'\nexport const FOCUS = 'focus'\nexport const VIEW = 'view'\nexport const STATIC_VIEW = 'static-view'\nexport const PURE_VIEW = 'pure-view'\nexport const CLICK_VIEW = 'click-view'\nexport const PROPS = 'props'\nexport const DATASET = 'dataset'\nexport const OBJECT = 'object'\nexport const VALUE = 'value'\nexport const INPUT = 'input'\nexport const CHANGE = 'change'\nexport const CUSTOM_WRAPPER = 'custom-wrapper'\nexport const TARGET = 'target'\nexport const CURRENT_TARGET = 'currentTarget'\nexport const TYPE = 'type'\nexport const CONFIRM = 'confirm'\nexport const TIME_STAMP = 'timeStamp'\nexport const KEY_CODE = 'keyCode'\nexport const TOUCHMOVE = 'touchmove'\nexport const DATE = 'Date'\nexport const SET_TIMEOUT = 'setTimeout'\nexport const COMPILE_MODE = 'compileMode'\nexport const CATCHMOVE = 'catchMove'\nexport const CATCH_VIEW = 'catch-view'\nexport const COMMENT = 'comment'\nexport const ON_LOAD = 'onLoad'\nexport const ON_READY = 'onReady'\nexport const ON_SHOW = 'onShow'\nexport const ON_HIDE = 'onHide'\nexport const OPTIONS = 'options'\nexport const EXTERNAL_CLASSES = 'externalClasses'\nexport const EVENT_CALLBACK_RESULT = 'e_result'\nexport const BEHAVIORS = 'behaviors'\nexport const A = 'a'\n\n/**\n * 页面上下文切换时的行为\n */\nexport enum CONTEXT_ACTIONS {\n  INIT = '0',\n  RESTORE = '1',\n  RECOVER = '2',\n  DESTORY = '3'\n}\n","import { AppInstance, PageInstance } from './dsl/instance'\n\nexport interface Router {\n  params: Record<string, unknown>\n  path: string\n  $taroPath: string\n  onReady: string\n  onHide: string\n  onShow: string\n  exitState?: any\n}\n\ninterface Current {\n  app: AppInstance | null\n  router: Router | null\n  page: PageInstance | null\n  preloadData?: any\n}\n\nexport const Current: Current = {\n  app: null,\n  router: null,\n  page: null\n}\n\nexport const getCurrentInstance = () => Current\n","import { MutationRecordType } from './record'\n\nimport type { TaroNode } from '../../dom/node'\nimport type { MutationRecord } from './record'\n\nexport type MutationCallback = (mutations: MutationRecord[]) => any\n\n/**\n * @see https://dom.spec.whatwg.org/#dictdef-mutationobserverinit\n */\nexport interface MutationObserverInit {\n  attributeFilter?: string[]\n  attributeOldValue?: boolean\n  attributes?: boolean\n  characterData?: boolean\n  characterDataOldValue?: boolean\n  childList?: boolean\n  subtree?: boolean\n}\n\nconst observers: MutationObserverImpl[] = []\n\n/**\n * The MutationObserver provides the ability\n * to watch for changes being made to the DOM tree.\n * It will invoke a specified callback function\n * when DOM changes occur.\n * @see https://dom.spec.whatwg.org/#mutationobserver\n * @see https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\n */\nexport class MutationObserverImpl {\n  public callback: MutationCallback\n  public target: TaroNode | null\n  public options: MutationObserverInit\n  public records: MutationRecord[] = []\n\n  constructor (callback: MutationCallback) {\n    this.callback = callback\n  }\n\n  /**\n   * Configures the MutationObserver\n   * to begin receiving notifications\n   * through its callback function\n   * when DOM changes matching the given options occur.\n   *\n   * Options matching is to be implemented.\n   */\n  observe (target: TaroNode, options?: MutationObserverInit): void {\n    this.disconnect()\n    this.target = target\n    this.options = options || {}\n\n    observers.push(this)\n  }\n\n  /**\n   * Stop the MutationObserver instance\n   * from receiving further notifications\n   * until and unless observe() is called again.\n   */\n  disconnect (): void {\n    this.target = null\n\n    const index = observers.indexOf(this)\n    if (index >= 0) {\n      observers.splice(index, 1)\n    }\n  }\n\n  /**\n   * Removes all pending notifications\n   * from the MutationObserver's notification queue\n   * and returns them in a new Array of MutationRecord objects.\n   */\n  takeRecords (): MutationRecord[] {\n    return this.records.splice(0, this.records.length)\n  }\n}\n\n/** Match two TaroNodes by sid. */\nconst sidMatches = (\n  observerTarget: TaroNode | null,\n  target: TaroNode | null\n): boolean => {\n  return !!observerTarget && observerTarget.sid === target?.sid\n}\n\nconst isConcerned = (record: MutationRecord, options: MutationObserverInit) => {\n  const { characterData, characterDataOldValue, attributes, attributeOldValue, childList } = options\n  switch (record.type) {\n    case MutationRecordType.CHARACTER_DATA:\n      if (characterData) {\n        if (!characterDataOldValue) record.oldValue = null\n        return true\n      }\n      return false\n    case MutationRecordType.ATTRIBUTES:\n      if (attributes) {\n        if (!attributeOldValue) record.oldValue = null\n        return true\n      }\n      return false\n    case MutationRecordType.CHILD_LIST:\n      if (childList) {\n        return true\n      }\n      return false\n  }\n}\n\nlet pendingMuatations = false\n\nfunction logMutation (observer: MutationObserverImpl, record: MutationRecord) {\n  observer.records.push(record)\n  if (!pendingMuatations) {\n    pendingMuatations = true\n    Promise\n      .resolve()\n      .then(() => {\n        pendingMuatations = false\n        observers.forEach(observer => {\n          return observer.callback(observer.takeRecords())\n        })\n      })\n  }\n}\n\nexport function recordMutation (record: MutationRecord) {\n  observers.forEach(observer => {\n    const { options } = observer\n    for (let t: TaroNode | null = record.target; t; t = t.parentNode) {\n      if (sidMatches(observer.target, t) && isConcerned(record, options)) {\n        logMutation(observer, record)\n        break\n      }\n      if (!options.subtree) break\n    }\n  })\n}\n","import { noop } from '@tarojs/shared'\n\nimport { MutationObserverImpl, recordMutation } from './implements'\nimport { MutationRecord, MutationRecordType } from './record'\n\nimport type { TaroNode } from '../../dom/node'\nimport type { MutationCallback, MutationObserverInit } from './implements'\n\ndeclare const ENABLE_MUTATION_OBSERVER: boolean\n\nexport class MutationObserver {\n  core: Pick<MutationObserverImpl, 'observe' | 'disconnect' | 'takeRecords'>\n\n  constructor (callback: MutationCallback) {\n    if (ENABLE_MUTATION_OBSERVER) {\n      this.core = new MutationObserverImpl(callback)\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('[Taro Warning] 若要使用 MutationObserver，请在 Taro 编译配置中设置 \\'mini.runtime.enableMutationObserver: true\\'')\n      }\n      this.core = {\n        observe: noop,\n        disconnect: noop,\n        takeRecords: (noop as () => any)\n      }\n    }\n  }\n\n  public observe (...args: [TaroNode, MutationObserverInit?]) {\n    this.core.observe(...args)\n  }\n\n  public disconnect () {\n    this.core.disconnect()\n  }\n\n  public takeRecords () {\n    return this.core.takeRecords()\n  }\n\n  static record (record: MutationRecord) {\n    recordMutation(record)\n  }\n}\n\nexport {\n  MutationRecordType\n}\n","import type { TaroElement } from './element'\n\nexport class ClassList {\n  private el: TaroElement\n\n  private tokenList: string[] = []\n\n  constructor (className: string, el: TaroElement) {\n    this.el = el\n    className.trim().split(/\\s+/).forEach(token => this.tokenList.push(token))\n  }\n\n  public get value () {\n    return this.toString()\n  }\n\n  public get length () {\n    return this.tokenList.length\n  }\n\n  add () {\n    let index = 0\n    let updated = false\n\n    const tokens = arguments\n    const length = tokens.length\n    const tokenList = this.tokenList\n\n    do {\n      const token: string = tokens[index]\n\n      if (this.checkTokenIsValid(token) && !~tokenList.indexOf(token)) {\n        tokenList.push(token)\n\n        updated = true\n      }\n    } while (++index < length)\n\n    if (updated) {\n      this._update()\n    }\n  }\n\n  remove () {\n    let i = 0\n    let updated = false\n\n    const tokens = arguments\n    const length = tokens.length\n    const tokenList = this.tokenList\n\n    do {\n      const token = tokens[i] + ''\n\n      if (!this.checkTokenIsValid(token)) continue\n\n      const index = tokenList.indexOf(token)\n\n      if (~tokenList.indexOf(token)) {\n        tokenList.splice(index, 1)\n\n        updated = true\n      }\n    } while (++i < length)\n\n    if (updated) {\n      this._update()\n    }\n  }\n\n  contains (token: string) {\n    if (!this.checkTokenIsValid(token)) return false\n\n    return !!~this.tokenList.indexOf(token)\n  }\n\n  toggle (token: string, force: boolean) {\n    const result = this.contains(token)\n    const method = result ? force !== true && 'remove' : force !== false && 'add'\n\n    if (method) {\n      // @ts-ignore\n      this[method](token)\n    }\n\n    if (force === true || force === false) {\n      return force\n    } else {\n      return !result\n    }\n  }\n\n  replace (token: string, replacement_token: string) {\n    if (!this.checkTokenIsValid(token) || !this.checkTokenIsValid(replacement_token)) return\n\n    const index = this.tokenList.indexOf(token)\n\n    if (~index) {\n      this.tokenList.splice(index, 1, replacement_token)\n      this._update()\n    }\n  }\n\n  toString () {\n    return this.tokenList.filter(v => v !== '').join(' ')\n  }\n\n  private checkTokenIsValid (token: string) {\n    if (token === '' || /\\s/.test(token)) return false\n\n    return true\n  }\n\n  private _update () {\n    this.el.className = this.value\n  }\n}\n","import { NodeType } from './node_types'\n\nimport type { TaroElement } from './element'\n\ntype Filter = (element: TaroElement) => boolean\n\nfunction returnTrue () {\n  return true\n}\n\nexport function treeToArray (root: TaroElement, predict?: Filter): TaroElement[] {\n  const array: TaroElement[] = []\n  const filter = predict ?? returnTrue\n\n  let object: TaroElement | null = root\n\n  while (object) {\n    if (object.nodeType === NodeType.ELEMENT_NODE && filter(object)) {\n      array.push(object)\n    }\n\n    object = following(object, root)\n  }\n\n  return array\n}\n\nfunction following (el: TaroElement, root: TaroElement): TaroElement | null {\n  const firstChild = el.firstChild\n  const isElmentTypeValid = el.nodeType === NodeType.ELEMENT_NODE || el.nodeType === NodeType.DOCUMENT_NODE\n\n  // 如果当前 el 不是 element 或 document 元素，则可以直接不递归他的子元素了\n  if (firstChild && isElmentTypeValid) {\n    return firstChild as TaroElement\n  }\n\n  let current: TaroElement | null = el\n\n  do {\n    if (current === root) {\n      return null\n    }\n\n    const nextSibling = current.nextSibling\n\n    if (nextSibling) {\n      return nextSibling as TaroElement\n    }\n    current = current.parentElement\n  } while (current)\n\n  return null\n}\n","import { EMPTY_OBJ, hooks, isArray, isFunction, isObject, isString, isUndefined, Shortcuts, toCamelCase, warn } from '@tarojs/shared'\n\nimport {\n  CATCH_VIEW,\n  CATCHMOVE,\n  CLASS,\n  CLICK_VIEW,\n  EVENT_CALLBACK_RESULT,\n  FOCUS,\n  ID,\n  PROPERTY_THRESHOLD,\n  PURE_VIEW,\n  STATIC_VIEW,\n  STYLE,\n  VIEW\n} from '../constants'\nimport { MutationObserver, MutationRecordType } from '../dom-external/mutation-observer'\nimport { extend, getComponentsAlias, isElement, isHasExtractProp, shortcutAttr } from '../utils'\nimport { ClassList } from './class-list'\nimport { eventSource } from './event-source'\nimport { TaroNode } from './node'\nimport { NodeType } from './node_types'\nimport { Style } from './style'\nimport { treeToArray } from './tree'\n\nimport type { Attributes, TFunc } from '../interface'\nimport type { TaroEvent } from './event'\n\nexport class TaroElement extends TaroNode {\n  public ctx?\n  public tagName: string\n  public props: Record<string, any> = {}\n  public style: Style\n  public dataset: Record<string, unknown> = EMPTY_OBJ\n  public innerHTML: string\n\n  public constructor () {\n    super()\n    this.nodeType = NodeType.ELEMENT_NODE\n    this.style = new Style(this)\n    hooks.call('patchElement', this)\n  }\n\n  private _stopPropagation (event: TaroEvent) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    let target = this\n    // eslint-disable-next-line no-cond-assign\n    while ((target = target.parentNode as this)) {\n      const listeners = target.__handlers[event.type]\n\n      if (!isArray(listeners)) {\n        continue\n      }\n\n      for (let i = listeners.length; i--;) {\n        const l = listeners[i]\n        l._stop = true\n      }\n    }\n  }\n\n  public get id (): string {\n    return this.getAttribute(ID)!\n  }\n\n  public set id (val: string) {\n    this.setAttribute(ID, val)\n  }\n\n  public get className (): string {\n    return this.getAttribute(CLASS) || ''\n  }\n\n  public set className (val: string) {\n    this.setAttribute(CLASS, val)\n  }\n\n  public get cssText (): string {\n    return this.getAttribute(STYLE) || ''\n  }\n\n  public get classList (): ClassList {\n    return new ClassList(this.className, this)\n  }\n\n  public get children (): TaroElement[] {\n    return this.childNodes.filter(isElement)\n  }\n\n  public get attributes (): Attributes[] {\n    const props = this.props\n    const propKeys = Object.keys(props)\n    const style = this.style.cssText\n    const attrs = propKeys.map(key => ({ name: key, value: props[key] }))\n    return attrs.concat(style ? { name: STYLE, value: style } : [])\n  }\n\n  public get textContent (): string {\n    let text = ''\n    const childNodes = this.childNodes\n\n    for (let i = 0; i < childNodes.length; i++) {\n      text += childNodes[i].textContent\n    }\n\n    return text\n  }\n\n  public set textContent (text: string) {\n    super.textContent = text\n  }\n\n  public hasAttribute (qualifiedName: string): boolean {\n    return !isUndefined(this.props[qualifiedName])\n  }\n\n  public hasAttributes (): boolean {\n    return this.attributes.length > 0\n  }\n\n  public get focus () {\n    return function () {\n      this.setAttribute(FOCUS, true)\n    }\n  }\n\n  // 兼容 Vue3，详情请见：https://github.com/NervJS/taro/issues/10579\n  public set focus (value) {\n    this.setAttribute(FOCUS, value)\n  }\n\n  public blur () {\n    this.setAttribute(FOCUS, false)\n  }\n\n  public setAttribute (qualifiedName: string, value: any): void {\n    process.env.NODE_ENV !== 'production' && warn(\n      isString(value) && value.length > PROPERTY_THRESHOLD,\n      `元素 ${this.nodeName} 的 ${qualifiedName} 属性值数据量过大，可能会影响渲染性能。考虑降低图片转为 base64 的阈值或在 CSS 中使用 base64。`\n    )\n\n    const isPureView = this.nodeName === VIEW && !isHasExtractProp(this) && !this.isAnyEventBinded()\n\n    if (qualifiedName !== STYLE) {\n      MutationObserver.record({\n        target: this,\n        type: MutationRecordType.ATTRIBUTES,\n        attributeName: qualifiedName,\n        oldValue: this.getAttribute(qualifiedName)\n      })\n    }\n\n    switch (qualifiedName) {\n      case STYLE:\n        this.style.cssText = value as string\n        break\n      case ID:\n        if (this.uid !== this.sid) {\n          // eventSource[sid] 永远保留，直到组件卸载\n          // eventSource[uid] 可变\n          eventSource.delete(this.uid)\n        }\n        value = String(value)\n        this.props[qualifiedName] = this.uid = value\n        eventSource.set(value, this)\n        break\n      default:\n        this.props[qualifiedName] = value as string\n\n        if (qualifiedName.startsWith('data-')) {\n          if (this.dataset === EMPTY_OBJ) {\n            this.dataset = Object.create(null)\n          }\n          this.dataset[toCamelCase(qualifiedName.replace(/^data-/, ''))] = value\n        }\n        break\n    }\n\n    // Serialization\n    if (!this._root) return\n\n    const componentsAlias = getComponentsAlias()\n    const _alias = componentsAlias[this.nodeName]\n    const viewAlias = componentsAlias[VIEW]._num\n    const clickViewAlias = componentsAlias[CLICK_VIEW]._num\n    const staticViewAlias = componentsAlias[STATIC_VIEW]._num\n    const catchViewAlias = componentsAlias[CATCH_VIEW]._num\n    const _path = this._path\n\n    qualifiedName = shortcutAttr(qualifiedName)\n\n    const qualifiedNameInCamelCase = toCamelCase(qualifiedName)\n    const payload = {\n      path: `${_path}.${qualifiedNameInCamelCase}`,\n      value: isFunction(value) ? () => value : value\n    }\n\n    hooks.call('modifySetAttrPayload', this, qualifiedName, payload, componentsAlias)\n\n    if (_alias) {\n      const qualifiedNameAlias = _alias[qualifiedNameInCamelCase] || qualifiedName\n      payload.path = `${_path}.${toCamelCase(qualifiedNameAlias)}`\n    }\n\n    this.enqueueUpdate(payload)\n\n    if (this.nodeName === VIEW) {\n      if (qualifiedNameInCamelCase === CATCHMOVE) {\n        // catchMove = true: catch-view\n        // catchMove = false: view or click-view or static-view\n        this.enqueueUpdate({\n          path: `${_path}.${Shortcuts.NodeName}`,\n          value: value ? catchViewAlias : (\n            this.isOnlyClickBinded() && !isHasExtractProp(this) ? clickViewAlias : (this.isAnyEventBinded() ? viewAlias : staticViewAlias)\n          )\n        })\n      } else if (isPureView && isHasExtractProp(this)) {\n        // pure-view => static-view\n        this.enqueueUpdate({\n          path: `${_path}.${Shortcuts.NodeName}`,\n          value: staticViewAlias\n        })\n      }\n    }\n  }\n\n  public removeAttribute (qualifiedName: string) {\n    const isStaticView = this.nodeName === VIEW && isHasExtractProp(this) && !this.isAnyEventBinded()\n\n    MutationObserver.record({\n      target: this,\n      type: MutationRecordType.ATTRIBUTES,\n      attributeName: qualifiedName,\n      oldValue: this.getAttribute(qualifiedName)\n    })\n\n    if (qualifiedName === STYLE) {\n      this.style.cssText = ''\n    } else {\n      const isInterrupt = hooks.call('onRemoveAttribute', this, qualifiedName)\n      if (isInterrupt) {\n        return\n      }\n\n      if (!this.props.hasOwnProperty(qualifiedName)) {\n        return\n      }\n      delete this.props[qualifiedName]\n    }\n\n    // Serialization\n    if (!this._root) return\n\n    const componentsAlias = getComponentsAlias()\n    const _alias = componentsAlias[this.nodeName]\n    const viewAlias = componentsAlias[VIEW]._num\n    const staticViewAlias = componentsAlias[STATIC_VIEW]._num\n    const pureViewAlias = componentsAlias[PURE_VIEW]._num\n    const clickViewAlias = componentsAlias[CLICK_VIEW]._num\n    const _path = this._path\n\n    qualifiedName = shortcutAttr(qualifiedName)\n\n    const qualifiedNameInCamelCase = toCamelCase(qualifiedName)\n    const payload = {\n      path: `${_path}.${qualifiedNameInCamelCase}`,\n      value: ''\n    }\n\n    hooks.call('modifyRmAttrPayload', this, qualifiedName, payload, componentsAlias)\n\n    if (_alias) {\n      const qualifiedNameAlias = _alias[qualifiedNameInCamelCase] || qualifiedName\n      payload.path = `${_path}.${toCamelCase(qualifiedNameAlias)}`\n    }\n\n    this.enqueueUpdate(payload)\n\n    if (this.nodeName === VIEW) {\n      if (qualifiedNameInCamelCase === CATCHMOVE) {\n        // catch-view => view or click-view or static-view or pure-view\n        this.enqueueUpdate({\n          path: `${_path}.${Shortcuts.NodeName}`,\n          value: this.isOnlyClickBinded() && !isHasExtractProp(this) ? clickViewAlias : (this.isAnyEventBinded() ? viewAlias : (isHasExtractProp(this) ? staticViewAlias : pureViewAlias))\n        })\n      } else if (isStaticView && !isHasExtractProp(this)) {\n        // static-view => pure-view\n        this.enqueueUpdate({\n          path: `${_path}.${Shortcuts.NodeName}`,\n          value: pureViewAlias\n        })\n      }\n    }\n  }\n\n  public getAttribute (qualifiedName: string): string {\n    const attr = qualifiedName === STYLE ? this.style.cssText : this.props[qualifiedName]\n    return attr ?? ''\n  }\n\n  public getElementsByTagName (tagName: string): TaroElement[] {\n    return treeToArray(this, (el) => {\n      return el.nodeName === tagName || (tagName === '*' && this !== el)\n    })\n  }\n\n  public getElementsByClassName (className: string): TaroElement[] {\n    const classNames = className.trim().split(/\\s+/)\n\n    return treeToArray(this, (el) => {\n      const classList = el.classList\n      return classNames.every(c => classList.contains(c))\n    })\n  }\n\n  public dispatchEvent (event: TaroEvent): boolean {\n    const cancelable = event.cancelable\n\n    const listeners = this.__handlers[event.type]\n\n    if (!isArray(listeners)) {\n      return false\n    }\n\n    for (let i = listeners.length; i--;) {\n      const listener = listeners[i]\n      let result: unknown\n      if (listener._stop) {\n        listener._stop = false\n      } else {\n        hooks.call('modifyDispatchEvent', event, this)\n        result = listener.call(this, event)\n      }\n      if ((result === false || event._end) && cancelable) {\n        event.defaultPrevented = true\n      }\n\n      if (!isUndefined(result) && event.mpEvent) {\n        const res = hooks.call('modifyTaroEventReturn', this, event, result)\n        if (res) { event.mpEvent[EVENT_CALLBACK_RESULT] = result }\n      }\n\n      if (event._end && event._stop) {\n        break\n      }\n    }\n\n    if (event._stop) {\n      this._stopPropagation(event)\n    }\n\n    return listeners != null\n  }\n\n  public addEventListener (type, handler, options) {\n    const name = this.nodeName\n    const SPECIAL_NODES = hooks.call('getSpecialNodes')!\n\n    let sideEffect = true\n    if (isObject<Record<string, any>>(options) && options.sideEffect === false) {\n      sideEffect = false\n      delete options.sideEffect\n    }\n\n    hooks.call('modifyAddEventListener', this, sideEffect, getComponentsAlias)\n\n    if (sideEffect !== false && !this.isAnyEventBinded() && SPECIAL_NODES.indexOf(name) > -1) {\n      const componentsAlias = getComponentsAlias()\n      const alias = componentsAlias[name]._num\n      this.enqueueUpdate({\n        path: `${this._path}.${Shortcuts.NodeName}`,\n        value: alias\n      })\n    }\n\n    super.addEventListener(type, handler, options)\n  }\n\n  public removeEventListener (type, handler, sideEffect = true) {\n    super.removeEventListener(type, handler)\n\n    const name = this.nodeName\n    const SPECIAL_NODES = hooks.call('getSpecialNodes')!\n\n    hooks.call('modifyRemoveEventListener', this, sideEffect, getComponentsAlias)\n\n    if (sideEffect !== false && !this.isAnyEventBinded() && SPECIAL_NODES.indexOf(name) > -1) {\n      const componentsAlias = getComponentsAlias()\n      const value = isHasExtractProp(this) ? `static-${name}` : `pure-${name}`\n      const valueAlias = componentsAlias[value]._num\n      this.enqueueUpdate({\n        path: `${this._path}.${Shortcuts.NodeName}`,\n        value: valueAlias\n      })\n    }\n  }\n\n  static extend (methodName: string, options: TFunc | Record<string, any>) {\n    extend(TaroElement, methodName, options)\n  }\n}\n","import type { TaroNode } from './node'\n\ninterface IEventSource extends Map<string | undefined | null, TaroNode> {\n  removeNode (child: TaroNode): void\n  removeNodeTree (child: TaroNode): void\n}\n\nclass EventSource extends Map {\n  removeNode (child: TaroNode) {\n    const { sid, uid } = child\n    this.delete(sid)\n    if (uid !== sid && uid) this.delete(uid)\n  }\n\n  removeNodeTree (child: TaroNode) {\n    this.removeNode(child)\n    const { childNodes } = child\n    childNodes.forEach(node => this.removeNodeTree(node))\n  }\n}\n\nexport const eventSource: IEventSource = new EventSource()\n","import { EMPTY_OBJ, hooks, isUndefined } from '@tarojs/shared'\n\nimport {\n  CONFIRM,\n  CURRENT_TARGET,\n  EVENT_CALLBACK_RESULT,\n  INPUT,\n  KEY_CODE,\n  TARGET,\n  TIME_STAMP,\n  TOUCHMOVE,\n  TYPE\n} from '../constants'\nimport env from '../env'\nimport { isParentBinded } from '../utils'\n\nimport type { EventOptions, MpEvent } from '../interface'\nimport type { TaroElement } from './element'\n\n// Taro 事件对象。以 Web 标准的事件对象为基础，加入小程序事件对象中携带的部分信息，并模拟实现事件冒泡。\nexport class TaroEvent {\n  private cacheTarget\n  private cacheCurrentTarget\n\n  public type: string\n\n  public bubbles: boolean\n\n  public cancelable: boolean\n\n  public _stop = false\n\n  public _end = false\n\n  public defaultPrevented = false\n\n  // Mouse Event botton property, it's used in 3rd lib, like react-router. default 0 in general\n  public button = 0\n\n  // timestamp can either be hi-res ( relative to page load) or low-res (relative to UNIX epoch)\n  // here use hi-res timestamp\n  public timeStamp = Date.now()\n\n  public mpEvent: MpEvent | undefined\n\n  public constructor (type: string, opts: EventOptions, event?: MpEvent) {\n    this.type = type.toLowerCase()\n    this.mpEvent = event\n    this.bubbles = Boolean(opts && opts.bubbles)\n    this.cancelable = Boolean(opts && opts.cancelable)\n  }\n\n  public stopPropagation () {\n    this._stop = true\n  }\n\n  public stopImmediatePropagation () {\n    this._end = this._stop = true\n  }\n\n  public preventDefault () {\n    this.defaultPrevented = true\n  }\n\n  get target () {\n    const cacheTarget = this.cacheTarget\n    if (!cacheTarget) {\n      const target = Object.create(this.mpEvent?.target || null)\n      const currentEle = env.document.getElementById(target.dataset?.sid || target.id || null)\n      // Note：优先判断冒泡场景alipay的targetDataset的sid, 不然冒泡场景target属性吐出不对，其余拿取当前绑定id\n      const element = env.document.getElementById(target.targetDataset?.sid || target.dataset?.sid || target.id || null)\n\n      target.dataset = {\n        ...(currentEle !== null ? currentEle.dataset : EMPTY_OBJ),\n        ...(element !== null ? element.dataset : EMPTY_OBJ)\n      }\n\n      for (const key in this.mpEvent?.detail) {\n        target[key] = this.mpEvent!.detail[key]\n      }\n\n      this.cacheTarget = target\n\n      return target\n    } else {\n      return cacheTarget\n    }\n  }\n\n  get currentTarget () {\n    const cacheCurrentTarget = this.cacheCurrentTarget\n    if (!cacheCurrentTarget) {\n      const doc = env.document\n\n      const currentTarget = Object.create(this.mpEvent?.currentTarget || null)\n\n      const element = doc.getElementById(currentTarget.dataset?.sid || currentTarget.id || null)\n      const targetElement = doc.getElementById(this.mpEvent?.target?.dataset?.sid as string || this.mpEvent?.target?.id as string || null)\n\n      if (element === null || (element && element === targetElement)) {\n        this.cacheCurrentTarget = this.target\n        return this.target\n      }\n\n      currentTarget.dataset = element.dataset\n\n      for (const key in this.mpEvent?.detail) {\n        currentTarget[key] = this.mpEvent!.detail[key]\n      }\n\n      this.cacheCurrentTarget = currentTarget\n\n      return currentTarget\n    } else {\n      return cacheCurrentTarget\n    }\n  }\n}\n\nexport function createEvent (event: MpEvent | string, node?: TaroElement) {\n  if (typeof event === 'string') {\n    // For Vue3 using document.createEvent\n    return new TaroEvent(event, { bubbles: true, cancelable: true })\n  }\n\n  const domEv = new TaroEvent(event.type, { bubbles: true, cancelable: true }, event)\n\n  for (const key in event) {\n    if (key === CURRENT_TARGET || key === TARGET || key === TYPE || key === TIME_STAMP) {\n      continue\n    } else {\n      domEv[key] = event[key]\n    }\n  }\n\n  if (domEv.type === CONFIRM && node?.nodeName === INPUT) {\n    // eslint-disable-next-line dot-notation\n    domEv[KEY_CODE] = 13\n  }\n\n  return domEv\n}\n\nconst eventsBatch = {}\n\nfunction getEventCBResult (event: MpEvent) {\n  const result = event[EVENT_CALLBACK_RESULT]\n  if (!isUndefined(result)) {\n    delete event[EVENT_CALLBACK_RESULT]\n  }\n  return result\n}\n\n// 小程序的事件代理回调函数\nexport function eventHandler (event: MpEvent) {\n  // Note: ohos 上事件没有设置 type、detail 类型 setter 方法，且部分事件（例如 load 等）缺失 target 导致事件错误\n  event.type === undefined && Object.defineProperty(event, 'type', {\n    value: (event as any)._type // ohos only\n  })\n  event.detail === undefined && Object.defineProperty(event, 'detail', {\n    value: (event as any)._detail || { ...event } // ohos only\n  })\n  event.currentTarget = event.currentTarget || event.target || { ...event }\n  hooks.call('modifyMpEventImpl', event)\n\n  const currentTarget = event.currentTarget\n  const id = currentTarget.dataset?.sid as string /** sid */ || currentTarget.id /** uid */ || event.detail?.id as string || ''\n\n  const node = env.document.getElementById(id)\n  if (node) {\n    const dispatch = () => {\n      const e = createEvent(event, node)\n\n      hooks.call('modifyTaroEvent', e, node)\n      hooks.call('dispatchTaroEvent', e, node)\n      hooks.call('dispatchTaroEventFinish', e, node)\n    }\n    if (hooks.isExist('batchedEventUpdates')) {\n      const type = event.type\n\n      if (\n        !hooks.call('isBubbleEvents', type) ||\n        !isParentBinded(node, type) ||\n        (type === TOUCHMOVE && !!node.props.catchMove)\n      ) {\n        // 最上层组件统一 batchUpdate\n        hooks.call('batchedEventUpdates', () => {\n          if (eventsBatch[type]) {\n            eventsBatch[type].forEach(fn => fn())\n            delete eventsBatch[type]\n          }\n          dispatch()\n        })\n        return getEventCBResult(event)\n      } else {\n        // 如果上层组件也有绑定同类型的组件，委托给上层组件调用事件回调\n        (eventsBatch[type] ||= []).push(dispatch)\n      }\n    } else {\n      dispatch()\n      return getEventCBResult(event)\n    }\n  }\n}\n","import {\n  CHANGE,\n  INPUT,\n  TYPE,\n  VALUE\n} from '../constants'\nimport { TaroElement } from './element'\n\nimport type { TaroEvent } from './event'\n\nexport class FormElement extends TaroElement {\n  public get type () {\n    return this.props[TYPE] ?? ''\n  }\n\n  public set type (val: string) {\n    this.setAttribute(TYPE, val)\n  }\n\n  public get value () {\n    // eslint-disable-next-line dot-notation\n    const val = this.props[VALUE]\n    return val == null ? '' : val\n  }\n\n  public set value (val: string | boolean | number | any[]) {\n    this.setAttribute(VALUE, val)\n  }\n\n  public dispatchEvent (event: TaroEvent) {\n    if (event.mpEvent) {\n      const val = event.mpEvent.detail.value\n      if (event.type === CHANGE) {\n        this.props.value = val as string\n      } else if (event.type === INPUT) {\n        // Web 规范中表单组件的 value 应该跟着输入改变\n        // 只是改 this.props.value 的话不会进行 setData，因此这里修改 this.value。\n        // 只测试了 React、Vue3 input 组件的 onInput 事件，onChange 事件不确定有没有副作用，所以暂不修改。\n        this.value = val as string\n      }\n    }\n\n    return super.dispatchEvent(event)\n  }\n}\n","import { hooks, isArray, isObject, warn } from '@tarojs/shared'\n\nimport type { AddEventListenerOptions, EventHandler } from '../interface'\n\nexport class TaroEventTarget {\n  public __handlers: Record<string, EventHandler[]> = {}\n\n  public addEventListener (type: string, handler: EventHandler, options?: boolean | AddEventListenerOptions) {\n    type = type.toLowerCase()\n\n    hooks.call('onAddEvent', type, handler, options, this)\n\n    if (type === 'regionchange') {\n      // map 组件的 regionchange 事件非常特殊，详情：https://github.com/NervJS/taro/issues/5766\n      this.addEventListener('begin', handler, options)\n      this.addEventListener('end', handler, options)\n      return\n    }\n\n    let isCapture = Boolean(options)\n    let isOnce = false\n    if (isObject<AddEventListenerOptions>(options)) {\n      isCapture = Boolean(options.capture)\n      isOnce = Boolean(options.once)\n    }\n\n    if (isOnce) {\n      const wrapper = function () {\n        handler.apply(this, arguments) // this 指向 Element\n        this.removeEventListener(type, wrapper)\n      }\n      this.addEventListener(type, wrapper, {\n        ...(options as AddEventListenerOptions),\n        once: false\n      })\n      return\n    }\n\n    process.env.NODE_ENV !== 'production' && warn(isCapture, 'Taro 暂未实现 event 的 capture 特性。')\n\n    // 某些框架，如 PReact 有委托的机制，handler 始终是同一个函数\n    // 这会导致多层停止冒泡失败：view -> view(handler.stop = false) -> view(handler.stop = true)\n    // 这样解决：view -> view(handlerA.stop = false) -> view(handlerB.stop = false)\n    // 因此每次绑定事件都新建一个函数，如果带来了性能问题，可以把这段逻辑抽取到 PReact 插件中。\n    const oldHandler = handler\n    handler = function () {\n      return oldHandler.apply(this, arguments) // this 指向 Element\n    }\n    ;(handler as any).oldHandler = oldHandler\n\n    const handlers = this.__handlers[type]\n    if (isArray(handlers)) {\n      handlers.push(handler)\n    } else {\n      this.__handlers[type] = [handler]\n    }\n  }\n\n  public removeEventListener (type: string, handler: EventHandler) {\n    type = type.toLowerCase()\n\n    if (type === 'regionchange') {\n      // map 组件的 regionchange 事件非常特殊，详情：https://github.com/NervJS/taro/issues/5766\n      this.removeEventListener('begin', handler)\n      this.removeEventListener('end', handler)\n      return\n    }\n\n    if (!handler) {\n      return\n    }\n\n    const handlers = this.__handlers[type]\n    if (!isArray(handlers)) {\n      return\n    }\n\n    const index = handlers.findIndex(item => {\n      if (item === handler || (item as any).oldHandler === handler) return true\n    })\n\n    process.env.NODE_ENV !== 'production' && warn(index === -1, `事件: '${type}' 没有注册在 DOM 中，因此不会被移除。`)\n\n    handlers.splice(index, 1)\n  }\n\n  public isAnyEventBinded (): boolean {\n    const handlers = this.__handlers\n    const isAnyEventBinded = Object.keys(handlers).find(key => handlers[key].length)\n    return Boolean(isAnyEventBinded)\n  }\n\n  public isOnlyClickBinded (): boolean {\n    const handlers = this.__handlers\n    const isOnlyClickBinded = handlers.tap && Object.keys(handlers).length === 1\n    return Boolean(isOnlyClickBinded)\n  }\n}\n","import { ensure, hooks, Shortcuts } from '@tarojs/shared'\n\nimport { DOCUMENT_FRAGMENT } from '../constants'\nimport { MutationObserver, MutationRecordType } from '../dom-external/mutation-observer'\nimport env from '../env'\nimport { hydrate } from '../hydrate'\nimport { extend, incrementId, isComment } from '../utils'\nimport { eventSource } from './event-source'\nimport { TaroEventTarget } from './event-target'\nimport { NodeType } from './node_types'\n\nimport type { TFunc, UpdatePayload } from '../interface'\nimport type { TaroDocument } from './document'\nimport type { TaroElement } from './element'\nimport type { TaroRootElement } from './root'\n\ninterface RemoveChildOptions {\n  cleanRef?: boolean\n  doUpdate?: boolean\n}\n\nconst CHILDNODES = Shortcuts.Childnodes\nconst nodeId = incrementId()\n\nexport class TaroNode extends TaroEventTarget {\n  public uid: string\n  public sid: string\n  public nodeType: NodeType\n  public nodeName: string\n  public parentNode: TaroNode | null = null\n  public childNodes: TaroNode[] = []\n\n  public constructor () {\n    super()\n    this.uid = '_' + nodeId() // dom 节点 id，开发者可修改\n    this.sid = this.uid // dom 节点全局唯一 id，不可被修改\n    eventSource.set(this.sid, this)\n  }\n\n  private hydrate = (node: TaroNode) => () => hydrate(node as TaroElement)\n\n  private updateChildNodes (isClean?: boolean) {\n    const cleanChildNodes = () => []\n    const rerenderChildNodes = () => {\n      const childNodes = this.childNodes.filter(node => !isComment(node))\n      return childNodes.map(hydrate)\n    }\n\n    this.enqueueUpdate({\n      path: `${this._path}.${CHILDNODES}`,\n      value: isClean ? cleanChildNodes : rerenderChildNodes\n    })\n  }\n\n  private updateSingleChild (index: number) {\n    this.childNodes.forEach((child, childIndex) => {\n      if (isComment(child)) return\n\n      if (index && childIndex < index) return\n\n      this.enqueueUpdate({\n        path: child._path,\n        value: this.hydrate(child)\n      })\n    })\n  }\n\n  public get _root (): TaroRootElement | null {\n    return this.parentNode?._root || null\n  }\n\n  protected findIndex (refChild: TaroNode): number {\n    const index = this.childNodes.indexOf(refChild)\n\n    ensure(index !== -1, 'The node to be replaced is not a child of this node.')\n\n    return index\n  }\n\n  public get _path (): string {\n    const parentNode = this.parentNode\n\n    if (parentNode) {\n      // 计算路径时，先过滤掉 comment 节点\n      const list = parentNode.childNodes.filter(node => !isComment(node))\n      const indexOfNode = list.indexOf(this)\n      const index = hooks.call('getPathIndex', indexOfNode)\n\n      return `${parentNode._path}.${CHILDNODES}.${index}`\n    }\n\n    return ''\n  }\n\n  public get nextSibling (): TaroNode | null {\n    const parentNode = this.parentNode\n    return parentNode?.childNodes[parentNode.findIndex(this) + 1] || null\n  }\n\n  public get previousSibling (): TaroNode | null {\n    const parentNode = this.parentNode\n    return parentNode?.childNodes[parentNode.findIndex(this) - 1] || null\n  }\n\n  public get parentElement (): TaroElement | null {\n    const parentNode = this.parentNode\n    if (parentNode?.nodeType === NodeType.ELEMENT_NODE) {\n      return parentNode as TaroElement\n    }\n    return null\n  }\n\n  public get firstChild (): TaroNode | null {\n    return this.childNodes[0] || null\n  }\n\n  public get lastChild (): TaroNode | null {\n    const childNodes = this.childNodes\n    return childNodes[childNodes.length - 1] || null\n  }\n\n  /**\n   * @textContent 目前只能置空子元素\n   * @TODO 等待完整 innerHTML 实现\n   */\n  // eslint-disable-next-line accessor-pairs\n  public set textContent (text: string) {\n    const removedNodes = this.childNodes.slice()\n    const addedNodes: TaroNode[] = []\n\n    // Handle old children' data structure & ref\n    while (this.firstChild) {\n      this.removeChild(this.firstChild, { doUpdate: false })\n    }\n\n    if (text === '') {\n      this.updateChildNodes(true)\n    } else {\n      const newText = env.document.createTextNode(text)\n      addedNodes.push(newText)\n      this.appendChild(newText)\n      this.updateChildNodes()\n    }\n\n    // @Todo: appendChild 会多触发一次\n    MutationObserver.record({\n      type: MutationRecordType.CHILD_LIST,\n      target: this,\n      removedNodes,\n      addedNodes\n    })\n  }\n\n  /**\n   * @doc https://developer.mozilla.org/zh-CN/docs/Web/API/Node/insertBefore\n   * @scenario\n   * [A,B,C]\n   *   1. insert D before C, D has no parent\n   *   2. insert D before C, D has the same parent of C\n   *   3. insert D before C, D has the different parent of C\n   */\n  public insertBefore<T extends TaroNode> (newChild: T, refChild?: TaroNode | null, isReplace?: boolean): T {\n    if (newChild.nodeName === DOCUMENT_FRAGMENT) {\n      newChild.childNodes.reduceRight((previousValue, currentValue) => {\n        this.insertBefore(currentValue, previousValue)\n        return currentValue\n      }, refChild)\n      return newChild\n    }\n\n    // Parent release newChild\n    //   - cleanRef: false (No need to clean eventSource, because newChild is about to be inserted)\n    //   - update: true (Need to update parent.childNodes, because parent.childNodes is reordered)\n    newChild.remove({ cleanRef: false })\n\n    let index = 0\n    // Data structure\n    newChild.parentNode = this\n    if (refChild) {\n      // insertBefore & replaceChild\n      index = this.findIndex(refChild)\n      this.childNodes.splice(index, 0, newChild)\n    } else {\n      // appendChild\n      this.childNodes.push(newChild)\n    }\n\n    const childNodesLength = this.childNodes.length\n    // Serialization\n    if (this._root) {\n      if (!refChild) {\n        // appendChild\n        const isOnlyChild = childNodesLength === 1\n        if (isOnlyChild) {\n          this.updateChildNodes()\n        } else {\n          this.enqueueUpdate({\n            path: newChild._path,\n            value: this.hydrate(newChild)\n          })\n        }\n      } else if (isReplace) {\n        // replaceChild\n        this.enqueueUpdate({\n          path: newChild._path,\n          value: this.hydrate(newChild)\n        })\n      } else {\n        // insertBefore 有两种更新模式\n        // 比方说有 A B C 三个节点，现在要在 C 前插入 D\n        // 1. 插入 D，然后更新整个父节点的 childNodes 数组\n        // setData({ cn: [A, B, D, C] })\n        // 2. 插入 D，然后更新 D 以及 D 之后每个节点的数据\n        // setData ({\n        //   cn.[2]: D,\n        //   cn.[3]: C,\n        // })\n        // 由于微信解析 ’cn.[2]‘ 这些路径的时候也需要消耗时间，\n        // 所以根据 insertBefore 插入的位置来做不同的处理\n        const mark = childNodesLength * 2 / 3\n        if (mark > index) {\n          // 如果 insertBefore 的位置在 childNodes 的 2/3 前，则为了避免解析路径消耗过多的时间，采用第一种方式\n          this.updateChildNodes()\n        } else {\n          // 如果 insertBefore 的位置在 childNodes 的 2/3 之后，则采用第二种方式，避免 childNodes 的全量更新\n          this.updateSingleChild(index)\n        }\n      }\n    }\n\n    MutationObserver.record({\n      type: MutationRecordType.CHILD_LIST,\n      target: this,\n      addedNodes: [newChild],\n      removedNodes: isReplace\n        ? [refChild as TaroNode] /** replaceChild */\n        : [],\n      nextSibling: isReplace\n        ? (refChild as TaroNode).nextSibling /** replaceChild */\n        : (refChild || null), /** insertBefore & appendChild */\n      previousSibling: newChild.previousSibling\n    })\n\n    return newChild\n  }\n\n  /**\n   * @doc https://developer.mozilla.org/zh-CN/docs/Web/API/Node/appendChild\n   * @scenario\n   * [A,B,C]\n   *   1. append C, C has no parent\n   *   2. append C, C has the same parent of B\n   *   3. append C, C has the different parent of B\n   */\n  public appendChild (newChild: TaroNode) {\n    return this.insertBefore(newChild)\n  }\n\n  /**\n   * @doc https://developer.mozilla.org/zh-CN/docs/Web/API/Node/replaceChild\n   * @scenario\n   * [A,B,C]\n   *   1. replace B with C, C has no parent\n   *   2. replace B with C, C has no parent, C has the same parent of B\n   *   3. replace B with C, C has no parent, C has the different parent of B\n   */\n  public replaceChild (newChild: TaroNode, oldChild: TaroNode) {\n    if (oldChild.parentNode !== this) return\n\n    // Insert the newChild\n    this.insertBefore(newChild, oldChild, true)\n\n    // Destroy the oldChild\n    //   - cleanRef: true (Need to clean eventSource, because the oldChild was detached from the DOM tree)\n    //   - update: false (No need to update parent.childNodes, because replace will not cause the parent.childNodes being reordered)\n    oldChild.remove({ doUpdate: false })\n\n    return oldChild\n  }\n\n  /**\n   * @doc https://developer.mozilla.org/zh-CN/docs/Web/API/Node/removeChild\n   * @scenario\n   * [A,B,C]\n   *   1. remove A or B\n   *   2. remove C\n   */\n  public removeChild<T extends TaroNode> (child: T, options: RemoveChildOptions = {}): T {\n    const { cleanRef, doUpdate } = options\n\n    if (cleanRef !== false && doUpdate !== false) {\n      // appendChild/replaceChild/insertBefore 不应该触发\n      // @Todo: 但其实如果 newChild 的父节点是另一颗子树的节点，应该是要触发的\n      MutationObserver.record({\n        type: MutationRecordType.CHILD_LIST,\n        target: this,\n        removedNodes: [child],\n        nextSibling: child.nextSibling,\n        previousSibling: child.previousSibling\n      })\n    }\n\n    // Data Structure\n    const index = this.findIndex(child)\n    this.childNodes.splice(index, 1)\n    child.parentNode = null\n\n    // Set eventSource\n    if (cleanRef !== false) {\n      eventSource.removeNodeTree(child)\n    }\n\n    // Serialization\n    if (this._root && doUpdate !== false) {\n      this.updateChildNodes()\n    }\n\n    return child\n  }\n\n  public remove (options?: RemoveChildOptions) {\n    this.parentNode?.removeChild(this, options)\n  }\n\n  public hasChildNodes () {\n    return this.childNodes.length > 0\n  }\n\n  public enqueueUpdate (payload: UpdatePayload) {\n    this._root?.enqueueUpdate(payload)\n  }\n\n  public get ownerDocument (): TaroDocument {\n    return env.document\n  }\n\n  static extend (methodName: string, options: TFunc | Record<string, any>) {\n    extend(TaroNode, methodName, options)\n  }\n}\n","import { hooks, isArray, isFunction, isUndefined, Shortcuts } from '@tarojs/shared'\n\nimport {\n  CUSTOM_WRAPPER,\n  PAGE_INIT,\n  ROOT_STR,\n  SET_DATA\n} from '../constants'\nimport { options } from '../options'\nimport { perf } from '../perf'\nimport { customWrapperCache, isComment } from '../utils'\nimport { TaroElement } from './element'\n\nimport type { HydratedData, MpInstance, TFunc, UpdatePayload, UpdatePayloadValue } from '../interface'\n\nfunction findCustomWrapper (root: TaroRootElement, dataPathArr: string[]) {\n  // ['root', 'cn', '[0]'] remove 'root' => ['cn', '[0]']\n  const list = dataPathArr.slice(1)\n  let currentData: any = root\n  let customWrapper: Record<string, any> | undefined\n  let splitedPath = ''\n\n  list.some((item, i) => {\n    const key = item\n      // '[0]' => '0'\n      .replace(/^\\[(.+)\\]$/, '$1')\n      // 'cn' => 'childNodes'\n      .replace(/\\bcn\\b/g, 'childNodes')\n\n    currentData = currentData[key]\n\n    if (isArray(currentData)) {\n      currentData = currentData.filter(el => !isComment(el))\n    }\n\n    if (isUndefined(currentData)) return true\n\n    if (currentData.nodeName === CUSTOM_WRAPPER) {\n      const res = customWrapperCache.get(currentData.sid)\n      if (res) {\n        customWrapper = res\n        splitedPath = dataPathArr.slice(i + 2).join('.')\n      }\n    }\n  })\n\n  if (customWrapper) {\n    return {\n      customWrapper,\n      splitedPath\n    }\n  }\n}\n\nexport class TaroRootElement extends TaroElement {\n  private updatePayloads: UpdatePayload[] = []\n\n  private updateCallbacks: TFunc[] = []\n\n  public pendingUpdate = false\n\n  public ctx: null | MpInstance = null\n\n  public constructor () {\n    super()\n    this.nodeName = ROOT_STR\n    this.tagName = ROOT_STR.toUpperCase()\n  }\n\n  public get _path (): string {\n    return ROOT_STR\n  }\n\n  public get _root (): TaroRootElement {\n    return this\n  }\n\n  public scheduleTask(fn: TFunc) {\n    // 这里若使用微任务可略微提前setData的执行时机，但在部分场景下可能会出现连续setData两次，造成更大的性能问题\n    setTimeout(fn)\n  }\n\n  public enqueueUpdate (payload: UpdatePayload): void {\n    this.updatePayloads.push(payload)\n\n    if (!this.pendingUpdate && this.ctx) {\n      this.performUpdate()\n    }\n  }\n\n  public performUpdate (initRender = false, prerender?: TFunc) {\n    this.pendingUpdate = true\n\n    const ctx = hooks.call('proxyToRaw', this.ctx)!\n\n    this.scheduleTask(() => {\n      const setDataMark = `${SET_DATA} 开始时间戳 ${Date.now()}`\n      perf.start(setDataMark)\n      const data: Record<string, UpdatePayloadValue | ReturnType<HydratedData>> = Object.create(null)\n      const resetPaths = new Set<string>(\n        initRender\n          ? ['root.cn.[0]', 'root.cn[0]']\n          : []\n      )\n\n      while (this.updatePayloads.length > 0) {\n        const { path, value } = this.updatePayloads.shift()!\n        if (path.endsWith(Shortcuts.Childnodes)) {\n          resetPaths.add(path)\n        }\n        data[path] = value\n      }\n\n      for (const path in data) {\n        resetPaths.forEach(p => {\n          // 已经重置了数组，就不需要分别再设置了\n          if (path.includes(p) && path !== p) {\n            delete data[path]\n          }\n        })\n\n        const value = data[path]\n        if (isFunction(value)) {\n          data[path] = value()\n        }\n      }\n\n      // 预渲染\n      if (isFunction(prerender)) return prerender(data)\n\n      // 正常渲染\n      this.pendingUpdate = false\n      let normalUpdate = {}\n      const customWrapperMap: Map<Record<any, any>, Record<string, any>> = new Map()\n\n      if (initRender) {\n        // 初次渲染，使用页面级别的 setData\n        normalUpdate = data\n      } else {\n        // 更新渲染，区分 CustomWrapper 与页面级别的 setData\n        for (const p in data) {\n          const dataPathArr = p.split('.')\n          const found = findCustomWrapper(this, dataPathArr)\n          if (found) {\n            // 此项数据使用 CustomWrapper 去更新\n            const { customWrapper, splitedPath } = found\n            // 合并同一个 customWrapper 的相关更新到一次 setData 中\n            customWrapperMap.set(customWrapper, {\n              ...(customWrapperMap.get(customWrapper) || {}),\n              [`i.${splitedPath}`]: data[p]\n            })\n          } else {\n            // 此项数据使用页面去更新\n            normalUpdate[p] = data[p]\n          }\n        }\n      }\n\n      const customWrapperCount = customWrapperMap.size\n      const isNeedNormalUpdate = Object.keys(normalUpdate).length > 0\n      const updateArrLen = customWrapperCount + (isNeedNormalUpdate ? 1 : 0)\n      let executeTime = 0\n\n      const cb = () => {\n        if (++executeTime === updateArrLen) {\n          perf.stop(setDataMark)\n          this.flushUpdateCallback()\n          initRender && perf.stop(PAGE_INIT)\n        }\n      }\n\n      // custom-wrapper setData\n      if (customWrapperCount) {\n        customWrapperMap.forEach((data, ctx) => {\n          if (process.env.NODE_ENV !== 'production' && options.debug) {\n            // eslint-disable-next-line no-console\n            console.log('custom wrapper setData: ', data)\n          }\n          ctx.setData(data, cb)\n        })\n      }\n\n      // page setData\n      if (isNeedNormalUpdate) {\n        if (process.env.NODE_ENV !== 'production' && options.debug) {\n          // eslint-disable-next-line no-console\n          console.log('page setData:', normalUpdate)\n        }\n        ctx.setData(normalUpdate, cb)\n      }\n    })\n  }\n\n  public enqueueUpdateCallback (cb: TFunc, ctx?: Record<string, any>) {\n    this.updateCallbacks.push(() => {\n      ctx ? cb.call(ctx) : cb()\n    })\n  }\n\n  public flushUpdateCallback () {\n    const updateCallbacks = this.updateCallbacks\n    if (!updateCallbacks.length) return\n\n    const copies = updateCallbacks.slice(0)\n    this.updateCallbacks.length = 0\n    for (let i = 0; i < copies.length; i++) {\n      copies[i]()\n    }\n  }\n}\n","/*\n *\n * https://www.w3.org/Style/CSS/all-properties.en.html\n */\n\nconst WEBKIT = 'webkit'\n\nconst styleProperties = [\n  'all',\n  'appearance',\n  'backdropFilter',\n  'blockOverflow',\n  'blockSize',\n  'bottom',\n  'clear',\n  'contain',\n  'content',\n  'continue',\n  'cursor',\n  'direction',\n  'display',\n  'filter',\n  'float',\n  'gap',\n  'height',\n  'inset',\n  'isolation',\n  'left',\n  'letterSpacing',\n  'lightingColor',\n  'markerSide',\n  'mixBlendMode',\n  'opacity',\n  'order',\n  'position',\n  'quotes',\n  'resize',\n  'right',\n  'rowGap',\n  'tabSize',\n  'tableLayout',\n  'top',\n  'userSelect',\n  'verticalAlign',\n  'visibility',\n  'voiceFamily',\n  'volume',\n  'whiteSpace',\n  'widows',\n  'width',\n  'zIndex',\n  'pointerEvents',\n  'aspectRatio'\n\n  /** 非常用 style */\n  // 'azimuth',\n  // 'backfaceVisibility',\n  // 'baselineShift',\n  // 'captionSide',\n  // 'chains',\n  // 'dominantBaseline',\n  // 'elevation',\n  // 'emptyCells',\n  // 'forcedColorAdjust',\n  // 'glyphOrientationVertical',\n  // 'hangingPunctuation',\n  // 'hyphenateCharacter',\n  // 'hyphens',\n  // 'imageOrientation',\n  // 'imageResolution',\n  // 'orphans',\n  // 'playDuring',\n  // 'pointerEvents',\n  // 'regionFragment',\n  // 'richness',\n  // 'running',\n  // 'scrollBehavior',\n  // 'speechRate',\n  // 'stress',\n  // 'stringSet',\n  // 'unicodeBidi',\n  // 'willChange',\n  // 'writingMode',\n]\n\n// 减少文件体积\nfunction combine (prefix: string, list: string[], excludeSelf?: boolean) {\n  !excludeSelf && styleProperties.push(prefix)\n  list.forEach(item => {\n    styleProperties.push(prefix + item)\n    if (prefix === WEBKIT) {\n      styleProperties.push('Webkit' + item)\n    }\n  })\n}\n\nconst color = 'Color'\nconst style = 'Style'\nconst width = 'Width'\nconst image = 'Image'\nconst size = 'Size'\nconst color_style_width = [color, style, width]\nconst fitlength_fitwidth_image = ['FitLength', 'FitWidth', image]\nconst fitlength_fitwidth_image_radius = [...fitlength_fitwidth_image, 'Radius']\nconst color_style_width_fitlength_fitwidth_image = [...color_style_width, ...fitlength_fitwidth_image]\nconst endRadius_startRadius = ['EndRadius', 'StartRadius']\nconst bottom_left_right_top = ['Bottom', 'Left', 'Right', 'Top']\nconst end_start = ['End', 'Start']\nconst content_items_self = ['Content', 'Items', 'Self']\nconst blockSize_height_inlineSize_width = ['BlockSize', 'Height', 'InlineSize', width]\nconst after_before = ['After', 'Before']\n\ncombine('borderBlock', color_style_width)\ncombine('borderBlockEnd', color_style_width)\ncombine('borderBlockStart', color_style_width)\ncombine('outline', [...color_style_width, 'Offset'])\ncombine('border', [...color_style_width, 'Boundary', 'Break', 'Collapse', 'Radius', 'Spacing'])\ncombine('borderFit', ['Length', width])\ncombine('borderInline', color_style_width)\ncombine('borderInlineEnd', color_style_width)\ncombine('borderInlineStart', color_style_width)\ncombine('borderLeft', color_style_width_fitlength_fitwidth_image)\ncombine('borderRight', color_style_width_fitlength_fitwidth_image)\ncombine('borderTop', color_style_width_fitlength_fitwidth_image)\ncombine('borderBottom', color_style_width_fitlength_fitwidth_image)\ncombine('textDecoration', [color, style, 'Line'])\ncombine('textEmphasis', [color, style, 'Position'])\ncombine('scrollMargin', bottom_left_right_top)\ncombine('scrollPadding', bottom_left_right_top)\ncombine('padding', bottom_left_right_top)\ncombine('margin', [...bottom_left_right_top, 'Trim'])\ncombine('scrollMarginBlock', end_start)\ncombine('scrollMarginInline', end_start)\ncombine('scrollPaddingBlock', end_start)\ncombine('scrollPaddingInline', end_start)\ncombine('gridColumn', end_start)\ncombine('gridRow', end_start)\ncombine('insetBlock', end_start)\ncombine('insetInline', end_start)\ncombine('marginBlock', end_start)\ncombine('marginInline', end_start)\ncombine('paddingBlock', end_start)\ncombine('paddingInline', end_start)\ncombine('pause', after_before)\ncombine('cue', after_before)\ncombine('mask', ['Clip', 'Composite', image, 'Mode', 'Origin', 'Position', 'Repeat', size, 'Type'])\ncombine('borderImage', ['Outset', 'Repeat', 'Slice', 'Source', 'Transform', width])\ncombine('maskBorder', ['Mode', 'Outset', 'Repeat', 'Slice', 'Source', width])\ncombine('font', ['Family', 'FeatureSettings', 'Kerning', 'LanguageOverride', 'MaxSize', 'MinSize', 'OpticalSizing', 'Palette', size, 'SizeAdjust', 'Stretch', style, 'Weight', 'VariationSettings'])\ncombine('transform', ['Box', 'Origin', style])\ncombine('background', [color, image, 'Attachment', 'BlendMode', 'Clip', 'Origin', 'Position', 'Repeat', size])\ncombine('listStyle', [image, 'Position', 'Type'])\ncombine('scrollSnap', ['Align', 'Stop', 'Type'])\ncombine('grid', ['Area', 'AutoColumns', 'AutoFlow', 'AutoRows'])\ncombine('gridTemplate', ['Areas', 'Columns', 'Rows'])\ncombine('overflow', ['Block', 'Inline', 'Wrap', 'X', 'Y'])\ncombine('transition', ['Delay', 'Duration', 'Property', 'TimingFunction'])\ncombine('color', ['Adjust', 'InterpolationFilters', 'Scheme'])\ncombine('textAlign', ['All', 'Last'])\ncombine('page', ['BreakAfter', 'BreakBefore', 'BreakInside'])\ncombine('animation', ['Delay', 'Direction', 'Duration', 'FillMode', 'IterationCount', 'Name', 'PlayState', 'TimingFunction'])\ncombine('flex', ['Basis', 'Direction', 'Flow', 'Grow', 'Shrink', 'Wrap'])\ncombine('offset', [...after_before, ...end_start, 'Anchor', 'Distance', 'Path', 'Position', 'Rotate'])\ncombine('perspective', ['Origin'])\ncombine('clip', ['Path', 'Rule'])\ncombine('flow', ['From', 'Into'])\n\ncombine('align', ['Content', 'Items', 'Self'], true)\ncombine('alignment', ['Adjust', 'Baseline'], true)\ncombine('borderStart', endRadius_startRadius, true)\ncombine('borderEnd', endRadius_startRadius, true)\ncombine('borderCorner', ['Fit', image, 'ImageTransform'], true)\ncombine('borderTopLeft', fitlength_fitwidth_image_radius, true)\ncombine('borderTopRight', fitlength_fitwidth_image_radius, true)\ncombine('borderBottomLeft', fitlength_fitwidth_image_radius, true)\ncombine('borderBottomRight', fitlength_fitwidth_image_radius, true)\ncombine('column', ['s', 'Count', 'Fill', 'Gap', 'Rule', 'RuleColor', 'RuleStyle', 'RuleWidth', 'Span', width], true)\ncombine('break', [...after_before, 'Inside'], true)\ncombine('wrap', [...after_before, 'Flow', 'Inside', 'Through'], true)\ncombine('justify', content_items_self, true)\ncombine('place', content_items_self, true)\ncombine('max', [...blockSize_height_inlineSize_width, 'Lines'], true)\ncombine('min', blockSize_height_inlineSize_width, true)\ncombine('line', ['Break', 'Clamp', 'Grid', 'Height', 'Padding', 'Snap'], true)\ncombine('inline', ['BoxAlign', size, 'Sizing'], true)\ncombine('text', ['CombineUpright', 'GroupAlign', 'Height', 'Indent', 'Justify', 'Orientation', 'Overflow', 'Shadow', 'SpaceCollapse', 'SpaceTrim', 'Spacing', 'Transform', 'UnderlinePosition', 'Wrap'], true)\ncombine('shape', ['ImageThreshold', 'Inside', 'Margin', 'Outside'], true)\ncombine('word', ['Break', 'Spacing', 'Wrap'], true)\ncombine('object', ['Fit', 'Position'], true)\ncombine('box', ['DecorationBreak', 'Shadow', 'Sizing', 'Snap'], true)\n\ncombine(WEBKIT, ['LineClamp', 'BoxOrient', 'TextFillColor', 'TextStroke', 'TextStrokeColor', 'TextStrokeWidth'], true)\n\n/** 非常用 style */\n// combine('caret', [color, 'Shape'])\n// combine('counter', ['Increment', 'Reset', 'Set'], true)\n// combine('dropInitial', ['AfterAdjust', 'AfterAlign', 'BeforeAdjust', 'BeforeAlign', size, 'Value'], true)\n// combine('flood', [color, 'Opacity'], true)\n// combine('footnote', ['Display', 'Policy'], true)\n// combine('hyphenateLimit', ['Chars', 'Last', 'Lines', 'Zone'], true)\n// combine('initialLetters', ['Align', 'Wrap'])\n// combine('ruby', ['Align', 'Merge', 'Position'], true)\n// combine('lineStacking', ['Ruby', 'Shift', 'Strategy'])\n// combine('bookmark', ['Label', 'Level', 'State'], true)\n// combine('speak', ['Header', 'Numeral', 'Punctuation'])\n// combine('pitch', ['Range'])\n// combine('nav', ['Down', 'Left', 'Right', 'Up'], true)\n// combine('fontSynthesis', ['SmallCaps', style, 'Weight'])\n// combine('fontVariant', ['Alternates', 'Caps', 'EastAsian', 'Emoji', 'Ligatures', 'Numeric', 'Position'])\n\nexport { styleProperties }\n","import { hooks, isArray, isNull, isString, isUndefined, Shortcuts, toCamelCase, toDashed, warn } from '@tarojs/shared'\n\nimport { PROPERTY_THRESHOLD } from '../constants'\nimport { MutationObserver, MutationRecordType } from '../dom-external/mutation-observer'\nimport { TaroElement } from './element'\nimport { styleProperties } from './style_properties'\n\nfunction recordCss (obj: Style) {\n  MutationObserver.record({\n    type: MutationRecordType.ATTRIBUTES,\n    target: obj._element,\n    attributeName: 'style',\n    oldValue: obj.cssText\n  })\n}\n\nfunction enqueueUpdate (obj: Style) {\n  const element = obj._element\n  if (element._root) {\n    element.enqueueUpdate({\n      path: `${element._path}.${Shortcuts.Style}`,\n      value: obj.cssText\n    })\n  }\n}\n\nfunction setStyle (this: Style, newVal: string, styleKey: string) {\n  process.env.NODE_ENV !== 'production' && warn(\n    isString(newVal) && newVal.length > PROPERTY_THRESHOLD,\n    `Style 属性 ${styleKey} 的值数据量过大，可能会影响渲染性能，考虑使用 CSS 类或其它方案替代。`\n  )\n\n  const old = this[styleKey]\n\n  if (old === newVal) return\n\n  !this._pending && recordCss(this)\n\n  if (isNull(newVal) || isUndefined(newVal) || newVal === '') {\n    this._usedStyleProp.delete(styleKey)\n    delete this._value[styleKey]\n  } else {\n    this._usedStyleProp.add(styleKey)\n    this._value[styleKey] = newVal\n  }\n\n  !this._pending && enqueueUpdate(this)\n}\n\nfunction initStyle (ctor: typeof Style, styleProperties: string[]) {\n  const properties = {}\n\n  for (let i = 0; i < styleProperties.length; i++) {\n    const styleKey = styleProperties[i]\n\n    if (ctor[styleKey]) return\n\n    properties[styleKey] = {\n      get (this: Style) {\n        const val = this._value[styleKey]\n        return isNull(val) || isUndefined(val) ? '' : val\n      },\n      set (this: Style, newVal: string) {\n        setStyle.call(this, newVal, styleKey)\n      }\n    }\n  }\n\n  Object.defineProperties(ctor.prototype, properties)\n}\n\nfunction isCssVariable (propertyName) {\n  return /^--/.test(propertyName)\n}\n\nexport class Style {\n  public _pending: boolean\n\n  public _usedStyleProp: Set<string>\n\n  public _value: Partial<CSSStyleDeclaration>\n\n  public _element: TaroElement\n\n  public constructor (element: TaroElement) {\n    this._element = element\n    this._usedStyleProp = new Set()\n    this._value = {}\n  }\n\n  private setCssVariables (styleKey: string) {\n    this.hasOwnProperty(styleKey) || Object.defineProperty(this, styleKey, {\n      enumerable: true,\n      configurable: true,\n      get: () => {\n        return this._value[styleKey] || ''\n      },\n      set: (newVal: string) => {\n        setStyle.call(this, newVal, styleKey)\n      }\n    })\n  }\n\n  public get cssText () {\n    if (!this._usedStyleProp.size) return ''\n\n    const texts: string[] = []\n    this._usedStyleProp.forEach(key => {\n      const val = this[key]\n      if (isNull(val) || isUndefined(val)) return\n      let styleName = isCssVariable(key) ? key : toDashed(key)\n      if (styleName.indexOf('webkit') === 0 || styleName.indexOf('Webkit') === 0) {\n        styleName = `-${styleName}`\n      }\n      texts.push(`${styleName}: ${val};`)\n    })\n    return texts.join(' ')\n  }\n\n  public set cssText (str: string) {\n    this._pending = true\n    recordCss(this)\n\n    this._usedStyleProp.forEach(prop => {\n      this.removeProperty(prop)\n    })\n\n    if (str === '' || isUndefined(str) || isNull(str)) {\n      this._pending = false\n      enqueueUpdate(this)\n      return\n    }\n\n    const rules = str.split(';')\n\n    for (let i = 0; i < rules.length; i++) {\n      const rule = rules[i].trim()\n      if (rule === '') {\n        continue\n      }\n\n      // 可能存在 'background: url(http:x/y/z)' 的情况\n      const [propName, ...valList] = rule.split(':')\n      const val = valList.join(':')\n\n      if (isUndefined(val)) {\n        continue\n      }\n      this.setProperty(propName.trim(), val.trim())\n    }\n\n    this._pending = false\n    enqueueUpdate(this)\n  }\n\n  public setProperty (propertyName: string, value?: string | null) {\n    if (propertyName[0] === '-') {\n      // 支持 webkit 属性或 css 变量\n      this.setCssVariables(propertyName)\n    } else {\n      propertyName = toCamelCase(propertyName)\n    }\n\n    if (isNull(value) || isUndefined(value)) {\n      this.removeProperty(propertyName)\n    } else {\n      this[propertyName] = value\n    }\n  }\n\n  public removeProperty (propertyName: string): string {\n    propertyName = toCamelCase(propertyName)\n    if (!this._usedStyleProp.has(propertyName)) {\n      return ''\n    }\n\n    const value = this[propertyName]\n    this[propertyName] = undefined\n    return value\n  }\n\n  public getPropertyValue (propertyName: string) {\n    propertyName = toCamelCase(propertyName)\n    const value = this[propertyName]\n    if (!value) {\n      return ''\n    }\n\n    return value\n  }\n}\n\ninitStyle(Style, styleProperties)\n\nhooks.tap('injectNewStyleProperties', (newStyleProperties: string[]) => {\n  if (isArray(newStyleProperties)) {\n    initStyle(Style, newStyleProperties)\n  } else {\n    if (typeof newStyleProperties !== 'string') return\n\n    initStyle(Style, [newStyleProperties])\n  }\n})\n","import { Shortcuts } from '@tarojs/shared'\n\nimport { MutationObserver, MutationRecordType } from '../dom-external/mutation-observer'\nimport { TaroNode } from './node'\nimport { NodeType } from './node_types'\n\nexport class TaroText extends TaroNode {\n  public _value: string\n  public nodeType = NodeType.TEXT_NODE\n  public nodeName = '#text'\n\n  constructor (value) {\n    super()\n    this._value = value\n  }\n\n  public set textContent (text: string) {\n    MutationObserver.record({\n      target: this,\n      type: MutationRecordType.CHARACTER_DATA,\n      oldValue: this._value\n    })\n    this._value = text\n    this.enqueueUpdate({\n      path: `${this._path}.${Shortcuts.Text}`,\n      value: text\n    })\n  }\n\n  public get textContent (): string {\n    return this._value\n  }\n\n  public set nodeValue (text: string) {\n    this.textContent = text\n  }\n\n  public get nodeValue (): string {\n    return this._value\n  }\n\n  public set data (text: string) {\n    this.textContent = text\n  }\n\n  public get data (): string {\n    return this._value\n  }\n}\n","/* eslint-disable dot-notation */\nimport {\n  EMPTY_OBJ, ensure, EventChannel,\n  getComponentsAlias, hooks, internalComponents,\n  isArray, isFunction, isString, isUndefined, Shortcuts\n} from '@tarojs/shared'\n\nimport { raf } from '../bom/raf'\nimport { taroWindowProvider } from '../bom/window'\nimport { BEHAVIORS, CONTEXT_ACTIONS, CUSTOM_WRAPPER, EXTERNAL_CLASSES, ON_HIDE, ON_LOAD, ON_READY, ON_SHOW, OPTIONS, PAGE_INIT, VIEW } from '../constants'\nimport { Current } from '../current'\nimport { eventHandler } from '../dom/event'\nimport { eventCenter } from '../emitter/emitter'\nimport env from '../env'\nimport { perf } from '../perf'\nimport { customWrapperCache, incrementId } from '../utils'\nimport { addLeadingSlash } from '../utils/router'\n\nimport type { TaroRootElement } from '../dom/root'\nimport type { MpInstance, PageConfig, TFunc } from '../interface'\nimport type { Instance, PageInstance, PageProps } from './instance'\n\nconst instances = new Map<string, Instance>()\nconst pageId = incrementId()\n\nexport function injectPageInstance (inst: Instance<PageProps>, id: string) {\n  hooks.call('mergePageInstance', instances.get(id), inst)\n  instances.set(id, inst)\n}\n\nexport function getPageInstance (id: string): Instance | undefined {\n  return instances.get(id)\n}\n\nexport function removePageInstance (id: string) {\n  instances.delete(id)\n}\n\nexport function safeExecute (path: string, lifecycle: string, ...args: unknown[]) {\n  const instance = instances.get(path)\n\n  if (instance == null) {\n    return\n  }\n\n  const func = hooks.call('getLifecycle', instance, lifecycle as keyof PageInstance)\n\n  if (isArray(func)) {\n    const res = func.map(fn => fn.apply(instance, args))\n    return res[0]\n  }\n\n  if (!isFunction(func)) {\n    return\n  }\n\n  return func.apply(instance, args)\n}\n\nexport function stringify (obj?: Record<string, unknown>) {\n  if (obj == null) {\n    return ''\n  }\n  const path = Object.keys(obj).map((key) => {\n    return key + '=' + obj[key]\n  }).join('&')\n  return path === '' ? path : '?' + path\n}\n\nexport function getPath (id: string, options?: Record<string, unknown>): string {\n  const idx = id.indexOf('?')\n  if (process.env.TARO_PLATFORM === 'web') {\n    return `${idx > -1 ? id.substring(0, idx) : id}${stringify(options?.stamp ? { stamp: options.stamp } : {})}`\n  } else {\n    return `${idx > -1 ? id.substring(0, idx) : id}${stringify(options)}`\n  }\n}\n\nexport function getOnReadyEventKey (path: string) {\n  return path + '.' + ON_READY\n}\n\nexport function getOnShowEventKey (path: string) {\n  return path + '.' + ON_SHOW\n}\n\nexport function getOnHideEventKey (path: string) {\n  return path + '.' + ON_HIDE\n}\n\nexport function createPageConfig (component: any, pageName?: string, data?: Record<string, unknown>, pageConfig?: PageConfig) {\n  // 小程序 Page 构造器是一个傲娇小公主，不能把复杂的对象挂载到参数上\n  const id = pageName ?? `taro_page_${pageId()}`\n  const [\n    ONLOAD,\n    ONUNLOAD,\n    ONREADY,\n    ONSHOW,\n    ONHIDE,\n    LIFECYCLES,\n    SIDE_EFFECT_LIFECYCLES,\n  ] = hooks.call('getMiniLifecycleImpl')!.page\n  let pageElement: TaroRootElement | null = null\n  let unmounting = false\n  let prepareMountList: (() => void)[] = []\n\n  function setCurrentRouter (page: MpInstance) {\n    const router = process.env.TARO_PLATFORM === 'web' ? page.$taroPath : page.route || page.__route__ || page.$taroPath\n    Current.router = {\n      params: page.$taroParams!,\n      path: addLeadingSlash(router),\n      $taroPath: page.$taroPath,\n      onReady: getOnReadyEventKey(id),\n      onShow: getOnShowEventKey(id),\n      onHide: getOnHideEventKey(id)\n    }\n    if (!isUndefined(page.exitState)) {\n      Current.router.exitState = page.exitState\n    }\n  }\n  let loadResolver: (...args: unknown[]) => void\n  let hasLoaded: Promise<void>\n  const config: PageInstance = {\n    [ONLOAD] (this: MpInstance, options: Readonly<Record<string, unknown>> = {}, cb?: TFunc) {\n      hasLoaded = new Promise(resolve => { loadResolver = resolve })\n\n      perf.start(PAGE_INIT)\n\n      Current.page = this as any\n      this.config = pageConfig || {}\n\n      // this.$taroPath 是页面唯一标识\n      const uniqueOptions = Object.assign({}, options, { $taroTimestamp: Date.now() })\n      const $taroPath = this.$taroPath = getPath(id, uniqueOptions)\n      if (process.env.TARO_PLATFORM === 'web') {\n        config.path = $taroPath\n      }\n      // this.$taroParams 作为暴露给开发者的页面参数对象，可以被随意修改\n      if (this.$taroParams == null) {\n        this.$taroParams = uniqueOptions\n      }\n\n      setCurrentRouter(this)\n\n      // 初始化当前页面的上下文信息\n      if (process.env.TARO_PLATFORM !== 'web') {\n        taroWindowProvider.trigger(CONTEXT_ACTIONS.INIT, $taroPath)\n      }\n\n      const mount = () => {\n        Current.app!.mount!(component, $taroPath, () => {\n          pageElement = env.document.getElementById<TaroRootElement>($taroPath)\n\n          ensure(pageElement !== null, '没有找到页面实例。')\n          safeExecute($taroPath, ON_LOAD, this.$taroParams)\n          loadResolver()\n          if (process.env.TARO_PLATFORM !== 'web') {\n            pageElement.ctx = this\n            pageElement.performUpdate(true, cb)\n          } else {\n            isFunction(cb) && cb()\n          }\n        })\n      }\n      if (unmounting) {\n        prepareMountList.push(mount)\n      } else {\n        mount()\n      }\n    },\n    [ONUNLOAD] () {\n      const $taroPath = this.$taroPath\n      // 销毁当前页面的上下文信息\n      if (process.env.TARO_PLATFORM !== 'web') {\n        taroWindowProvider.trigger(CONTEXT_ACTIONS.DESTORY, $taroPath)\n      }\n      // 触发onUnload生命周期\n      safeExecute($taroPath, ONUNLOAD)\n      unmounting = true\n      Current.app!.unmount!($taroPath, () => {\n        unmounting = false\n        instances.delete($taroPath)\n        if (pageElement) {\n          pageElement.ctx = null\n          pageElement = null\n        }\n        if (prepareMountList.length) {\n          prepareMountList.forEach(fn => fn())\n          prepareMountList = []\n        }\n      })\n    },\n    [ONREADY] () {\n      hasLoaded.then(() => {\n        // 触发生命周期\n        safeExecute(this.$taroPath, ON_READY)\n        // 通过事件触发子组件的生命周期\n        raf(() => eventCenter.trigger(getOnReadyEventKey(id)))\n        this.onReady.called = true\n      })\n    },\n    [ONSHOW] (options = {}) {\n      hasLoaded.then(() => {\n        // 设置 Current 的 page 和 router\n        Current.page = this as any\n        setCurrentRouter(this)\n        // 恢复上下文信息\n        if (process.env.TARO_PLATFORM !== 'web') {\n          taroWindowProvider.trigger(CONTEXT_ACTIONS.RECOVER, this.$taroPath)\n        }\n        // 触发生命周期\n        safeExecute(this.$taroPath, ON_SHOW, options)\n        // 通过事件触发子组件的生命周期\n        raf(() => eventCenter.trigger(getOnShowEventKey(id)))\n      })\n    },\n    [ONHIDE] () {\n      // 缓存当前页面上下文信息\n      if (process.env.TARO_PLATFORM !== 'web') {\n        taroWindowProvider.trigger(CONTEXT_ACTIONS.RESTORE, this.$taroPath)\n      }\n      // 设置 Current 的 page 和 router\n      if (Current.page === this) {\n        Current.page = null\n        Current.router = null\n      }\n      // 触发生命周期\n      safeExecute(this.$taroPath, ON_HIDE)\n      // 通过事件触发子组件的生命周期\n      eventCenter.trigger(getOnHideEventKey(id))\n    }\n  }\n\n  if (process.env.TARO_PLATFORM === 'web') {\n    config.getOpenerEventChannel = () => {\n      return EventChannel.pageChannel\n    }\n  }\n\n  LIFECYCLES.forEach((lifecycle) => {\n    let isDefer = false\n    lifecycle = lifecycle.replace(/^defer:/, () => {\n      isDefer = true\n      return ''\n    })\n    config[lifecycle] = function () {\n      const exec = () => safeExecute(this.$taroPath, lifecycle, ...arguments)\n      if (isDefer) {\n        hasLoaded.then(exec)\n      } else {\n        return exec()\n      }\n    }\n  })\n\n  // onShareAppMessage 和 onShareTimeline 一样，会影响小程序右上方按钮的选项，因此不能默认注册。\n  SIDE_EFFECT_LIFECYCLES.forEach(lifecycle => {\n    if (component[lifecycle] ||\n      component.prototype?.[lifecycle] ||\n      component[lifecycle.replace(/^on/, 'enable')] ||\n      pageConfig?.[lifecycle.replace(/^on/, 'enable')]\n    ) {\n      config[lifecycle] = function (...args) {\n        const target = args[0]?.target\n        if (target?.id) {\n          const id = target.id\n          const element = env.document.getElementById(id)\n          if (element) {\n            target.dataset = element.dataset\n          }\n        }\n        return safeExecute(this.$taroPath, lifecycle, ...args)\n      }\n    }\n  })\n\n  config.eh = eventHandler\n\n  if (!isUndefined(data)) {\n    config.data = data\n  }\n\n  hooks.call('modifyPageObject', config)\n\n  return config\n}\n\nexport function createComponentConfig (component: React.ComponentClass, componentName?: string, data?: Record<string, unknown>) {\n  const id = componentName ?? `taro_component_${pageId()}`\n  let componentElement: TaroRootElement | null = null\n  const [ATTACHED, DETACHED] = hooks.call('getMiniLifecycleImpl')!.component\n\n  const config: any = {\n    [ATTACHED] () {\n      perf.start(PAGE_INIT)\n      this.pageIdCache = this.getPageId?.() || pageId()\n\n      const path = getPath(id, { id: this.pageIdCache })\n\n      Current.app!.mount!(component, path, () => {\n        componentElement = env.document.getElementById<TaroRootElement>(path)\n        ensure(componentElement !== null, '没有找到组件实例。')\n        this.$taroInstances = instances.get(path)\n        safeExecute(path, ON_LOAD)\n        if (process.env.TARO_PLATFORM !== 'web') {\n          componentElement.ctx = this\n          componentElement.performUpdate(true)\n        }\n      })\n    },\n    [DETACHED] () {\n      const path = getPath(id, { id: this.pageIdCache })\n\n      Current.app!.unmount!(path, () => {\n        instances.delete(path)\n        if (componentElement) {\n          componentElement.ctx = null\n        }\n      })\n    },\n    methods: {\n      eh: eventHandler\n    }\n  }\n\n  if (!isUndefined(data)) {\n    config.data = data\n  }\n\n  [OPTIONS, EXTERNAL_CLASSES, BEHAVIORS].forEach(key => {\n    config[key] = component[key] ?? EMPTY_OBJ\n  })\n\n  return config\n}\n\nexport function createRecursiveComponentConfig (componentName?: string) {\n  const isCustomWrapper = componentName === CUSTOM_WRAPPER\n  const [ATTACHED, DETACHED] = hooks.call('getMiniLifecycleImpl')!.component\n\n  const lifeCycles = isCustomWrapper\n    ? {\n      [ATTACHED] () {\n        const componentId = this.data.i?.sid || this.props.i?.sid\n        if (isString(componentId)) {\n          customWrapperCache.set(componentId, this)\n          const el = env.document.getElementById(componentId)\n          if (el) {\n            el.ctx = this\n          }\n        }\n      },\n      [DETACHED] () {\n        const componentId = this.data.i?.sid || this.props.i?.sid\n        if (isString(componentId)) {\n          customWrapperCache.delete(componentId)\n          const el = env.document.getElementById(componentId)\n          if (el) {\n            el.ctx = null\n          }\n        }\n      }\n    }\n    : EMPTY_OBJ\n\n  // 不同平台的个性化配置\n  const extraOptions: { [key: string]: any } = {}\n  if (process.env.TARO_ENV === 'jd') {\n    extraOptions.addGlobalClass = true\n  }\n\n  return hooks.call('modifyRecursiveComponentConfig',\n    {\n      properties: {\n        i: {\n          type: Object,\n          value: {\n            [Shortcuts.NodeName]: getComponentsAlias(internalComponents)[VIEW]._num\n          }\n        },\n        l: {\n          type: String,\n          value: ''\n        }\n      },\n      options: {\n        ...extraOptions,\n        virtualHost: !isCustomWrapper\n      },\n      methods: {\n        eh: eventHandler\n      },\n      ...lifeCycles\n    }, { isCustomWrapper })\n}\n","import { Events, hooks } from '@tarojs/shared'\n\nconst eventCenter = hooks.call('getEventCenter', Events)!\n\nexport type EventsType = typeof Events\nexport { eventCenter, Events }\n","import { EMPTY_OBJ } from '@tarojs/shared'\n\nimport type { TaroDocument } from './dom/document'\n\ninterface Env {\n  window\n  document: TaroDocument\n}\n\nconst env: Env = {\n  window: process.env.TARO_PLATFORM === 'web' ? window : EMPTY_OBJ,\n  document: process.env.TARO_PLATFORM === 'web' ? document : EMPTY_OBJ\n}\n\nexport default env\n","import { hooks, Shortcuts, toCamelCase } from '@tarojs/shared'\n\nimport {\n  CATCH_VIEW,\n  CATCHMOVE,\n  CLASS,\n  CLICK_VIEW,\n  COMPILE_MODE,\n  ID,\n  PURE_VIEW,\n  STYLE,\n  VIEW\n} from './constants'\nimport { getComponentsAlias, isComment, isHasExtractProp, isText } from './utils'\n\nimport type { TaroElement } from './dom/element'\nimport type { TaroText } from './dom/text'\nimport type { MiniData, MiniElementData } from './interface'\n\nlet SPECIAL_NODES\nlet componentsAlias\n\n/**\n * React also has a fancy function's name for this: `hydrate()`.\n * You may have been heard `hydrate` as a SSR-related function,\n * actually, `hydrate` basicly do the `render()` thing, but ignore some properties,\n * it's a vnode traverser and modifier: that's exactly what Taro's doing in here.\n */\nexport function hydrate (node: TaroElement | TaroText): MiniData {\n  // 初始化 componentsAlias\n  componentsAlias ||= getComponentsAlias()\n\n  // 初始化 SPECIAL_NODES\n  SPECIAL_NODES ||= hooks.call('getSpecialNodes')!\n\n  const nodeName = node.nodeName\n  let compileModeName = null\n\n  if (isText(node)) {\n    return {\n      sid: node.sid,\n      [Shortcuts.Text]: node.nodeValue,\n      [Shortcuts.NodeName]: componentsAlias[nodeName]?._num || '8'\n    }\n  }\n\n  const data: MiniElementData = {\n    [Shortcuts.NodeName]: nodeName,\n    sid: node.sid\n  }\n\n  if (node.uid !== node.sid) {\n    data.uid = node.uid\n  }\n\n  if (SPECIAL_NODES.indexOf(nodeName) > -1) {\n    if (!node.isAnyEventBinded()) {\n      data[Shortcuts.NodeName] = `static-${nodeName}`\n      if (nodeName === VIEW && !isHasExtractProp(node)) {\n        data[Shortcuts.NodeName] = PURE_VIEW\n      }\n    }\n\n    if (nodeName === VIEW && node.isOnlyClickBinded() && !isHasExtractProp(node)) {\n      data[Shortcuts.NodeName] = CLICK_VIEW\n    }\n  }\n\n  const { props } = node\n  for (const prop in props) {\n    const propInCamelCase = toCamelCase(prop)\n    if (\n      !prop.startsWith('data-') && // 在 node.dataset 的数据\n      prop !== CLASS &&\n      prop !== STYLE &&\n      prop !== ID &&\n      propInCamelCase !== CATCHMOVE &&\n      propInCamelCase !== COMPILE_MODE\n    ) {\n      data[propInCamelCase] = props[prop]\n    }\n    if (\n      process.env.TARO_ENV !== 'swan' &&\n      nodeName === VIEW &&\n      propInCamelCase === CATCHMOVE &&\n      props[prop] !== false\n    ) {\n      data[Shortcuts.NodeName] = CATCH_VIEW\n    }\n    if (propInCamelCase === COMPILE_MODE) {\n      compileModeName = props[prop]\n    }\n  }\n\n  // Children\n  data[Shortcuts.Childnodes] = node.childNodes.filter(node => !isComment(node)).map(hydrate)\n\n  if (node.className !== '') {\n    data[Shortcuts.Class] = node.className\n  }\n\n  const cssText = node.cssText\n  if (cssText !== '' && nodeName !== 'swiper-item') {\n    data[Shortcuts.Style] = cssText\n  }\n\n  hooks.call('modifyHydrateData', data, node)\n\n  const nn = data[Shortcuts.NodeName]\n  const componentAlias = componentsAlias[nn]\n  if (componentAlias) {\n    data[Shortcuts.NodeName] = componentAlias._num\n    for (const prop in data) {\n      if (prop in componentAlias) {\n        data[componentAlias[prop]] = data[prop]\n        delete data[prop]\n      }\n    }\n  }\n\n  if (compileModeName !== null) {\n    data[Shortcuts.NodeName] = compileModeName\n  }\n\n  const resData = hooks.call('transferHydrateData', data, node, componentAlias)\n\n  return resData || data\n}\n","import { options } from '../../options'\n\ninterface Position {\n  index: number\n  column: number\n  line: number\n}\n\nexport interface Token {\n  type: string\n  content?: string\n  position?: {\n    start?: Position\n    end?: Position\n  }\n  close?: boolean\n}\n\nfunction initPosition (): Position {\n  return {\n    index: 0,\n    column: 0,\n    line: 0\n  }\n}\n\nfunction feedPosition (position: Position, str: string, len: number) {\n  const start = position.index\n  const end = position.index = start + len\n  for (let i = start; i < end; i++) {\n    const char = str.charAt(i)\n    if (char === '\\n') {\n      position.line++\n      position.column = 0\n    } else {\n      position.column++\n    }\n  }\n}\n\nfunction jumpPosition (position: Position, str: string, end: number) {\n  const len = end - position.index\n  return feedPosition(position, str, len)\n}\n\nfunction copyPosition (position: Position) {\n  return {\n    index: position.index,\n    line: position.line,\n    column: position.column\n  }\n}\n\nconst whitespace = /\\s/\nfunction isWhitespaceChar (char: string) {\n  return whitespace.test(char)\n}\n\nconst equalSign = /=/\nfunction isEqualSignChar (char: string) {\n  return equalSign.test(char)\n}\n\nfunction shouldBeIgnore (tagName: string) {\n  const name = tagName.toLowerCase()\n  if (options.html!.skipElements.has(name)) {\n    return true\n  }\n  return false\n}\n\nconst alphanumeric = /[A-Za-z0-9]/\n\nfunction findTextEnd (str: string, index: number) {\n  while (true) {\n    const textEnd = str.indexOf('<', index)\n    if (textEnd === -1) {\n      return textEnd\n    }\n    const char = str.charAt(textEnd + 1)\n    if (char === '/' || char === '!' || alphanumeric.test(char)) {\n      return textEnd\n    }\n    index = textEnd + 1\n  }\n}\n\nfunction isWordEnd (cursor: number, wordBegin: number, html: string) {\n  if (!isWhitespaceChar(html.charAt(cursor))) return false\n\n  const len = html.length\n\n  // backwrad\n  for (let i = cursor - 1; i > wordBegin; i--) {\n    const char = html.charAt(i)\n    if (!isWhitespaceChar(char)) {\n      if (isEqualSignChar(char)) return false\n      break\n    }\n  }\n\n  // forward\n  for (let i = cursor + 1; i < len; i++) {\n    const char = html.charAt(i)\n    if (!isWhitespaceChar(char)) {\n      if (isEqualSignChar(char)) return false\n      return true\n    }\n  }\n}\n\nexport class Scaner {\n  private tokens: Token[] = []\n\n  private position: Position = initPosition()\n\n  private html: string\n\n  constructor (html: string) {\n    this.html = html\n  }\n\n  public scan (): Token[] {\n    const { html, position } = this\n    const len = html.length\n\n    while (position.index < len) {\n      const start = position.index\n      this.scanText()\n      if (position.index === start) {\n        const isComment = html.startsWith('!--', start + 1)\n        if (isComment) {\n          this.scanComment()\n        } else {\n          const tagName = this.scanTag()\n          if (shouldBeIgnore(tagName)) {\n            this.scanSkipTag(tagName)\n          }\n        }\n      }\n    }\n\n    return this.tokens\n  }\n\n  private scanText () {\n    const type = 'text'\n    const { html, position } = this\n    let textEnd = findTextEnd(html, position.index)\n    if (textEnd === position.index) {\n      return\n    }\n    if (textEnd === -1) {\n      textEnd = html.length\n    }\n\n    const start = copyPosition(position)\n    const content = html.slice(position.index, textEnd)\n    jumpPosition(position, html, textEnd)\n    const end = copyPosition(position)\n    this.tokens.push({ type, content, position: { start, end } })\n  }\n\n  private scanComment () {\n    const type = 'comment'\n    const { html, position } = this\n    const start = copyPosition(position)\n    feedPosition(position, html, 4) // \"<!--\".length\n    let contentEnd = html.indexOf('-->', position.index)\n    let commentEnd = contentEnd + 3 // \"-->\".length\n    if (contentEnd === -1) {\n      contentEnd = commentEnd = html.length\n    }\n\n    const content = html.slice(position.index, contentEnd)\n    jumpPosition(position, html, commentEnd)\n    this.tokens.push({\n      type,\n      content,\n      position: {\n        start,\n        end: copyPosition(position)\n      }\n    })\n  }\n\n  private scanTag () {\n    this.scanTagStart()\n    const tagName = this.scanTagName()\n    this.scanAttrs()\n    this.scanTagEnd()\n\n    return tagName\n  }\n\n  private scanTagStart () {\n    const type = 'tag-start'\n    const { html, position } = this\n\n    const secondChar = html.charAt(position.index + 1)\n    const close = secondChar === '/'\n    const start = copyPosition(position)\n    feedPosition(position, html, close ? 2 : 1)\n    this.tokens.push({ type, close, position: { start } })\n  }\n\n  private scanTagEnd () {\n    const type = 'tag-end'\n    const { html, position } = this\n\n    const firstChar = html.charAt(position.index)\n    const close = firstChar === '/'\n    feedPosition(position, html, close ? 2 : 1)\n    const end = copyPosition(position)\n    this.tokens.push({ type, close, position: { end } })\n  }\n\n  private scanTagName (): string {\n    const type = 'tag'\n    const { html, position } = this\n    const len = html.length\n    let start = position.index\n    while (start < len) {\n      const char = html.charAt(start)\n      const isTagChar = !(isWhitespaceChar(char) || char === '/' || char === '>')\n      if (isTagChar) break\n      start++\n    }\n\n    let end = start + 1\n    while (end < len) {\n      const char = html.charAt(end)\n      const isTagChar = !(isWhitespaceChar(char) || char === '/' || char === '>')\n      if (!isTagChar) break\n      end++\n    }\n\n    jumpPosition(position, html, end)\n    const tagName = html.slice(start, end)\n    this.tokens.push({\n      type,\n      content: tagName\n    })\n\n    return tagName\n  }\n\n  private scanAttrs () {\n    const { html, position, tokens } = this\n    let cursor = position.index\n    let quote: string | null = null // null, single-, or double-quote\n    let wordBegin = cursor // index of word start\n    const words: string[] = [] // \"key\", \"key=value\", \"key='value'\", etc\n    const len = html.length\n    while (cursor < len) {\n      const char = html.charAt(cursor)\n      if (quote) {\n        const isQuoteEnd = char === quote\n        if (isQuoteEnd) {\n          quote = null\n        }\n        cursor++\n        continue\n      }\n\n      const isTagEnd = char === '/' || char === '>'\n      if (isTagEnd) {\n        if (cursor !== wordBegin) {\n          words.push(html.slice(wordBegin, cursor))\n        }\n        break\n      }\n\n      if (isWordEnd(cursor, wordBegin, html)) {\n        if (cursor !== wordBegin) {\n          words.push(html.slice(wordBegin, cursor))\n        }\n        wordBegin = cursor + 1\n        cursor++\n        continue\n      }\n\n      const isQuoteStart = char === '\\'' || char === '\"'\n      if (isQuoteStart) {\n        quote = char\n        cursor++\n        continue\n      }\n\n      cursor++\n    }\n\n    jumpPosition(position, html, cursor)\n\n    const wLen = words.length\n    const type = 'attribute'\n    for (let i = 0; i < wLen; i++) {\n      const word = words[i]\n      const isNotPair = word.includes('=')\n      if (isNotPair) {\n        const secondWord = words[i + 1]\n        if (secondWord && secondWord.startsWith('=')) {\n          if (secondWord.length > 1) {\n            const newWord = word + secondWord\n            tokens.push({ type, content: newWord })\n            i += 1\n            continue\n          }\n          const thirdWord = words[i + 2]\n          i += 1\n          if (thirdWord) {\n            const newWord = word + '=' + thirdWord\n            tokens.push({ type, content: newWord })\n            i += 1\n            continue\n          }\n        }\n      }\n      if (word.endsWith('=')) {\n        const secondWord = words[i + 1]\n        if (secondWord && !secondWord.includes('=')) {\n          const newWord = word + secondWord\n          tokens.push({ type, content: newWord })\n          i += 1\n          continue\n        }\n\n        const newWord = word.slice(0, -1)\n        tokens.push({ type, content: newWord })\n        continue\n      }\n\n      tokens.push({ type, content: word })\n    }\n  }\n\n  private scanSkipTag (tagName: string) {\n    const { html, position } = this\n    const safeTagName = tagName.toLowerCase()\n    const len = html.length\n    while (position.index < len) {\n      const nextTag = html.indexOf('</', position.index)\n      if (nextTag === -1) {\n        this.scanText()\n        break\n      }\n\n      jumpPosition(position, html, nextTag)\n      const name = this.scanTag()\n      if (safeTagName === name.toLowerCase()) {\n        break\n      }\n    }\n  }\n}\n","export function unquote (str: string): string {\n  const car = str.charAt(0)\n  const end = str.length - 1\n  const isQuoteStart = car === '\"' || car === \"'\"\n  if (isQuoteStart && car === str.charAt(end)) {\n    return str.slice(1, end)\n  }\n  return str\n}\n","import { NodeType } from '../../dom/node_types'\nimport { unquote } from './utils'\n\nimport type { ParsedTaroElement } from './parser'\n\nconst LEFT_BRACKET = '{'\nconst RIGHT_BRACKET = '}'\nconst CLASS_SELECTOR = '.'\nconst ID_SELECTOR = '#'\nconst CHILD_COMBINATOR = '>'\nconst GENERAL_SIBLING_COMBINATOR = '~'\nconst ADJACENT_SIBLING_COMBINATOR = '+'\n\ninterface ISelector {\n  isChild: boolean\n  isGeneralSibling: boolean\n  isAdjacentSibling: boolean\n  tag: string | null\n  id: string | null\n  class: string[]\n  attrs: {\n    all: boolean\n    key: string\n    value?: string | null\n  }[]\n}\n\ninterface IStyle {\n  content: string\n  selectorList: ISelector[]\n}\n\nexport default class StyleTagParser {\n  styles: IStyle[] = []\n\n  extractStyle (src: string) {\n    const REG_STYLE = /<style\\s?[^>]*>((.|\\n|\\s)+?)<\\/style>/g\n    let html = src\n    // let html = src.replace(/\\n/g, '')\n\n    html = html.replace(REG_STYLE, (_, $1: string) => {\n      const style = $1.trim()\n      this.stringToSelector(style)\n      return ''\n    })\n\n    return html.trim()\n  }\n\n  stringToSelector (style: string) {\n    let lb = style.indexOf(LEFT_BRACKET)\n\n    while (lb > -1) {\n      const rb = style.indexOf(RIGHT_BRACKET)\n      const selectors = style.slice(0, lb).trim()\n\n      let content = style.slice(lb + 1, rb)\n      content = content.replace(/:(.*);/g, function (_, $1) {\n        const t = $1.trim().replace(/ +/g, '+++')\n        return `:${t};`\n      })\n      content = content.replace(/ /g, '')\n      content = content.replace(/\\+\\+\\+/g, ' ')\n\n      if (!(/;$/.test(content))) {\n        content += ';'\n      }\n      selectors.split(',').forEach(src => {\n        const selectorList = this.parseSelector(src)\n        this.styles.push({\n          content,\n          selectorList\n        })\n      })\n      style = style.slice(rb + 1)\n      lb = style.indexOf(LEFT_BRACKET)\n    }\n    // console.log('res this.styles: ', this.styles)\n  }\n\n  parseSelector (src: string) {\n    const list = src\n      .trim()\n      .replace(/ *([>~+]) */g, ' $1')\n      .replace(/ +/g, ' ')\n      .replace(/\\[\\s*([^[\\]=\\s]+)\\s*=\\s*([^[\\]=\\s]+)\\s*\\]/g, '[$1=$2]')\n      .split(' ')\n    const selectors = list.map(item => {\n      const firstChar = item.charAt(0)\n      const selector: ISelector = {\n        isChild: firstChar === CHILD_COMBINATOR,\n        isGeneralSibling: firstChar === GENERAL_SIBLING_COMBINATOR,\n        isAdjacentSibling: firstChar === ADJACENT_SIBLING_COMBINATOR,\n        tag: null,\n        id: null,\n        class: [],\n        attrs: []\n      }\n\n      item = item.replace(/^[>~+]/, '')\n\n      // 属性选择器\n      item = item.replace(/\\[(.+?)\\]/g, function (_, $1: string) {\n        const [key, value] = $1.split('=')\n        const all = $1.indexOf('=') === -1\n\n        const attr = {\n          all,\n          key,\n          value: all ? null : value\n        }\n        selector.attrs.push(attr)\n        return ''\n      })\n\n      item = item.replace(/([.#][A-Za-z0-9-_]+)/g, function (_, $1: string) {\n        if ($1[0] === ID_SELECTOR) {\n          // id 选择器\n          selector.id = $1.substr(1)\n        } else if ($1[0] === CLASS_SELECTOR) {\n          // class 选择器\n          selector.class.push($1.substr(1))\n        }\n        return ''\n      })\n\n      // 标签选择器\n      if (item !== '') {\n        selector.tag = item\n      }\n\n      return selector\n    })\n    return selectors\n  }\n\n  matchStyle (tagName: string, el: ParsedTaroElement, list: number[]): string {\n    const res = sortStyles(this.styles).reduce((str, { content, selectorList }, i) => {\n      let idx = list[i]\n      let selector = selectorList[idx]\n      const nextSelector = selectorList[idx + 1]\n\n      if (nextSelector?.isGeneralSibling || nextSelector?.isAdjacentSibling) {\n        selector = nextSelector\n        idx += 1\n        list[i] += 1\n      }\n\n      let isMatch = this.matchCurrent(tagName, el, selector)\n\n      if (isMatch && selector.isGeneralSibling) {\n        let prev: ParsedTaroElement | null = getPreviousElement(el)\n        while (prev) {\n          if (prev.h5tagName && this.matchCurrent(prev.h5tagName, prev, selectorList[idx - 1])) {\n            isMatch = true\n            break\n          }\n          prev = getPreviousElement(prev)\n          isMatch = false\n        }\n      }\n      if (isMatch && selector.isAdjacentSibling) {\n        const prev: ParsedTaroElement | null = getPreviousElement(el)\n        if (!prev || !prev.h5tagName) {\n          isMatch = false\n        } else {\n          const isSiblingMatch = this.matchCurrent(prev.h5tagName, prev, selectorList[idx - 1])\n          if (!isSiblingMatch) {\n            isMatch = false\n          }\n        }\n      }\n\n      if (isMatch) {\n        if (idx === selectorList.length - 1) {\n          return str + content\n        } else if (idx < selectorList.length - 1) {\n          list[i] += 1\n        }\n      } else {\n        // 直接子代组合器: >\n        if (selector.isChild && idx > 0) {\n          list[i] -= 1\n          if (this.matchCurrent(tagName, el, selectorList[list[i]])) {\n            list[i] += 1\n          }\n        }\n      }\n\n      return str\n    }, '')\n    return res\n  }\n\n  matchCurrent (tagName: string, el: ParsedTaroElement, selector: ISelector): boolean {\n    // 标签选择器\n    if (selector.tag && selector.tag !== tagName) return false\n\n    // id 选择器\n    if (selector.id && selector.id !== el.id) return false\n\n    // class 选择器\n    if (selector.class.length) {\n      const classList = el.className.split(' ')\n      for (let i = 0; i < selector.class.length; i++) {\n        const cls = selector.class[i]\n        if (classList.indexOf(cls) === -1) {\n          return false\n        }\n      }\n    }\n\n    // 属性选择器\n    if (selector.attrs.length) {\n      for (let i = 0; i < selector.attrs.length; i++) {\n        const { all, key, value } = selector.attrs[i]\n        if (all && !el.hasAttribute(key)) {\n          return false\n        } else {\n          const attr = el.getAttribute(key)\n          if (attr !== unquote(value || '')) {\n            return false\n          }\n        }\n      }\n    }\n\n    return true\n  }\n}\n\nfunction getPreviousElement (el: ParsedTaroElement): ParsedTaroElement | null {\n  const parent = el.parentElement\n  if (!parent) return null\n\n  const prev = el.previousSibling as ParsedTaroElement\n  if (!prev) return null\n\n  if (prev.nodeType === NodeType.ELEMENT_NODE) {\n    return prev\n  } else {\n    return getPreviousElement(prev)\n  }\n}\n\n// 根据 css selector 权重排序: 权重大的靠后\n// @WARN 不考虑伪类\n// https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Cascade_and_inheritance#specificity_2\nfunction sortStyles (styles: IStyle[]) {\n  return styles.sort((s1, s2) => {\n    const hundreds1 = getHundredsWeight(s1.selectorList)\n    const hundreds2 = getHundredsWeight(s2.selectorList)\n\n    if (hundreds1 !== hundreds2) return hundreds1 - hundreds2\n\n    const tens1 = getTensWeight(s1.selectorList)\n    const tens2 = getTensWeight(s2.selectorList)\n\n    if (tens1 !== tens2) return tens1 - tens2\n\n    const ones1 = getOnesWeight(s1.selectorList)\n    const ones2 = getOnesWeight(s2.selectorList)\n\n    return ones1 - ones2\n  })\n}\n\nfunction getHundredsWeight (selectors: ISelector[]) {\n  return selectors.reduce((pre, cur) => pre + (cur.id ? 1 : 0), 0)\n}\n\nfunction getTensWeight (selectors: ISelector[]) {\n  return selectors.reduce((pre, cur) => pre + cur.class.length + cur.attrs.length, 0)\n}\n\nfunction getOnesWeight (selectors: ISelector[]) {\n  return selectors.reduce((pre, cur) => pre + (cur.tag ? 1 : 0), 0)\n}\n","import { internalComponents } from '@tarojs/shared'\n\nexport function makeMap (\n  str: string,\n  expectsLowerCase?: boolean\n): (key: string) => boolean {\n  const map: Record<string, boolean> = Object.create(null)\n  const list: Array<string> = str.split(',')\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true\n  }\n  return expectsLowerCase ? val => !!map[val.toLowerCase()] : val => !!map[val]\n}\n\nexport const specialMiniElements = {\n  img: 'image',\n  iframe: 'web-view'\n}\n\nconst internalCompsList = Object.keys(internalComponents)\n  .map(i => i.toLowerCase())\n  .join(',')\n\n// https://developers.weixin.qq.com/miniprogram/dev/component\nexport const isMiniElements = makeMap(internalCompsList, true)\n\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Inline_elements\nexport const isInlineElements = makeMap('a,i,abbr,iframe,select,acronym,slot,small,span,bdi,kbd,strong,big,map,sub,sup,br,mark,mark,meter,template,canvas,textarea,cite,object,time,code,output,u,data,picture,tt,datalist,var,dfn,del,q,em,s,embed,samp,b', true)\n\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Block-level_elements\nexport const isBlockElements = makeMap('address,fieldset,li,article,figcaption,main,aside,figure,nav,blockquote,footer,ol,details,form,p,dialog,h1,h2,h3,h4,h5,h6,pre,dd,header,section,div,hgroup,table,dl,hr,ul,dt', true)\n","import { isFunction } from '@tarojs/shared'\n\nimport { options } from '../../options'\nimport { Scaner, Token } from './scaner'\nimport StyleTagParser from './style'\nimport { isBlockElements, isInlineElements, isMiniElements, specialMiniElements } from './tags'\nimport { unquote } from './utils'\n\nimport type { TaroDocument } from '../../dom/document'\nimport type { TaroElement } from '../../dom/element'\n\ninterface State {\n  tokens: Token[]\n  cursor: number\n  stack: Element[]\n}\n\nconst closingTagAncestorBreakers = {\n  li: ['ul', 'ol', 'menu'],\n  dt: ['dl'],\n  dd: ['dl'],\n  tbody: ['table'],\n  thead: ['table'],\n  tfoot: ['table'],\n  tr: ['table'],\n  td: ['table']\n}\n\ninterface Node {\n  type: string\n}\n\ninterface Comment extends Node {\n  type: 'comment'\n  content: string\n}\n\nexport interface Text extends Node {\n  type: 'text'\n  content: string\n}\n\nexport interface Element extends Node {\n  type: 'element'\n  tagName: string\n  children: ChildNode[]\n  attributes: string[]\n}\n\nexport interface ParsedTaroElement extends TaroElement{\n  h5tagName?: string\n}\n\ntype ChildNode = Comment | Text | Element\n\nfunction hasTerminalParent (tagName: string, stack: Element[]) {\n  const tagParents: undefined | string[] = closingTagAncestorBreakers[tagName]\n  if (tagParents) {\n    let currentIndex = stack.length - 1\n    while (currentIndex >= 0) {\n      const parentTagName = stack[currentIndex].tagName\n      if (parentTagName === tagName) {\n        break\n      }\n      if (tagParents && tagParents.includes(parentTagName!)) {\n        return true\n      }\n      currentIndex--\n    }\n  }\n  return false\n}\n\nfunction getTagName (tag: string) {\n  if (options.html!.renderHTMLTag) {\n    return tag\n  }\n\n  if (specialMiniElements[tag]) {\n    return specialMiniElements[tag]\n  } else if (isMiniElements(tag)) {\n    return tag\n  } else if (isBlockElements(tag)) {\n    return 'view'\n  } else if (isInlineElements(tag)) {\n    return 'text'\n  }\n\n  return 'view'\n}\n\nfunction splitEqual (str: string) {\n  const sep = '='\n  const idx = str.indexOf(sep)\n  if (idx === -1) return [str]\n  const key = str.slice(0, idx).trim()\n  const value = str.slice(idx + sep.length).trim()\n  return [key, value]\n}\n\nfunction format (\n  children: ChildNode[],\n  document: TaroDocument,\n  styleOptions: {\n    styleTagParser: StyleTagParser\n    descendantList: number[]\n  },\n  parent?: TaroElement\n) {\n  return children\n    .filter(child => {\n      // 过滤注释和空文本节点\n      if (child.type === 'comment') {\n        return false\n      } else if (child.type === 'text') {\n        return child.content !== ''\n      }\n      return true\n    })\n    .map((child: Text | Element) => {\n      // 文本节点\n      if (child.type === 'text') {\n        let text = document.createTextNode(child.content)\n        if (isFunction(options.html!.transformText)) {\n          text = options.html!.transformText(text, child)\n        }\n        parent?.appendChild(text)\n        return text\n      }\n\n      const el: ParsedTaroElement = document.createElement(getTagName(child.tagName))\n      el.h5tagName = child.tagName\n\n      parent?.appendChild(el)\n\n      if (!options.html!.renderHTMLTag) {\n        el.className = `h5-${child.tagName}`\n      }\n\n      for (let i = 0; i < child.attributes.length; i++) {\n        const attr = child.attributes[i]\n        const [key, value] = splitEqual(attr)\n        if (key === 'class') {\n          el.className += ' ' + unquote(value)\n        } else if (key[0] === 'o' && key[1] === 'n') {\n          continue\n        } else {\n          el.setAttribute(key, value == null ? true : unquote(value))\n        }\n      }\n\n      const { styleTagParser, descendantList } = styleOptions\n      const list = descendantList.slice()\n      const style = styleTagParser.matchStyle(child.tagName, el, list)\n\n      el.setAttribute('style', style + el.style.cssText)\n      // console.log('style, ', style)\n\n      format(child.children, document, {\n        styleTagParser,\n        descendantList: list\n      }, el)\n\n      if (isFunction(options.html!.transformElement)) {\n        return options.html!.transformElement(el, child)\n      }\n\n      return el\n    })\n}\n\nexport function parser (html: string, document: TaroDocument) {\n  const styleTagParser = new StyleTagParser()\n  html = styleTagParser.extractStyle(html)\n\n  const tokens = new Scaner(html).scan()\n\n  const root: Element = { tagName: '', children: [], type: 'element', attributes: [] }\n\n  const state = { tokens, options, cursor: 0, stack: [root] }\n  parse(state)\n\n  return format(root.children, document, {\n    styleTagParser,\n    descendantList: Array(styleTagParser.styles.length).fill(0)\n  })\n}\n\nfunction parse (state: State) {\n  const { tokens, stack } = state\n  let { cursor } = state\n\n  const len = tokens.length\n\n  let nodes = stack[stack.length - 1].children\n\n  while (cursor < len) {\n    const token = tokens[cursor]\n    if (token.type !== 'tag-start') {\n      // comment or text\n      nodes.push(token as ChildNode)\n      cursor++\n      continue\n    }\n\n    const tagToken = tokens[++cursor]\n    cursor++\n    const tagName = tagToken.content!.toLowerCase()\n    if (token.close) {\n      let index = stack.length\n      let shouldRewind = false\n      while (--index > -1) {\n        if (stack[index].tagName === tagName) {\n          shouldRewind = true\n          break\n        }\n      }\n      while (cursor < len) {\n        const endToken = tokens[cursor]\n        if (endToken.type !== 'tag-end') break\n        cursor++\n      }\n      if (shouldRewind) {\n        stack.splice(index)\n        break\n      } else {\n        continue\n      }\n    }\n\n    const isClosingTag = options.html!.closingElements.has(tagName)\n    let shouldRewindToAutoClose = isClosingTag\n    if (shouldRewindToAutoClose) {\n      shouldRewindToAutoClose = !hasTerminalParent(tagName, stack)\n    }\n\n    if (shouldRewindToAutoClose) {\n      let currentIndex = stack.length - 1\n      while (currentIndex > 0) {\n        if (tagName === stack[currentIndex].tagName) {\n          stack.splice(currentIndex)\n          const previousIndex = currentIndex - 1\n          nodes = stack[previousIndex].children\n          break\n        }\n        currentIndex = currentIndex - 1\n      }\n    }\n\n    const attributes: string[] = []\n    let attrToken: Token\n    while (cursor < len) {\n      attrToken = tokens[cursor]\n      if (attrToken.type === 'tag-end') break\n      attributes.push(attrToken.content!)\n      cursor++\n    }\n\n    cursor++\n    const children: Element[] = []\n    const element: Element = {\n      type: 'element',\n      tagName: tagToken.content!,\n      attributes,\n      children\n    }\n    nodes.push(element)\n\n    const hasChildren = !(attrToken!.close || options.html!.voidElements.has(tagName))\n    if (hasChildren) {\n      stack.push({ tagName, children } as any)\n      const innerState: State = { tokens, cursor, stack }\n      parse(innerState)\n      cursor = innerState.cursor\n    }\n  }\n\n  state.cursor = cursor\n}\n","import { options } from '../../options'\nimport { parser } from './parser'\n\nimport type { TaroNode } from '../../dom/node'\n\noptions.html = {\n  skipElements: new Set(['style', 'script']),\n  voidElements: new Set([\n    '!doctype', 'area', 'base', 'br', 'col', 'command',\n    'embed', 'hr', 'img', 'input', 'keygen', 'link',\n    'meta', 'param', 'source', 'track', 'wbr'\n  ]),\n  closingElements: new Set([\n    'html', 'head', 'body', 'p', 'dt', 'dd', 'li', 'option',\n    'thead', 'th', 'tbody', 'tr', 'td', 'tfoot', 'colgroup'\n  ]),\n  renderHTMLTag: false\n}\n\nexport function setInnerHTML (element: TaroNode, html: string) {\n  while (element.firstChild) {\n    element.removeChild(element.firstChild)\n  }\n  const children = parser(html, element.ownerDocument)\n\n  for (let i = 0; i < children.length; i++) {\n    element.appendChild(children[i])\n  }\n}\n","import { PLATFORM_TYPE } from '@tarojs/shared'\n\nimport { TaroElement } from '../dom/element'\nimport { TaroNode } from '../dom/node'\nimport { setInnerHTML } from '../dom-external/inner-html/html'\nimport { getBoundingClientRectImpl, getTemplateContent } from './element'\nimport { cloneNode, contains, insertAdjacentHTML } from './node'\n\ndeclare const ENABLE_INNER_HTML: boolean\ndeclare const ENABLE_ADJACENT_HTML: boolean\ndeclare const ENABLE_CLONE_NODE: boolean\ndeclare const ENABLE_CONTAINS: boolean\n\ndeclare const ENABLE_SIZE_APIS: boolean\ndeclare const ENABLE_TEMPLATE_CONTENT: boolean\n\nif (process.env.TARO_PLATFORM !== PLATFORM_TYPE.WEB && process.env.TARO_PLATFORM !== PLATFORM_TYPE.HARMONY) {\n  if (ENABLE_INNER_HTML) {\n    TaroNode.extend('innerHTML', {\n      set (html: string) {\n        setInnerHTML.call(this, this, html)\n      },\n      get (): string {\n        return ''\n      }\n    })\n\n    if (ENABLE_ADJACENT_HTML) {\n      TaroNode.extend('insertAdjacentHTML', insertAdjacentHTML)\n    }\n  }\n\n  if (ENABLE_CLONE_NODE) {\n    TaroNode.extend('cloneNode', cloneNode)\n  }\n\n  if (ENABLE_CONTAINS) {\n    TaroNode.extend('contains', contains)\n  }\n\n  if (ENABLE_SIZE_APIS) {\n    TaroElement.extend('getBoundingClientRect', getBoundingClientRectImpl)\n  }\n\n  if (ENABLE_TEMPLATE_CONTENT) {\n    TaroElement.extend('content', {\n      get () {\n        return getTemplateContent(this)\n      }\n    })\n  }\n}\n","import { TaroElement } from './element'\n\n// for Vue3\nexport class SVGElement extends TaroElement {}\n","import { isObject } from '@tarojs/shared'\n\nimport { handleArrayFindPolyfill, handleArrayIncludesPolyfill } from './array'\nimport { handleIntersectionObserverPolyfill } from './intersection-observer'\nimport { handleObjectAssignPolyfill, handleObjectDefinePropertyPolyfill, handleObjectEntriesPolyfill } from './object'\n\nfunction handlePolyfill () {\n  if (process.env.SUPPORT_TARO_POLYFILL === 'enabled' || process.env.SUPPORT_TARO_POLYFILL === 'Object' || process.env.SUPPORT_TARO_POLYFILL === 'Object.assign') {\n    handleObjectAssignPolyfill()\n  }\n  if (process.env.SUPPORT_TARO_POLYFILL === 'enabled' || process.env.SUPPORT_TARO_POLYFILL === 'Object' || process.env.SUPPORT_TARO_POLYFILL === 'Object.entries') {\n    handleObjectEntriesPolyfill()\n  }\n  if (process.env.SUPPORT_TARO_POLYFILL === 'enabled' || process.env.SUPPORT_TARO_POLYFILL === 'Object' || process.env.SUPPORT_TARO_POLYFILL === 'Object.defineProperty') {\n    handleObjectDefinePropertyPolyfill()\n  }\n  if (process.env.SUPPORT_TARO_POLYFILL === 'enabled' || process.env.SUPPORT_TARO_POLYFILL === 'Array' || process.env.SUPPORT_TARO_POLYFILL === 'Array.find') {\n    handleArrayFindPolyfill()\n  }\n  if (process.env.SUPPORT_TARO_POLYFILL === 'enabled' || process.env.SUPPORT_TARO_POLYFILL === 'Array' || process.env.SUPPORT_TARO_POLYFILL === 'Array.includes') {\n    handleArrayIncludesPolyfill()\n  }\n  // Exit early if we're not running in a browser.\n  if (process.env.TARO_PLATFORM === 'web' && isObject(window)) {\n    if (process.env.SUPPORT_TARO_POLYFILL === 'enabled' || process.env.SUPPORT_TARO_POLYFILL === 'IntersectionObserver') {\n      handleIntersectionObserverPolyfill()\n    }\n  }\n}\n\nif (process.env.SUPPORT_TARO_POLYFILL !== 'disabled' && process.env.TARO_PLATFORM !== 'web') {\n  handlePolyfill()\n}\n\nexport { handlePolyfill }\n\n","import { Current } from './current'\nimport { TaroRootElement } from './dom/root'\nimport env from './env'\n\nimport type { TFunc } from './interface'\n\nconst TIMEOUT = 100\n\nexport const nextTick = (cb: TFunc, ctx?: Record<string, any>) => {\n  const beginTime = Date.now()\n  const router = Current.router\n\n  const timerFunc = () => {\n    setTimeout(function () {\n      ctx ? cb.call(ctx) : cb()\n    }, 1)\n  }\n\n  if (router === null) return timerFunc()\n\n  const path = router.$taroPath\n\n  /**\n   * 三种情况\n   *   1. 调用 nextTick 时，pendingUpdate 已经从 true 变为 false（即已更新完成），那么需要光等 100ms\n   *   2. 调用 nextTick 时，pendingUpdate 为 true，那么刚好可以搭上便车\n   *   3. 调用 nextTick 时，pendingUpdate 还是 false，框架仍未启动更新逻辑，这时最多轮询 100ms，等待 pendingUpdate 变为 true。\n   */\n  function next () {\n    const pageElement: TaroRootElement | null = env.document.getElementById<TaroRootElement>(path)\n    if (pageElement?.pendingUpdate) {\n      if (process.env.TARO_PLATFORM === 'web') {\n        // eslint-disable-next-line dot-notation\n        pageElement.firstChild?.['componentOnReady']?.().then(() => {\n          timerFunc()\n        }) ?? timerFunc()\n      } else {\n        pageElement.enqueueUpdateCallback(cb, ctx)\n      }\n    } else if (Date.now() - beginTime > TIMEOUT) {\n      timerFunc()\n    } else {\n      setTimeout(() => next(), 20)\n    }\n  }\n\n  next()\n}\n","import type { Options } from './interface'\n\nexport const options: Options = {\n  prerender: true,\n  debug: false\n}\n","import { options } from './options'\nimport { debounce } from './utils'\n\nimport type { TFunc } from './interface'\n\nclass Performance {\n  private recorder = new Map<string, number>()\n\n  public start (id: string) {\n    if (!options.debug) {\n      return\n    }\n    this.recorder.set(id, Date.now())\n  }\n\n  public stop (id: string, now = Date.now()) {\n    if (!options.debug) {\n      return\n    }\n    const prev = this.recorder.get(id)!\n    if (!(prev >= 0)) return\n\n    this.recorder.delete(id)\n    const time = now - prev\n    // eslint-disable-next-line no-console\n    console.log(`${id} 时长： ${time}ms 开始时间：${this.#parseTime(prev)} 结束时间：${this.#parseTime(now)}`)\n  }\n\n  public delayStop (id: string, delay = 500) {\n    if (!options.debug) {\n      return\n    }\n\n    return debounce((now = Date.now(), cb?: TFunc) => {\n      this.stop(id, now)\n      cb?.()\n    }, delay)\n  }\n\n  #parseTime (time: number) {\n    const d = new Date(time)\n    return `${d.getHours()}:${d.getMinutes()}:${d.getSeconds()}.${`${d.getMilliseconds()}`.padStart(3, '0')}`\n  }\n}\n\nexport const perf = new Performance()\n","/**\n * 一个小型缓存池，用于在切换页面时，存储一些上下文信息\n */\n\nexport class RuntimeCache<T> {\n  name: string\n  cache = new Map<string, T>()\n\n  constructor (name: string) {\n    this.name = name\n  }\n\n  has (identifier: string) {\n    return this.cache.has(identifier)\n  }\n\n  set (identifier: string, ctx: T) {\n    if (identifier && ctx) {\n      this.cache.set(identifier, ctx)\n    }\n  }\n\n  get (identifier: string): T | undefined {\n    if (this.has(identifier)) return this.cache.get(identifier)\n  }\n\n  delete (identifier: string) {\n    this.cache.delete(identifier)\n  }\n}\n","import {\n  getComponentsAlias as _getComponentsAlias,\n  internalComponents,\n  isFunction,\n  Shortcuts\n} from '@tarojs/shared'\n\nimport {\n  CLASS,\n  COMMENT,\n  ID,\n  ROOT_STR,\n  STYLE,\n  UID\n} from '../constants'\nimport { NodeType } from '../dom/node_types'\n\nimport type { TaroElement } from '../dom/element'\nimport type { TaroNode } from '../dom/node'\nimport type { TaroText } from '../dom/text'\nimport type { TFunc } from '../interface'\n\nexport const incrementId = () => {\n  const chatCodes: number[] = []\n  // A-Z\n  for (let i = 65; i <= 90; i++) {\n    chatCodes.push(i)\n  }\n  // a-z\n  for (let i = 97; i <= 122; i++) {\n    chatCodes.push(i)\n  }\n  const chatCodesLen = chatCodes.length - 1\n  const list = [0, 0]\n  return () => {\n    const target = list.map(item => chatCodes[item])\n    const res = String.fromCharCode(...target)\n\n    let tailIdx = list.length - 1\n\n    list[tailIdx]++\n\n    while (list[tailIdx] > chatCodesLen) {\n      list[tailIdx] = 0\n      tailIdx = tailIdx - 1\n      if (tailIdx < 0) {\n        list.push(0)\n        break\n      }\n      list[tailIdx]++\n    }\n\n    return res\n  }\n}\n\nexport function isElement (node: TaroNode): node is TaroElement {\n  return node.nodeType === NodeType.ELEMENT_NODE\n}\n\nexport function isText (node: TaroNode): node is TaroText {\n  return node.nodeType === NodeType.TEXT_NODE\n}\n\nexport function isComment (node: TaroNode): boolean {\n  return node.nodeName === COMMENT\n}\n\nexport function isHasExtractProp (el: TaroElement): boolean {\n  const res = Object.keys(el.props).find(prop => {\n    return !(/^(class|style|id)$/.test(prop) || prop.startsWith('data-'))\n  })\n  return Boolean(res)\n}\n\n/**\n * 往上寻找组件树直到 root，寻找是否有祖先组件绑定了同类型的事件\n * @param node 当前组件\n * @param type 事件类型\n */\nexport function isParentBinded (node: TaroElement | null, type: string): boolean {\n  while ((node = node?.parentElement || null)) {\n    if (!node || node.nodeName === ROOT_STR || node.nodeName === 'root-portal') {\n      return false\n    } else if (node.__handlers[type]?.length) {\n      return true\n    }\n  }\n\n  return false\n}\n\nexport function shortcutAttr (key: string): string {\n  switch (key) {\n    case STYLE:\n      return Shortcuts.Style\n    case ID:\n      return UID\n    case CLASS:\n      return Shortcuts.Class\n    default:\n      return key\n  }\n}\n\nexport const customWrapperCache = new Map<string, Record<string, any>>()\n\ninterface Ctor {\n  new (...args: any[]): any\n}\n\nexport function extend (ctor: Ctor, methodName: string, options: TFunc | Record<string, any>) {\n  if (isFunction(options)) {\n    options = {\n      value: options\n    }\n  }\n  Object.defineProperty(ctor.prototype, methodName, {\n    configurable: true,\n    enumerable: true,\n    ...options\n  })\n}\n\nlet componentsAlias\nexport function getComponentsAlias () {\n  if (!componentsAlias) {\n    componentsAlias = _getComponentsAlias(internalComponents)\n  }\n  return componentsAlias\n}\n\nexport function convertNumber2PX (value: number) {\n  return value + 'px'\n}\n\nexport * from './lodash'\nexport * from './router'\n","export function throttle (fn, threshold = 250, scope?) {\n  let lastTime = 0\n  let deferTimer: ReturnType<typeof setTimeout>\n  return function (...args) {\n    const context = scope || this\n    const now = Date.now()\n    if (now - lastTime > threshold) {\n      fn.apply(this, args)\n      lastTime = now\n    } else {\n      clearTimeout(deferTimer)\n      deferTimer = setTimeout(() => {\n        lastTime = now\n        fn.apply(context, args)\n      }, threshold)\n    }\n  }\n}\n\nexport function debounce (fn, ms = 250, scope?) {\n  let timer: ReturnType<typeof setTimeout>\n\n  return function (...args) {\n    const context = scope || this\n    clearTimeout(timer)\n    timer = setTimeout(function () {\n      fn.apply(context, args)\n    }, ms)\n  }\n}\n","import { taroLocationProvider as location } from '../bom/window'\n\n// export const removeLeadingSlash = (str = '') => str.replace(/^\\.?\\//, '')\n// export const removeTrailingSearch = (str = '') => str.replace(/\\?[\\s\\S]*$/, '')\nexport const addLeadingSlash = (url = '') => (url.charAt(0) === '/' ? url : '/' + url)\n\nexport const hasBasename = (path = '', prefix = '') =>\n  new RegExp('^' + prefix + '(\\\\/|\\\\?|#|$)', 'i').test(path) || path === prefix\n\nexport const stripBasename = (path = '', prefix = '') =>\n  hasBasename(path, prefix) ? path.substring(prefix.length) : path\n\nexport const stripTrailing = (str = '') => str.replace(/[?#][\\s\\S]*$/, '')\n\nexport const stripSuffix = (path = '', suffix = '') =>\n  path.includes(suffix) ? path.substring(0, path.length - suffix.length) : path\n\nexport const getHomePage = (path = '', basename = '', customRoutes: Record<string, string | string[]> = {}, entryPagePath = '') => {\n  const routePath = addLeadingSlash(stripBasename(path, basename))\n  const alias = Object.entries(customRoutes).find(\n    ([key]) => key === routePath\n  )?.[1] || routePath\n  return entryPagePath || (typeof alias === 'string' ? alias : alias[0]) || basename\n}\n\nexport const getCurrentPage = (routerMode = 'hash', basename = '/') => {\n  const pagePath = routerMode === 'hash'\n    ? location.hash.slice(1).split('?')[0]\n    : location.pathname\n  return addLeadingSlash(stripBasename(pagePath, basename))\n}\n","export enum PLATFORM_TYPE {\n  MINI = 'mini',\n  ASCF = 'ascf',\n  WEB = 'web',\n  RN = 'rn',\n  HARMONY = 'harmony',\n  QUICK = 'quickapp',\n}\n\nexport const COMPILE_MODE_IDENTIFIER_PREFIX = 'f'\n\nexport const COMPILE_MODE_SUB_RENDER_FN = 'subRenderFn'\n\nexport const PLATFORM_CONFIG_MAP = {\n  h5: {\n    type: PLATFORM_TYPE.WEB\n  },\n  harmony: {\n    type: PLATFORM_TYPE.HARMONY\n  },\n  ascf: {\n    type: PLATFORM_TYPE.ASCF\n  },\n  mini: {\n    type: PLATFORM_TYPE.MINI\n  },\n  rn: {\n    type: PLATFORM_TYPE.RN\n  },\n  quickapp: {\n    type: PLATFORM_TYPE.QUICK\n  },\n}\n","type EventName = string | symbol\ntype EventCallbacks = Record<EventName, Record<'next' | 'tail', unknown>>\n\nexport class Events {\n  protected callbacks?: EventCallbacks\n  static eventSplitter = ',' // Note: Harmony ACE API 8 开发板不支持使用正则 split 字符串 /\\s+/\n\n  constructor (opts?) {\n    this.callbacks = opts?.callbacks ?? {}\n  }\n\n  on (eventName: EventName, callback: (...args: any[]) => void, context?: any): this {\n    let event: EventName | undefined, tail, _eventName: EventName[]\n    if (!callback) {\n      return this\n    }\n    if (typeof eventName === 'symbol') {\n      _eventName = [eventName]\n    } else {\n      _eventName = eventName.split(Events.eventSplitter)\n    }\n    this.callbacks ||= {}\n    const calls = this.callbacks\n    while ((event = _eventName.shift())) {\n      const list = calls[event]\n      const node: any = list ? list.tail : {}\n      node.next = tail = {}\n      node.context = context\n      node.callback = callback\n      calls[event] = {\n        tail,\n        next: list ? list.next : node\n      }\n    }\n    return this\n  }\n\n  once (events: EventName, callback: (...r: any[]) => void, context?: any): this {\n    const wrapper = (...args: any[]) => {\n      callback.apply(this, args)\n      this.off(events, wrapper, context)\n    }\n\n    this.on(events, wrapper, context)\n\n    return this\n  }\n\n  off (events?: EventName, callback?: (...args: any[]) => void, context?: any) {\n    let event: EventName | undefined, calls: EventCallbacks | undefined, _events: EventName[]\n    if (!(calls = this.callbacks)) {\n      return this\n    }\n    if (!(events || callback || context)) {\n      delete this.callbacks\n      return this\n    }\n    if (typeof events === 'symbol') {\n      _events = [events]\n    } else {\n      _events = events ? events.split(Events.eventSplitter) : Object.keys(calls)\n    }\n    while ((event = _events.shift())) {\n      let node: any = calls[event]\n      delete calls[event]\n      if (!node || !(callback || context)) {\n        continue\n      }\n      const tail = node.tail\n      while ((node = node.next) !== tail) {\n        const cb = node.callback\n        const ctx = node.context\n        if ((callback && cb !== callback) || (context && ctx !== context)) {\n          this.on(event, cb, ctx)\n        }\n      }\n    }\n    return this\n  }\n\n  trigger (events: EventName, ...args: any[]) {\n    let event: EventName | undefined, node, calls: EventCallbacks | undefined, _events: EventName[]\n    if (!(calls = this.callbacks)) {\n      return this\n    }\n    if (typeof events === 'symbol') {\n      _events = [events]\n    } else {\n      _events = events.split(Events.eventSplitter)\n    }\n    while ((event = _events.shift())) {\n      if ((node = calls[event])) {\n        const tail = node.tail\n        while ((node = node.next) !== tail) {\n          node.callback.apply(node.context || this, args)\n        }\n      }\n    }\n    return this\n  }\n}\n","export function isString (o: unknown): o is string {\n  return typeof o === 'string'\n}\n\nexport function isUndefined (o: unknown): o is undefined {\n  return typeof o === 'undefined'\n}\n\nexport function isNull (o: unknown): o is null {\n  return o === null\n}\n\nexport function isObject<T> (o: unknown): o is T {\n  return o !== null && typeof o === 'object'\n}\n\nexport function isBoolean (o: unknown): o is boolean {\n  return o === true || o === false\n}\n\nexport function isFunction (o: unknown): o is (...args: any[]) => any {\n  return typeof o === 'function'\n}\n\nexport function isNumber (o: unknown): o is number {\n  if (Number.isFinite) return Number.isFinite(o)\n  return typeof o === 'number'\n}\n\nexport function isBooleanStringLiteral (o: unknown): o is string {\n  return o === 'true' || o === 'false' || o === '!0' || o === '!1'\n}\n\nexport function isObjectStringLiteral (o: unknown): o is string {\n  return o === '{}'\n}\n\nexport const isArray = Array.isArray\n\nexport const isWebPlatform = () => process.env.TARO_ENV === 'h5' || process.env.TARO_PLATFORM === 'web'\n","import { Events } from './event-emitter'\nimport { isFunction } from './is'\n\nimport type { Shortcuts } from './template'\n\n// Note: @tarojs/runtime 不依赖 @tarojs/taro, 所以不能改为从 @tarojs/taro 引入 (可能导致循环依赖)\ntype TFunc = (...args: any[]) => any\n\nexport enum HOOK_TYPE {\n  SINGLE,\n  MULTI,\n  WATERFALL\n}\n\ninterface Hook {\n  type: HOOK_TYPE\n  initial?: TFunc | null\n}\n\ninterface Node {\n  next: Node\n  context?: any\n  callback?: TFunc\n}\n\ninterface MiniLifecycle {\n  app: [\n    string, /** onLaunch */\n    string, /** onShow */\n    string /** onHide */\n  ]\n  page: [\n    string, /** onLoad */\n    string, /** onUnload */\n    string, /** onReady */\n    string, /** onShow */\n    string, /** onHide */\n    string[], /** others */\n    string[] /** side-effects */\n  ]\n  component: [\n    string, /** attached */\n    string, /** detached */\n  ]\n}\n\ninterface MiniElementData {\n  [Shortcuts.Childnodes]?: MiniData[]\n  [Shortcuts.NodeName]: string\n  [Shortcuts.Class]?: string\n  [Shortcuts.Style]?: string\n  uid?: string\n  sid: string\n  [key: string]: unknown\n}\n\ninterface MiniTextData {\n  [Shortcuts.Text]: string\n  [Shortcuts.NodeName]: string\n}\n\ntype MiniData = MiniElementData | MiniTextData\n\ninterface UpdatePayload {\n  path: string\n  value: string | boolean | (() => MiniData | MiniData[])\n}\n\ntype Target = Record<string, unknown> & { dataset: Record<string, unknown>, id: string }\n\ninterface MpEvent {\n  type: string\n  detail: Record<string, unknown>\n  target: Target\n  currentTarget: Target\n}\n\nconst defaultMiniLifecycle: MiniLifecycle = {\n  app: [\n    'onLaunch',\n    'onShow',\n    'onHide'\n  ],\n  page: [\n    'onLoad',\n    'onUnload',\n    'onReady',\n    'onShow',\n    'onHide',\n    [\n      'onPullDownRefresh',\n      'onReachBottom',\n      'onPageScroll',\n      'onResize',\n      'defer:onTabItemTap', // defer: 需要等页面组件挂载后再调用\n      'onTitleClick',\n      'onOptionMenuClick',\n      'onPopMenuClick',\n      'onPullIntercept',\n      'onAddToFavorites'\n    ],\n    [\n      'onShareAppMessage',\n      'onShareTimeline'\n    ]\n  ],\n  component: [\n    'attached',\n    'detached'\n  ]\n}\n\nexport function TaroHook (type: HOOK_TYPE, initial?: TFunc): Hook {\n  return {\n    type,\n    initial: initial || null\n  }\n}\n\nexport class TaroHooks<T extends Record<string, TFunc> = any> extends Events {\n  hooks: Record<keyof T, Hook>\n\n  constructor (hooks: Record<keyof T, Hook>, opts?) {\n    super(opts)\n    this.hooks = hooks\n    for (const hookName in hooks) {\n      const { initial } = hooks[hookName]\n      if (isFunction(initial)) {\n        this.on(hookName, initial)\n      }\n    }\n  }\n\n  private tapOneOrMany<K extends Extract<keyof T, string>> (hookName: K, callback: T[K] | T[K][]) {\n    const list = isFunction(callback) ? [callback] : callback\n    list.forEach(cb => this.on(hookName, cb))\n  }\n\n  tap<K extends Extract<keyof T, string>> (hookName: K, callback: T[K] | T[K][]) {\n    const hooks = this.hooks\n    const { type, initial } = hooks[hookName]\n    if (type === HOOK_TYPE.SINGLE) {\n      this.off(hookName)\n      this.on(hookName, isFunction(callback) ? callback : callback[callback.length - 1])\n    } else {\n      initial && this.off(hookName, initial)\n      this.tapOneOrMany(hookName, callback)\n    }\n  }\n\n  call<K extends Extract<keyof T, string>> (hookName: K, ...rest: Parameters<T[K]>): ReturnType<T[K]> | undefined {\n    const hook = this.hooks[hookName]\n    if (!hook) return\n\n    const { type } = hook\n\n    const calls = this.callbacks\n    if (!calls) return\n\n    const list = calls[hookName] as { tail: Node, next: Node }\n\n    if (list) {\n      const tail = list.tail\n      let node: Node = list.next\n      let args = rest\n      let res\n\n      while (node !== tail) {\n        res = node.callback?.apply(node.context || this, args)\n        if (type === HOOK_TYPE.WATERFALL) {\n          const params: any = [res]\n          args = params\n        }\n        node = node.next\n      }\n      return res\n    }\n  }\n\n  isExist (hookName: string) {\n    return Boolean(this.callbacks?.[hookName])\n  }\n}\n\ntype ITaroHooks = {\n  /** 小程序端 App、Page 构造对象的生命周期方法名称 */\n  getMiniLifecycle: (defaultConfig: MiniLifecycle) => MiniLifecycle\n  getMiniLifecycleImpl: () => MiniLifecycle\n  /** 解决 React 生命周期名称的兼容问题 */\n  getLifecycle: (instance, lifecyle) => TFunc | Array<TFunc> | undefined\n  /** 提供Hook，为不同平台提供修改生命周期配置 */\n  modifyRecursiveComponentConfig: (defaultConfig:MiniLifecycle, options:any) => any\n  /** 解决百度小程序的模版语法问题 */\n  getPathIndex: (indexOfNode: number) => string\n  /** 解决支付宝小程序分包时全局作用域不一致的问题 */\n  getEventCenter: (EventsClass: typeof Events) => Events\n  isBubbleEvents: (eventName: string) => boolean\n  getSpecialNodes: () => string[]\n  onRemoveAttribute: (element, qualifiedName: string) => boolean\n  /** 用于把 React 同一事件回调中的所有 setState 合并到同一个更新处理中 */\n  batchedEventUpdates: (cb: TFunc) => void\n  /** 用于处理 React 中的小程序生命周期 hooks */\n  mergePageInstance: (prev, next) => void\n  /** 用于修改传递给小程序 Page 构造器的对象 */\n  modifyPageObject: (config: Record<any, any>) => void\n  /** H5 下拉刷新 wrapper */\n  createPullDownComponent: (el, path: string, framework, customWrapper?: any, stampId?: string) => void\n  /** H5 获取原生 DOM 对象 */\n  getDOMNode: (instance) => any\n  /**\n   * @todo: multi\n   * 修改 Taro DOM 序列化数据\n   **/\n  modifyHydrateData:(data: Record<string, any>, node) => void\n  /**\n   * 自定义处理 Taro DOM 序列化数据，如使其脱离 data 树\n   */\n  transferHydrateData: (data: Record<string, any>, element, componentsAlias: Record<string, any>) => void\n  /**\n    * @todo: multi\n    * 修改 Taro DOM 序列化数据\n    **/\n  modifySetAttrPayload: (element, key: string, payload: UpdatePayload, componentsAlias: Record<string, any>) => void\n  /**\n    * @todo: multi\n    * 修改 Taro DOM 序列化数据\n    **/\n  modifyRmAttrPayload: (element, key: string, payload: UpdatePayload, componentsAlias: Record<string, any>) => void\n  /**\n    * @todo: multi\n    * 调用 addEventListener 时触发\n    **/\n  onAddEvent: (type: string, handler, options: any, node) => void\n  /** 用于修改小程序原生事件对象 */\n  modifyMpEvent: (event: MpEvent) => void\n  modifyMpEventImpl: (event: MpEvent) => void\n  /** 用于修改 Taro DOM 事件对象 */\n  modifyTaroEvent: (event, element) => void\n\n  dispatchTaroEvent: (event, element) => void\n  dispatchTaroEventFinish: (event, element) => void\n  modifyTaroEventReturn: (node, event, returnVal) => any\n\n  modifyDispatchEvent: (event, element) => void\n  injectNewStyleProperties: (styleProperties: string[]) => void\n  initNativeApi: (taro: Record<string, any>) => void\n  patchElement: (node) => void\n\n  /** 解 Proxy */\n  proxyToRaw: (proxyObj) => Record<any, any>\n  /** 元素增加事件监听钩子 */\n  modifyAddEventListener: (element, sideEffect: boolean, getComponentsAlias: () => Record<string, any>) => void\n  /** 元素删除事件监听钩子 */\n  modifyRemoveEventListener: (element, sideEffect: boolean, getComponentsAlias: () => Record<string, any>) => void\n  /** 鸿蒙用于监听 memory 等级的钩子 */\n  getMemoryLevel: (level: { level: number }) => void\n}\n\nexport const hooks = new TaroHooks<ITaroHooks>({\n  getMiniLifecycle: TaroHook(HOOK_TYPE.SINGLE, defaultConfig => defaultConfig),\n\n  getMiniLifecycleImpl: TaroHook(HOOK_TYPE.SINGLE, function (this: TaroHooks<ITaroHooks>) {\n    return this.call('getMiniLifecycle', defaultMiniLifecycle)\n  }),\n\n  getLifecycle: TaroHook(HOOK_TYPE.SINGLE, (instance, lifecycle) => instance[lifecycle]),\n\n  modifyRecursiveComponentConfig: TaroHook(HOOK_TYPE.SINGLE, (defaultConfig) => defaultConfig),\n\n  getPathIndex: TaroHook(HOOK_TYPE.SINGLE, indexOfNode => `[${indexOfNode}]`),\n\n  getEventCenter: TaroHook(HOOK_TYPE.SINGLE, Events => new Events()),\n\n  isBubbleEvents: TaroHook(HOOK_TYPE.SINGLE, eventName => {\n    /**\n     * 支持冒泡的事件, 除 支付宝小程序外，其余的可冒泡事件都和微信保持一致\n     * 详见 见 https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html\n     */\n    const BUBBLE_EVENTS = new Set([\n      'touchstart',\n      'touchmove',\n      'touchcancel',\n      'touchend',\n      'touchforcechange',\n      'tap',\n      'longpress',\n      'longtap',\n      'transitionend',\n      'animationstart',\n      'animationiteration',\n      'animationend'\n    ])\n\n    return BUBBLE_EVENTS.has(eventName)\n  }),\n\n  getSpecialNodes: TaroHook(HOOK_TYPE.SINGLE, () => ['view', 'text', 'image']),\n\n  onRemoveAttribute: TaroHook(HOOK_TYPE.SINGLE),\n\n  batchedEventUpdates: TaroHook(HOOK_TYPE.SINGLE),\n\n  mergePageInstance: TaroHook(HOOK_TYPE.SINGLE),\n\n  modifyPageObject: TaroHook(HOOK_TYPE.SINGLE),\n\n  createPullDownComponent: TaroHook(HOOK_TYPE.SINGLE),\n\n  getDOMNode: TaroHook(HOOK_TYPE.SINGLE),\n\n  modifyHydrateData: TaroHook(HOOK_TYPE.SINGLE),\n\n  transferHydrateData: TaroHook(HOOK_TYPE.SINGLE),\n\n  modifySetAttrPayload: TaroHook(HOOK_TYPE.SINGLE),\n\n  modifyRmAttrPayload: TaroHook(HOOK_TYPE.SINGLE),\n\n  onAddEvent: TaroHook(HOOK_TYPE.SINGLE),\n\n  proxyToRaw: TaroHook(HOOK_TYPE.SINGLE, function (proxyObj) {\n    return proxyObj\n  }),\n\n  modifyMpEvent: TaroHook(HOOK_TYPE.MULTI),\n\n  modifyMpEventImpl: TaroHook(HOOK_TYPE.SINGLE, function (this: TaroHooks<ITaroHooks>, e: MpEvent) {\n    try {\n      // 有些小程序的事件对象的某些属性只读\n      this.call('modifyMpEvent', e)\n    } catch (error) {\n      console.warn('[Taro modifyMpEvent hook Error]: ' + error?.message)\n    }\n  }),\n\n  injectNewStyleProperties: TaroHook(HOOK_TYPE.SINGLE),\n\n  modifyTaroEvent: TaroHook(HOOK_TYPE.MULTI),\n\n  dispatchTaroEvent: TaroHook(HOOK_TYPE.SINGLE, (e, node) => {\n    node.dispatchEvent(e)\n  }),\n\n  dispatchTaroEventFinish: TaroHook(HOOK_TYPE.MULTI),\n\n  modifyTaroEventReturn: TaroHook(HOOK_TYPE.SINGLE, () => undefined),\n\n  modifyDispatchEvent: TaroHook(HOOK_TYPE.MULTI),\n\n  initNativeApi: TaroHook(HOOK_TYPE.MULTI),\n\n  patchElement: TaroHook(HOOK_TYPE.MULTI),\n\n  modifyAddEventListener: TaroHook(HOOK_TYPE.SINGLE),\n\n  modifyRemoveEventListener: TaroHook(HOOK_TYPE.SINGLE),\n\n  getMemoryLevel: TaroHook(HOOK_TYPE.SINGLE),\n})\n","import { internalComponents } from './components'\nimport { PLATFORM_CONFIG_MAP, PLATFORM_TYPE } from './constants'\nimport { hooks } from './runtime-hooks'\n\nexport const EMPTY_OBJ: any = {}\n\nexport const EMPTY_ARR = []\n\nexport const noop = (..._: unknown[]) => {}\n\n/**\n * Boxed value.\n *\n * @typeparam T Value type.\n */\nexport interface Box<T> {\n  v: T\n}\n\n/**\n * box creates a boxed value.\n *\n * @typeparam T Value type.\n * @param v Value.\n * @returns Boxed value.\n */\nexport const box = <T>(v: T) => ({ v })\n\n/**\n * box creates a boxed value.\n *\n * @typeparam T Value type.\n * @param b Boxed value.\n * @returns Value.\n */\nexport const unbox = <T>(b: Box<T>) => b.v\n\nexport function toDashed (s: string) {\n  return s.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase()\n}\n\nexport function toCamelCase (s: string) {\n  let camel = ''\n  let nextCap = false\n  for (let i = 0; i < s.length; i++) {\n    if (s[i] !== '-') {\n      camel += nextCap ? s[i].toUpperCase() : s[i]\n      nextCap = false\n    } else {\n      nextCap = true\n    }\n  }\n  return camel\n}\n\nexport const toKebabCase = function (string) {\n  return string.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase()\n}\n\nexport function capitalize (s: string) {\n  return s.charAt(0).toUpperCase() + s.slice(1)\n}\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty\n\nexport const hasOwn = (\n  val: Record<any, any>,\n  key: string | symbol\n) => hasOwnProperty.call(val, key)\n\n/**\n * ensure takes a condition and throw a error if the condition fails,\n * like failure::ensure: https://docs.rs/failure/0.1.1/failure/macro.ensure.html\n * @param condition condition.\n * @param msg error message.\n */\nexport function ensure (condition: boolean, msg: string): asserts condition {\n  if (!condition) {\n    if (process.env.NODE_ENV !== 'production') {\n      const reportIssue = '\\n如有疑问，请提交 issue 至：https://github.com/nervjs/taro/issues'\n      throw new Error(msg + reportIssue)\n    } else {\n      throw new Error(msg)\n    }\n  }\n}\n\nexport function warn (condition: boolean, msg: string) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (condition) {\n      console.warn(`[taro warn] ${msg}`)\n    }\n  }\n}\n\nexport function queryToJson (str) {\n  const dec = decodeURIComponent\n  const qp = str.split('&')\n  const ret = {}\n  let name\n  let val\n  for (let i = 0, l = qp.length, item; i < l; ++i) {\n    item = qp[i]\n    if (item.length) {\n      const s = item.indexOf('=')\n      if (s < 0) {\n        name = dec(item)\n        val = ''\n      } else {\n        name = dec(item.slice(0, s))\n        val = dec(item.slice(s + 1))\n      }\n      if (typeof ret[name] === 'string') { // inline'd type check\n        ret[name] = [ret[name]]\n      }\n\n      if (Array.isArray(ret[name])) {\n        ret[name].push(val)\n      } else {\n        ret[name] = val\n      }\n    }\n  }\n  return ret // Object\n}\n\nlet _uniqueId = 1\nconst _loadTime = (new Date()).getTime().toString()\n\nexport function getUniqueKey () {\n  return _loadTime + (_uniqueId++)\n}\n\nconst cacheData = {}\n\nexport function cacheDataSet (key, val) {\n  cacheData[key] = val\n}\n\nexport function cacheDataGet (key, delelteAfterGet?) {\n  const temp = cacheData[key]\n  delelteAfterGet && delete cacheData[key]\n  return temp\n}\n\nexport function cacheDataHas (key) {\n  return key in cacheData\n}\n\nexport function mergeInternalComponents (components) {\n  Object.keys(components).forEach(name => {\n    if (name in internalComponents) {\n      Object.assign(internalComponents[name], components[name])\n    } else {\n      internalComponents[name] = components[name]\n    }\n  })\n  return internalComponents\n}\n\nexport function getComponentsAlias (origin: typeof internalComponents) {\n  const mapping = {}\n  const viewAttrs = origin.View\n  const extraList = {\n    '#text': {},\n    StaticView: viewAttrs,\n    StaticImage: origin.Image,\n    StaticText: origin.Text,\n    PureView: viewAttrs,\n    CatchView: viewAttrs,\n    ClickView: viewAttrs,\n  }\n  origin = { ...origin, ...extraList }\n  Object.keys(origin)\n    .sort((a, b) => {\n      const reg = /^(Static|Pure|Catch|Click)*(View|Image|Text)$/\n      const isACommonly = reg.test(a)\n      const isBCommonly = reg.test(b)\n      if (isACommonly && isBCommonly) {\n        return a > b ? 1 : -1\n      } else if (isACommonly) {\n        return -1\n      } else if (isBCommonly) {\n        return 1\n      } else {\n        return a >= b ? 1 : -1\n      }\n    })\n    .forEach((key, num) => {\n      const obj = {\n        _num: String(num)\n      }\n      Object.keys(origin[key])\n        .filter(attr => !(/^bind/.test(attr)) && !['focus', 'blur'].includes(attr))\n        .sort()\n        .forEach((attr, index) => {\n          obj[toCamelCase(attr)] = 'p' + index\n        })\n      mapping[toDashed(key)] = obj\n    })\n\n  return mapping\n}\n\nexport function getPlatformType (platform = 'weapp', configNameOrType: string = PLATFORM_TYPE.MINI): PLATFORM_TYPE {\n  if (Object.keys(PLATFORM_CONFIG_MAP).includes(platform)) {\n    configNameOrType = platform\n  }\n  const param = PLATFORM_CONFIG_MAP[configNameOrType] || {}\n  return param.type || configNameOrType\n}\n\nexport function mergeReconciler (hostConfig, hooksForTest?) {\n  const obj = hooksForTest || hooks\n  const keys = Object.keys(hostConfig)\n  keys.forEach(key => {\n    obj.tap(key, hostConfig[key])\n  })\n}\n\nexport function nonsupport (api) {\n  return function () {\n    console.warn(`小程序暂不支持 ${api}`)\n  }\n}\n\nexport function setUniqueKeyToRoute (key: string, obj) {\n  const routerParamsPrivateKey = '__key_'\n  const useDataCacheApis = [\n    'navigateTo',\n    'redirectTo',\n    'reLaunch',\n    'switchTab'\n  ]\n\n  if (useDataCacheApis.indexOf(key) > -1) {\n    const url = obj.url = obj.url || ''\n    const hasMark = url.indexOf('?') > -1\n    const cacheKey = getUniqueKey()\n    obj.url += (hasMark ? '&' : '?') + `${routerParamsPrivateKey}=${cacheKey}`\n  }\n}\n\nexport function indent (str: string, size: number): string {\n  return str.split('\\n')\n    .map((line, index) => {\n      const indent = index === 0 ? '' : Array(size).fill(' ').join('')\n      return indent + line\n    })\n    .join('\\n')\n}\n","const { hooks } = require('@tarojs/runtime')\nconst taro = require('@tarojs/api').default\n\nif (hooks.isExist('initNativeApi')) {\n  hooks.call('initNativeApi', taro)\n}\n\nmodule.exports = taro\nmodule.exports.default = module.exports\n","/* eslint-disable no-undef */\nimport { createRecursiveComponentConfig } from '@tarojs/runtime'\n// @ts-ignore\nComponent(createRecursiveComponentConfig())\n","/* eslint-disable no-undef */\nimport { createRecursiveComponentConfig } from '@tarojs/runtime'\n// @ts-ignore\nComponent(createRecursiveComponentConfig('custom-wrapper'))\n"],"names":["ENV_TYPE","ASCF","WEAPP","SWAN","ALIPAY","TT","QQ","JD","WEB","RN","HARMONY","QUICKAPP","HARMONYHYBRID","getEnv","Chain","constructor","requestParams","interceptors","index","this","proceed","length","Error","nextInterceptor","_getNextInterceptor","nextChain","_getNextChain","p","res","catch","err","Promise","reject","Object","keys","forEach","k","isFunction","Link","interceptor","taroInterceptor","chain","request","filter","concat","assign","addInterceptor","push","cleanInterceptors","interceptorify","promisifyApi","timeoutInterceptor","resolve","timeout","setTimeout","clearTimeout","then","isUndefined","abort","logInterceptor","method","data","url","console","log","Behavior","options","getPreload","current","key","val","preloadData","isObject","defaultDesignWidth","defaultDesignRatio","defaultBaseFontSize","defaultUnitPrecision","defaultTargetUnit","getInitPxTransform","taro","config","designWidth","deviceRatio","baseFontSize","targetUnit","unitPrecision","getPxTransform","size","input","formatSize","rootValue","Number","toFixed","Taro","Current","getCurrentInstance","nextTick","eventCenter","Events","initPxTransform","preload","pxTransform","reactMeta","PageContext","EMPTY_OBJ","R","HOOKS_APP_ID","isClassComponent","component","prototype","_a","displayName","includes","render","isReactComponent","Component","ensureIsArray","item","isArray","setDefaultDescriptor","obj","writable","enumerable","setRouterParams","router","params","query","createTaroHook","lifecycle","fn","React","id","useContext","instRef","useRef","fnRef","useLayoutEffect","inst","getPageInstance","first","create","callback","args","injectPageInstance","list","undefined","useDidHide","useDidShow","useError","useUnhandledRejection","useLaunch","usePageNotFound","useLoad","usePageScroll","usePullDownRefresh","usePullIntercept","useReachBottom","useResize","useUnload","useAddToFavorites","useOptionMenuClick","useSaveExitState","useShareAppMessage","useShareTimeline","useTitleClick","useReady","useRouter","dynamic","useMemo","useTabItemTap","useScope","h$1","ReactDOM$1","Fragment","pageKeyId","incrementId","setReconciler","ReactDOM","hooks","tap","instance","replace","event","defineProperty","value","type","cb","unstable_batchedUpdates","prev","next","prevList","nextList","connectReactPage","Page","inject","node","refs","ref","forwardedRef","reactReduxForwardedRef","createContext","state","hasError","getDerivedStateFromError","error","_b","app","onError","call","message","stack","componentDidCatch","info","process","children","Provider","props","createReactApp","App","react","dom","createElement","appInstanceRef","createRef","appWrapper","appWrapperResolver","appWrapperPromise","getAppInstance","waitAppWrapper","renderReactRoot","appId","container","document","getElementById","appContainer","CONTAINER","appendChild","version","startsWith","root","createRoot","AppWrapper","super","pages","elements","mount","pageComponent","pageWrapper","page","tid","forceUpdate","perf","stop","PAGE_INIT","unmount","idx","findIndex","splice","pop","slice","ONLAUNCH","ONSHOW","ONHIDE","appObj","configurable","onLaunch","$app","taroGlobalData","globalData","descriptors","getOwnPropertyDescriptors","get","set","defineProperties","triggerAppHook","onShow","componentDidShow","onHide","componentDidHide","onUnhandledRejection","onPageNotFound","option","func","Array","apply","hook","taroHooks","View","Text","Button","Input","Image","needPromiseApis","Set","getCanIUseWebp","getSystemInfoSync","platform","platformLower","toLowerCase","getNormalRequest","global","isString","originSuccess","success","originFail","fail","originComplete","complete","requestTask","equipTaskMethodsIntoPromise","processApis","patchNeedPromiseApis","_needPromiseApis","preserved","apis","isOnlyPromisify","api","indexOf","modifyApis","has","originKey","transformMeta","transformResult","hasOwnProperty","nonsupport","task","setUniqueKeyToRoute","modifyAsyncResult","progress","onProgressUpdate","platformKey","handleSyncApis","equipCommonApis","canIUseWebp","getCurrentPages","getApp","env","requirePlugin","link","bind","miniGlobal","getAppInfo","taroVersion","createSelectorQuery","delayRef","createIntersectionObserver","promise","taskMethods","name","raw","methodArgs","initNativeApi","wx","delete","menus","showShareItems","map","cloud","getTabBar","pageCtx","$taroInstances","getRenderer","_c","renderer","_true","_false","_empty","_zero","_object","components","Progress","duration","bindActiveEnd","RichText","space","mode","overflow","Map","polygons","subkey","rotate","skew","setting","bindLabelTap","bindRegionChange","bindPoiTap","bindPolylineTap","bindAbilitySuccess","bindAbilityFailed","bindAuthSuccess","bindInterpolatePoint","bindError","bindAnchorPointTap","lang","bindGetUserInfo","bindContact","bindGetPhoneNumber","bindGetRealTimePhoneNumber","bindChooseAvatar","bindOpenSetting","bindLaunchApp","bindAgreePrivacyAuthorization","Form","bindKeyboardHeightChange","bindNicknameReview","bindSelectionChange","bindKeyboardCompositionStart","bindKeyboardCompositionUpdate","bindKeyboardCompositionEnd","Picker","level","PickerView","bindPickStart","bindPickEnd","Slider","color","Textarea","ScrollView","enhanced","bounces","reverse","clip","padding","bindDragStart","bindDragging","bindDragEnd","bindRefresherPulling","bindRefresherRefresh","bindRefresherRestore","bindRefresherAbort","bindScrollStart","bindScrollEnd","bindRefresherWillRefresh","bindRefresherStatusChange","StickySection","GridView","GridBuilder","bindItemBuild","bindItemDispose","ListView","ListBuilder","StickyHeader","Swiper","SwiperItem","Navigator","target","path","Camera","resolution","bindInitDone","bindScanCode","webp","LivePlayer","bindstatechange","bindfullscreenchange","bindnetstatus","bindAudioVolumeNotify","bindEnterPictureInPicture","bindLeavePictureInPicture","bindCastingUserSelect","bindCastingStateChange","bindCastingInterrupt","Video","title","bindProgress","bindLoadedMetadata","bindControlsToggle","bindSeekComplete","bindAdLoad","bindAdError","bindAdClose","bindAdPlay","Canvas","Ad","CoverView","slot","Editor","placeholder","focus","bindReady","bindFocus","bindBlur","bindInput","bindStatusChange","MatchMedia","width","height","orientation","FunctionalPageNavigator","bindSuccess","bindFail","bindCancel","LivePusher","autopush","muted","beauty","whiteness","aspect","zoom","mirror","animation","bindStateChange","bindNetStatus","bindBgmStart","bindBgmProgress","bindBgmComplete","OfficialAccount","bindLoad","OpenData","NavigationBar","loading","PageMeta","bindResize","bindScroll","bindScrollDone","VoipRoom","openid","AdCustom","PageContainer","show","overlay","position","round","bindBeforeEnter","bindEnter","bindAfterEnter","bindBeforeLeave","bindLeave","bindAfterLeave","bindClickOverlay","ShareElement","mapkey","transform","KeyboardAccessory","RootPortal","enable","ChannelLive","ChannelVideo","autoplay","loop","Snapshot","Span","OpenContainer","transitionType","transitionDuration","closedColor","closedElevation","closeBorderRadius","middleColor","openColor","openElevation","openBorderRadius","DraggableSheet","initialChildSize","minChildSize","maxChildSize","snap","snapSizes","NestedScrollHeader","NestedScrollBody","DoubleTapGestureHandler","ForcePressGestureHandler","HorizontalDragGestureHandler","LongPressGestureHandler","PanGestureHandler","ScaleGestureHandler","TapGestureHandler","VerticalDragGestureHandler","hostConfig","getMiniLifecycle","methods","transferHydrateData","element","componentsAlias","isTransferElement","dataName","setData","toCamelCase","nn","sid","_num","mergeReconciler","mergeInternalComponents","supportedInputTypes","date","datetime","email","month","number","password","range","search","tel","text","time","week","SyncLane","InputContinuousLane","DefaultLane","DiscreteEventPriority","ContinuousEventPriority","DefaultEventPriority","getEventPriority","domEventName","randomKey","Math","random","toString","internalPropsKey","internalInstanceKey","internalContainerInstanceKey","HostRoot","HostComponent","HostText","SuspenseComponent","precacheFiberNode","hostInst","markContainerAsRoot","hostRoot","getInstanceFromNode","tag","getNodeFromInstance","stateNode","getFiberCurrentPropsFromNode","updateFiberProps","updateInputWrapper","oldValue","checked","updateWrapper","updateNamedCousins","warn","rootNode","getToStringValue","isEmptyType","setNodeValue","removeAttribute","isTextInputElement","elem","nodeName","ReactDOMTextareaRestoreControlledState","ReactDOMInputRestoreControlledState","isCheckable","getTracker","_valueTracker","detachTracker","trackValueOnNode","valueField","descriptor","getOwnPropertyDescriptor","currentValue","tracker","getValue","setValue","stopTracking","track","updateValueIfChanged","nextValue","lastValue","IS_NON_DIMENSIONAL","isEventName","s","isEqual","obj1","obj2","keys1","keys2","i","updateProps","oldProps","newProps","updatePayload","getUpdatePayload","updatePropsByPayload","handlers","fixedHandler","newProp","oldProp","PLATFORM_TYPE","setProperty","setHarmonyStyle","isFormElement","FormElement","setEvent","isCapture","endsWith","eventName","compName","capitalize","tagName","internalComponents","removeEventListener","addEventListener","sideEffect","setStyle","style","isNumber","test","convertNumber2PX","_st","hmStyle","setPseudo","set_pseudo_class","setLayer","setAnimation","setAttribute","cssText","newHtml","__html","oldHtml","innerHTML","set_pseudo_after","set_pseudo_before","getPublicInstance","getRootHostContext","getChildHostContext","parentHostContext","prepareForCommit","_","resetAfterCommit","noop","createInstance","_rootContainerInstance","_hostContext","internalInstanceHandle","appendInitialChild","parent","child","finalizeInitialChildren","defaultName","defaultKey","prepareUpdate","shouldSetTextContent","createTextInstance","textNode","createTextNode","scheduleTimeout","cancelTimeout","noTimeout","isPrimaryRenderer","warnsIfNotActing","supportsMutation","supportsPersistence","supportsHydration","beforeActiveInstanceBlur","afterActiveInstanceBlur","preparePortalMount","prepareScopeUpdate","getInstanceFromScope","getCurrentEventPriority","DefaultEventPriority$1","detachDeletedInstance","supportsMicrotasks","scheduleMicrotask","appendChildToContainer","commitTextUpdate","textInst","newText","nodeValue","commitMount","commitUpdate","insertBefore","refChild","insertInContainerBefore","removeChild","removeChildFromContainer","resetTextContent","hideInstance","hideTextInstance","textInstance","unhideInstance","styleProp","display","isBoolean","trim","unhideTextInstance","clearContainer","childNodes","textContent","TaroReconciler","Reconciler","restoreQueue","getTargetInstForInputOrChangeEvent","e","targetInst","mpEvent","detail","getInstIfValueChanged","targetNode","enqueueStateRestore","needsStateRestore","finishEventHandler","controlledComponentsHavePendingUpdates","flushSync","restoreStateIfNeeded","queuedTargets","restoreStateOfTarget","restoreImpl","domElement","internalInstance","ContainerMap","WeakMap","Root","domContainer","initInternalRoot","containerInfo","concurrentUpdatesByDefaultOverride","isStrictMode","identifierPrefix","onRecoverableError","transitionCallbacks","unstable_strictMode","unstable_transitionCallbacks","internalRoot","createContainer","updateContainer","getPublicRootInstance","oldRoot","eventPriority","runWithPriority","dispatchEvent","isInsideEventHandler","a","batchedUpdates","unmountComponentAtNode","ensure","nodeType","findDOMNode","comp","findHostInstance","portalType","Symbol","for","createPortal","$$typeof","String","implementation","TaroURL","createObjectURL","revokeObjectURL","base","_TaroURL_hash","_TaroURL_hostname","_TaroURL_pathname","_TaroURL_port","_TaroURL_protocol","_TaroURL_search","parseResult","parseUrlBase","hash","hostname","pathname","port","protocol","__classPrivateFieldSet","URLSearchParams","__classPrivateFieldGet","host","parseUrl","HEAD_REG","temp","href","origin","searchParams","toJSON","_toRaw","TaroURLProvider","result","PATTERN","matches","match","VALID_URL","fullUrl","parsedBase","TypeError","findReg","plusReg","replaceCharMap","replacer","appendTo","dict","join","addEach","decode","str","decodeURIComponent","encode","encodeURIComponent","_dict","charAt","pairs","split","append","getAll","thisArg","getOwnPropertyNames","AnchorElement","TaroElement","qualifiedName","willSetAttr","TransferElement","_path","TaroDocument","createEvent","DOCUMENT_ELEMENT_NAME","ROOT_STR","TaroRootElement","controlledComponent","A","toUpperCase","createElementNS","_svgNS","TaroText","el","eventSource","querySelector","querySelectorAll","createComment","textnode","COMMENT","defaultView","window","createDocument","doc","documentCreateElement","html","HTML","head","HEAD","body","BODY","APP","documentElement","taroDocumentProvider","taroGetComputedStyleProvider","cache","RuntimeCache","TaroHistory","location","_TaroHistory_location","_TaroHistory_stack","_TaroHistory_cur","_TaroHistory_window","on","_TaroHistory_instances","_TaroHistory_reset","CONTEXT_ACTIONS","INIT","RESTORE","pageId","cur","RECOVER","ctx","DESTORY","go","delta","isNaN","targetIdx","min","max","trigger","back","forward","pushState","replaceState","WeakSet","History","INIT_URL","TaroLocation","_TaroLocation_url","_TaroLocation_noCheckUrl","_TaroLocation_window","_TaroLocation_instances","_TaroLocation_reset","lastHash","generateFullUrl","lastHref","REG","preValue","_TaroLocation_getPreValue","_TaroLocation_checkUrlChange","_TaroLocation_recordHistory","xVal","reload","searchArr","searchStr","_TaroLocation_rollBack","Location","machine","arch","engine","msg","nav","appCodeName","appName","appVersion","cookieEnabled","mimeTypes","onLine","plugins","product","productSub","userAgent","vendor","vendorSub","now","loadTime","performance","Date","getTime","lastTime","_raf","_now","nextTime","_caf","seed","TaroWindow","navigator","requestAnimationFrame","cancelAnimationFrame","getComputedStyle","globalProperties","getOwnPropertySymbols","property","history","initEvent","_location","_history","off","taroWindowProvider","taroLocationProvider","taroHistoryProvider","PROPERTY_THRESHOLD","TARO_RUNTIME","SET_DATA","DOCUMENT_FRAGMENT","ID","UID","CLASS","STYLE","FOCUS","VIEW","STATIC_VIEW","PURE_VIEW","CLICK_VIEW","PROPS","DATASET","OBJECT","VALUE","INPUT","CHANGE","CUSTOM_WRAPPER","TARGET","CURRENT_TARGET","TYPE","CONFIRM","TIME_STAMP","KEY_CODE","TOUCHMOVE","DATE","SET_TIMEOUT","COMPILE_MODE","CATCHMOVE","CATCH_VIEW","ON_LOAD","ON_READY","ON_SHOW","ON_HIDE","OPTIONS","EXTERNAL_CLASSES","EVENT_CALLBACK_RESULT","BEHAVIORS","observers","sidMatches","observerTarget","isConcerned","record","characterData","characterDataOldValue","attributes","attributeOldValue","childList","pendingMuatations","logMutation","observer","records","takeRecords","recordMutation","t","parentNode","subtree","MutationObserver","core","observe","disconnect","ClassList","className","tokenList","token","add","updated","tokens","arguments","checkTokenIsValid","_update","remove","contains","toggle","force","replacement_token","v","returnTrue","treeToArray","predict","array","object","following","firstChild","isElmentTypeValid","nextSibling","parentElement","TaroNode","dataset","Style","_stopPropagation","listeners","__handlers","l","_stop","getAttribute","classList","isElement","propKeys","attrs","hasAttribute","hasAttributes","blur","isPureView","isHasExtractProp","isAnyEventBinded","attributeName","uid","_root","getComponentsAlias","_alias","viewAlias","clickViewAlias","staticViewAlias","catchViewAlias","shortcutAttr","qualifiedNameInCamelCase","payload","qualifiedNameAlias","enqueueUpdate","isOnlyClickBinded","isStaticView","isInterrupt","pureViewAlias","attr","getElementsByTagName","getElementsByClassName","classNames","every","c","cancelable","listener","_end","defaultPrevented","handler","SPECIAL_NODES","alias","valueAlias","extend","methodName","EventSource","removeNode","removeNodeTree","TaroEvent","opts","button","timeStamp","bubbles","Boolean","stopPropagation","stopImmediatePropagation","preventDefault","cacheTarget","currentEle","targetDataset","_d","_e","currentTarget","cacheCurrentTarget","targetElement","_g","_f","_h","domEv","eventsBatch","getEventCBResult","eventHandler","_type","_detail","dispatch","isExist","isParentBinded","catchMove","TaroEventTarget","isOnce","capture","once","wrapper","oldHandler","find","CHILDNODES","nodeId","hydrate","updateChildNodes","isClean","cleanChildNodes","rerenderChildNodes","isComment","updateSingleChild","childIndex","indexOfNode","previousSibling","lastChild","removedNodes","addedNodes","doUpdate","newChild","isReplace","reduceRight","previousValue","cleanRef","childNodesLength","mark","isOnlyChild","replaceChild","oldChild","hasChildNodes","ownerDocument","findCustomWrapper","dataPathArr","customWrapper","currentData","splitedPath","some","customWrapperCache","updatePayloads","updateCallbacks","pendingUpdate","scheduleTask","performUpdate","initRender","prerender","setDataMark","start","resetPaths","shift","normalUpdate","customWrapperMap","found","customWrapperCount","isNeedNormalUpdate","updateArrLen","executeTime","flushUpdateCallback","enqueueUpdateCallback","copies","WEBKIT","styleProperties","combine","prefix","excludeSelf","image","color_style_width","fitlength_fitwidth_image","fitlength_fitwidth_image_radius","color_style_width_fitlength_fitwidth_image","endRadius_startRadius","bottom_left_right_top","end_start","content_items_self","blockSize_height_inlineSize_width","after_before","recordCss","_element","newVal","styleKey","old","_pending","isNull","_usedStyleProp","_value","initStyle","ctor","properties","isCssVariable","propertyName","setCssVariables","texts","styleName","toDashed","prop","removeProperty","rules","rule","propName","valList","getPropertyValue","newStyleProperties","instances","removePageInstance","safeExecute","stringify","getPath","substring","getOnReadyEventKey","getOnShowEventKey","getOnHideEventKey","createPageConfig","pageName","pageConfig","ONLOAD","ONUNLOAD","ONREADY","LIFECYCLES","SIDE_EFFECT_LIFECYCLES","loadResolver","hasLoaded","pageElement","unmounting","prepareMountList","setCurrentRouter","route","__route__","$taroPath","$taroParams","addLeadingSlash","onReady","exitState","uniqueOptions","$taroTimestamp","called","isDefer","exec","eh","createComponentConfig","componentName","componentElement","ATTACHED","DETACHED","pageIdCache","getPageId","createRecursiveComponentConfig","isCustomWrapper","lifeCycles","componentId","extraOptions","virtualHost","compileModeName","isText","propInCamelCase","componentAlias","resData","initPosition","column","line","feedPosition","len","end","char","jumpPosition","copyPosition","whitespace","isWhitespaceChar","equalSign","isEqualSignChar","shouldBeIgnore","skipElements","alphanumeric","findTextEnd","textEnd","isWordEnd","cursor","wordBegin","Scaner","scan","scanText","scanComment","scanTag","scanSkipTag","content","contentEnd","commentEnd","scanTagStart","scanTagName","scanAttrs","scanTagEnd","secondChar","close","firstChar","isTagChar","quote","words","isQuoteEnd","isTagEnd","isQuoteStart","wLen","word","isNotPair","secondWord","newWord","thirdWord","safeTagName","nextTag","unquote","car","LEFT_BRACKET","RIGHT_BRACKET","CLASS_SELECTOR","ID_SELECTOR","CHILD_COMBINATOR","GENERAL_SIBLING_COMBINATOR","ADJACENT_SIBLING_COMBINATOR","StyleTagParser","styles","extractStyle","src","REG_STYLE","$1","stringToSelector","lb","rb","selectors","selectorList","parseSelector","selector","isChild","isGeneralSibling","isAdjacentSibling","class","all","substr","matchStyle","sortStyles","reduce","nextSelector","isMatch","matchCurrent","getPreviousElement","h5tagName","isSiblingMatch","cls","sort","s1","s2","hundreds1","getHundredsWeight","hundreds2","tens1","getTensWeight","tens2","ones1","getOnesWeight","ones2","pre","makeMap","expectsLowerCase","specialMiniElements","img","iframe","internalCompsList","isMiniElements","isInlineElements","isBlockElements","closingTagAncestorBreakers","li","dt","dd","tbody","thead","tfoot","tr","td","hasTerminalParent","tagParents","currentIndex","parentTagName","getTagName","renderHTMLTag","splitEqual","sep","format","styleOptions","transformText","styleTagParser","descendantList","transformElement","parser","parse","fill","nodes","tagToken","shouldRewind","endToken","isClosingTag","closingElements","shouldRewindToAutoClose","previousIndex","attrToken","hasChildren","voidElements","innerState","setInnerHTML","SVGElement","handlePolyfill","TIMEOUT","beginTime","timerFunc","debug","Performance","recorder","_Performance_instances","_Performance_parseTime","delayStop","delay","debounce","d","getHours","getMinutes","getSeconds","getMilliseconds","padStart","identifier","chatCodes","chatCodesLen","fromCharCode","tailIdx","getComponentsAlias$1","throttle","threshold","scope","deferTimer","context","ms","timer","hasBasename","RegExp","stripBasename","stripTrailing","stripSuffix","suffix","getHomePage","basename","customRoutes","entryPagePath","routePath","entries","getCurrentPage","routerMode","pagePath","DEFAULT_EMPTY_ARRAY","NO_DEFAULT_VALUE","DEFAULT_TRUE","DEFAULT_FALSE","touchEvents","bindTouchStart","bindTouchMove","bindTouchEnd","bindTouchCancel","bindLongTap","bindAnimationStart","bindAnimationIteration","bindAnimationEnd","bindTransitionEnd","singleQuote","Icon","MapComp","longitude","latitude","scale","markers","covers","polyline","circles","controls","bindMarkerTap","bindControlTap","bindCalloutTap","bindUpdated","percent","activeColor","backgroundColor","active","selectable","plain","disabled","bindagreeprivacyauthorization","Checkbox","CheckboxGroup","bindChange","bindSubmit","bindReset","maxlength","bindConfirm","Label","fields","bindColumnChange","PickerViewColumn","Radio","RadioGroup","step","bindChanging","Switch","fixed","bindLineChange","CoverImage","MovableArea","MovableView","direction","inertia","x","y","damping","friction","bindScale","bindHTouchMove","bindVTouchMove","bindScrollToUpper","bindScrollToLower","interval","circular","vertical","bindTransition","bindAnimationFinish","bindComplete","Audio","poster","author","bindPlay","bindPause","bindTimeUpdate","bindEnded","flash","bindStop","bindFullScreenChange","bindWaiting","bindClose","WebView","bindMessage","Block","SlotView","Slot","NativeSlot","Script","MINI","QUICK","callbacks","tail","_eventName","eventSplitter","calls","events","_events","o","isFinite","HOOK_TYPE","defaultMiniLifecycle","TaroHook","initial","TaroHooks","hookName","tapOneOrMany","SINGLE","rest","WATERFALL","defaultConfig","getMiniLifecycleImpl","getLifecycle","modifyRecursiveComponentConfig","getPathIndex","getEventCenter","isBubbleEvents","BUBBLE_EVENTS","getSpecialNodes","onRemoveAttribute","batchedEventUpdates","mergePageInstance","modifyPageObject","createPullDownComponent","getDOMNode","modifyHydrateData","modifySetAttrPayload","modifyRmAttrPayload","onAddEvent","proxyToRaw","proxyObj","modifyMpEvent","MULTI","modifyMpEventImpl","injectNewStyleProperties","modifyTaroEvent","dispatchTaroEvent","dispatchTaroEventFinish","modifyTaroEventReturn","modifyDispatchEvent","patchElement","modifyAddEventListener","modifyRemoveEventListener","getMemoryLevel","camel","nextCap","condition","_uniqueId","_loadTime","getUniqueKey","mapping","viewAttrs","extraList","StaticView","StaticImage","StaticText","PureView","CatchView","ClickView","b","reg","isACommonly","isBCommonly","num","hooksForTest","routerParamsPrivateKey","useDataCacheApis","hasMark","cacheKey","require","module","exports"],"sourceRoot":""}