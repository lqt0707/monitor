.PHONY: help install clean build dev test lint format analyze

# é»˜è®¤ç›®æ ‡
help:
	@echo "ğŸ“¦ Monitor SDK æ„å»ºå·¥å…·"
	@echo ""
	@echo "å¯ç”¨å‘½ä»¤:"
	@echo "  make install    - å®‰è£…ä¾èµ–"
	@echo "  make clean      - æ¸…ç†æ„å»ºäº§ç‰©"
	@echo "  make build      - æ„å»ºæ‰€æœ‰æ¨¡å—"
	@echo "  make build-prod - ç”Ÿäº§ç¯å¢ƒæ„å»º"
	@echo "  make dev        - å¼€å‘æ¨¡å¼"
	@echo "  make test       - è¿è¡Œæµ‹è¯•"
	@echo "  make lint       - ä»£ç æ£€æŸ¥"
	@echo "  make format     - ä»£ç æ ¼å¼åŒ–"
	@echo "  make analyze    - æ„å»ºåˆ†æ"
	@echo "  make ci         - CI æ£€æŸ¥"
	@echo ""
	@echo "æ¨¡å—æ„å»º:"
	@echo "  make build-core - æ„å»ºæ ¸å¿ƒæ¨¡å—"
	@echo "  make build-web  - æ„å»º Web æ¨¡å—"
	@echo "  make build-taro - æ„å»º Taro æ¨¡å—"
	@echo "  make dev-web    - Web å¼€å‘æ¨¡å¼"
	@echo "  make dev-taro   - Taro å¼€å‘æ¨¡å¼"

# å®‰è£…ä¾èµ–
install:
	@echo "ğŸ“¦ å®‰è£…ä¾èµ–..."
	npm install

# æ¸…ç†æ„å»ºäº§ç‰©
clean:
	@echo "ğŸ§¹ æ¸…ç†æ„å»ºäº§ç‰©..."
	npm run clean

# æ„å»ºæ‰€æœ‰æ¨¡å—
build:
	@echo "ğŸ”¨ æ„å»ºæ‰€æœ‰æ¨¡å—..."
	npm run build

# ç”Ÿäº§ç¯å¢ƒæ„å»º
build-prod:
	@echo "ğŸš€ ç”Ÿäº§ç¯å¢ƒæ„å»º..."
	npm run build:prod

# æ„å»ºæŒ‡å®šæ¨¡å—
build-core:
	@echo "ğŸ”¨ æ„å»ºæ ¸å¿ƒæ¨¡å—..."
	npm run build:core

build-web:
	@echo "ğŸ”¨ æ„å»º Web æ¨¡å—..."
	npm run build:web

build-taro:
	@echo "ğŸ”¨ æ„å»º Taro æ¨¡å—..."
	npm run build:taro

# å¼€å‘æ¨¡å¼
dev:
	@echo "ğŸš€ å¯åŠ¨å¼€å‘æ¨¡å¼..."
	npm run dev

dev-web:
	@echo "ğŸš€ å¯åŠ¨ Web å¼€å‘æ¨¡å¼..."
	npm run dev:web

dev-taro:
	@echo "ğŸš€ å¯åŠ¨ Taro å¼€å‘æ¨¡å¼..."
	npm run dev:taro

dev-core:
	@echo "ğŸš€ å¯åŠ¨æ ¸å¿ƒæ¨¡å—å¼€å‘æ¨¡å¼..."
	npm run dev:core

# æµ‹è¯•
test:
	@echo "ğŸ§ª è¿è¡Œæµ‹è¯•..."
	npm run test

# ä»£ç æ£€æŸ¥
lint:
	@echo "ğŸ” ä»£ç æ£€æŸ¥..."
	npm run lint

lint-check:
	@echo "ğŸ” ä»£ç æ£€æŸ¥ (åªæ£€æŸ¥)..."
	npm run lint:check

# ä»£ç æ ¼å¼åŒ–
format:
	@echo "âœ¨ ä»£ç æ ¼å¼åŒ–..."
	npm run format

format-check:
	@echo "âœ¨ ä»£ç æ ¼å¼æ£€æŸ¥..."
	npm run format:check

# æ„å»ºåˆ†æ
analyze:
	@echo "ğŸ“Š æ„å»ºåˆ†æ..."
	npm run analyze

analyze-web:
	@echo "ğŸ“Š Web æ¨¡å—åˆ†æ..."
	npm run analyze:web

analyze-taro:
	@echo "ğŸ“Š Taro æ¨¡å—åˆ†æ..."
	npm run analyze:taro

# æ„å»ºå¤§å°æ£€æŸ¥
size:
	@echo "ğŸ“ æ£€æŸ¥æ„å»ºå¤§å°..."
	npm run size

# CI æ£€æŸ¥
ci:
	@echo "ğŸ”„ CI æ£€æŸ¥..."
	npm run ci

# å‘å¸ƒå‡†å¤‡
prepare-release: clean build-prod test
	@echo "ğŸ‰ å‘å¸ƒå‡†å¤‡å®Œæˆ!"

# å¿«é€Ÿå¼€å§‹
quick-start: install build
	@echo "ğŸš€ å¿«é€Ÿå¼€å§‹å®Œæˆ!"
	@echo "ğŸ’¡ è¿è¡Œ 'make dev' å¼€å§‹å¼€å‘"