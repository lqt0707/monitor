# ğŸ“‹ SDKå‘å¸ƒæ£€æŸ¥æ¸…å•

åœ¨å‘å¸ƒSDKä¹‹å‰ï¼Œè¯·ç¡®ä¿å®Œæˆä»¥ä¸‹æ£€æŸ¥é¡¹ç›®ï¼š

## ğŸ”‘ èº«ä»½éªŒè¯é…ç½®

- [ ] **npmè´¦å·è®¾ç½®**
  - [ ] å·²ç™»å½•npm: `npm whoami`
  - [ ] æœ‰ `@error-monitor` ç»„ç»‡æƒé™
  - [ ] æˆ–è€…å·²åˆ›å»ºè‡ªå·±çš„npmç»„ç»‡

- [ ] **GitHub Secretsé…ç½®**
  - [ ] åœ¨ä»“åº“ `Settings > Secrets and variables > Actions` ä¸­æ·»åŠ äº† `NPM_TOKEN`
  - [ ] `NPM_TOKEN` æœ‰ `publish` æƒé™

## ğŸ“¦ åŒ…é…ç½®æ£€æŸ¥

- [ ] **åŒ…åç§°ä¸€è‡´æ€§**
  - [ ] ä¸»åŒ…: `@error-monitor/sdk`
  - [ ] æ ¸å¿ƒåŒ…: `@error-monitor/core`
  - [ ] WebåŒ…: `@error-monitor/web-sdk`
  - [ ] TaroåŒ…: `@error-monitor/taro-sdk`

- [ ] **ç‰ˆæœ¬å·ä¸€è‡´æ€§**
  - [ ] æ‰€æœ‰åŒ…çš„ç‰ˆæœ¬å·ç›¸åŒ
  - [ ] ç‰ˆæœ¬å·æ ¼å¼æ­£ç¡® (å¦‚: `1.1.0`)

- [ ] **package.jsoné…ç½®**
  - [ ] `main`, `module`, `types` å­—æ®µæ­£ç¡®
  - [ ] `files` å­—æ®µåŒ…å«å¿…è¦çš„æ„å»ºäº§ç‰©
  - [ ] `exports` å­—æ®µé…ç½®æ­£ç¡®

## ğŸ”¨ æ„å»ºéªŒè¯

- [ ] **æ„å»ºäº§ç‰©æ£€æŸ¥**
  - [ ] `npm run build:prod` æ‰§è¡ŒæˆåŠŸ
  - [ ] `core/dist/index.js` å­˜åœ¨
  - [ ] `web-core/dist/index.js` å­˜åœ¨
  - [ ] `taro-core/dist/index.js` å­˜åœ¨
  - [ ] `dist/index.js` å­˜åœ¨

- [ ] **ç±»å‹æ£€æŸ¥**
  - [ ] `npm run test:types` é€šè¿‡
  - [ ] æ— TypeScriptç¼–è¯‘é”™è¯¯

- [ ] **æµ‹è¯•é€šè¿‡**
  - [ ] `npm test` æ‰§è¡ŒæˆåŠŸ
  - [ ] æ„å»ºæµ‹è¯•é€šè¿‡

## âš™ï¸ GitHub Actionsé…ç½®

- [ ] **å·¥ä½œæµæ–‡ä»¶**
  - [ ] `.github/workflows/auto-publish.yml` å­˜åœ¨
  - [ ] `.github/workflows/build-and-publish.yml` å­˜åœ¨

- [ ] **è§¦å‘æ¡ä»¶**
  - [ ] æ¨é€åˆ° `main` åˆ†æ”¯æ—¶è§¦å‘
  - [ ] ä¿®æ”¹ `sdk/` ç›®å½•æ—¶è§¦å‘
  - [ ] æ”¯æŒæ‰‹åŠ¨è§¦å‘ (`workflow_dispatch`)

## ğŸ“š æ–‡æ¡£å‡†å¤‡

- [ ] **READMEæ–‡ä»¶**
  - [ ] å®‰è£…è¯´æ˜æ­£ç¡®
  - [ ] ä½¿ç”¨ç¤ºä¾‹å®Œæ•´
  - [ ] APIæ–‡æ¡£æ¸…æ™°

- [ ] **å˜æ›´æ—¥å¿—**
  - [ ] `CHANGELOG.md` åŒ…å«æœ€æ–°ç‰ˆæœ¬ä¿¡æ¯
  - [ ] å˜æ›´è¯´æ˜è¯¦ç»†

## ğŸš€ å‘å¸ƒæµç¨‹

### 1. æ›´æ–°ç‰ˆæœ¬å·

```bash
cd sdk
npm run version:bump minor  # æˆ–å…¶ä»–ç‰ˆæœ¬ç±»å‹
```

### 2. éªŒè¯æ„å»º

```bash
npm run clean:all
npm run build:prod
npm test
```

### 3. æäº¤ä»£ç 

```bash
git add .
git commit -m "ğŸš€ å‘å¸ƒç‰ˆæœ¬ 1.1.0"
git push origin main
```

### 4. ç›‘æ§å‘å¸ƒçŠ¶æ€

- è®¿é—® GitHub Actions é¡µé¢
- æ£€æŸ¥å·¥ä½œæµæ‰§è¡ŒçŠ¶æ€
- éªŒè¯npmåŒ…å‘å¸ƒæˆåŠŸ

## ğŸ” å‘å¸ƒåéªŒè¯

- [ ] **npmåŒ…æ£€æŸ¥**
  - [ ] ä¸»åŒ… `@error-monitor/sdk` å¯å®‰è£…
  - [ ] å­åŒ… `@error-monitor/core` å¯å®‰è£…
  - [ ] å­åŒ… `@error-monitor/web-sdk` å¯å®‰è£…
  - [ ] å­åŒ… `@error-monitor/taro-sdk` å¯å®‰è£…

- [ ] **GitHub Release**
  - [ ] è‡ªåŠ¨åˆ›å»ºäº†ç‰ˆæœ¬å‘å¸ƒ
  - [ ] å‘å¸ƒè¯´æ˜å®Œæ•´
  - [ ] å˜æ›´æ—¥å¿—å·²æ›´æ–°

## ğŸš¨ å¸¸è§é—®é¢˜

### æ„å»ºå¤±è´¥

- æ£€æŸ¥TypeScriptç¼–è¯‘é”™è¯¯
- éªŒè¯ä¾èµ–æ˜¯å¦æ­£ç¡®å®‰è£…
- æŸ¥çœ‹æ„å»ºæ—¥å¿—ä¸­çš„å…·ä½“é”™è¯¯

### å‘å¸ƒå¤±è´¥

- ç¡®è®¤ `NPM_TOKEN` å·²æ­£ç¡®é…ç½®
- æ£€æŸ¥npmåŒ…åæ˜¯å¦å¯ç”¨
- éªŒè¯ç‰ˆæœ¬å·æ ¼å¼æ˜¯å¦æ­£ç¡®

### ç‰ˆæœ¬æ£€æµ‹å¤±è´¥

- ç¡®ä¿ `package.json` ä¸­çš„ç‰ˆæœ¬å·æ ¼å¼æ­£ç¡®
- æ£€æŸ¥Gitæäº¤å†å²æ˜¯å¦å®Œæ•´

## ğŸ“ ç´§æ€¥å¤„ç†

å¦‚æœè‡ªåŠ¨å‘å¸ƒå¤±è´¥ï¼Œå¯ä»¥æ‰‹åŠ¨æ‰§è¡Œï¼š

```bash
cd sdk
npm run build:prod
npm publish

cd core
npm publish

cd ../web-core
npm publish

cd ../taro-core
npm publish
```

---

**é‡è¦æé†’**: å‘å¸ƒå‰è¯·ä»”ç»†æ£€æŸ¥æ‰€æœ‰é¡¹ç›®ï¼Œç¡®ä¿é…ç½®æ­£ç¡®ï¼
